function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var arrayLikeToArray=createCommonjsModule(function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n},e.exports["default"]=e.exports,e.exports.__esModule=!0});unwrapExports(arrayLikeToArray);var arrayWithoutHoles=createCommonjsModule(function(e){e.exports=function(e){if(Array.isArray(e))return arrayLikeToArray(e)},e.exports["default"]=e.exports,e.exports.__esModule=!0});unwrapExports(arrayWithoutHoles);var iterableToArray=createCommonjsModule(function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports["default"]=e.exports,e.exports.__esModule=!0});unwrapExports(iterableToArray);var unsupportedIterableToArray=createCommonjsModule(function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?arrayLikeToArray(e,t):void 0}},e.exports["default"]=e.exports,e.exports.__esModule=!0});unwrapExports(unsupportedIterableToArray);var nonIterableSpread=createCommonjsModule(function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports["default"]=e.exports,e.exports.__esModule=!0});unwrapExports(nonIterableSpread);var toConsumableArray=createCommonjsModule(function(e){e.exports=function(e){return arrayWithoutHoles(e)||iterableToArray(e)||unsupportedIterableToArray(e)||nonIterableSpread()},e.exports["default"]=e.exports,e.exports.__esModule=!0}),_toConsumableArray=unwrapExports(toConsumableArray);function h(e,t){for(var o=[],n=[],s=arguments.length;2<s--;)o.push(arguments[s]);for(;o.length;){var a=o.pop();if(a&&a.pop)for(s=a.length;s--;)o.push(a[s]);else null!=a&&!0!==a&&!1!==a&&n.push(a)}return"function"==typeof e?e(t||{},n):{nodeName:e,attributes:t||{},children:n,key:t&&t.key}}function app(e,t,o,n){function s(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:k.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:s(e)})}}function a(e){return"function"==typeof e?a(e(I,E)):null==e?"":e}function i(){b=!b;var e=a(o);for(n&&!b&&(j=f(n,j,w,w=e)),L=!1;_.length;)_.pop()()}function l(){b||(b=!0,setTimeout(i))}function r(e,t){var o={};for(var n in e)o[n]=e[n];for(var n in t)o[n]=t[n];return o}function c(e,t,o){var n={};return e.length?(n[e[0]]=1<e.length?c(e.slice(1),t,o[e[0]]):t,r(o,n)):t}function d(e,t){for(var o=0;o<e.length;)t=t[e[o++]];return t}function p(e,t,o){for(var n in o)"function"==typeof o[n]?function(n,s){o[n]=function(n){var a=s(n);return"function"==typeof a&&(a=a(d(e,I),o)),a&&a!==(t=d(e,I))&&!a.then&&l(I=c(e,r(t,a),I)),a}}(n,o[n]):p(e.concat(n),t[n]=r(t[n]),o[n]=r(o[n]));return o}function u(e){return e?e.key:null}function g(e){return e.currentTarget.events[e.type](e)}function h(e,t,o,n,s){if("key"===t);else if("style"!==t)"o"===t[0]&&"n"===t[1]?(t=t.slice(2),e.events?!n&&(n=e.events[t]):e.events={},e.events[t]=o,o?!n&&e.addEventListener(t,g):e.removeEventListener(t,g)):t in e&&"list"!==t&&"type"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!s?e[t]=null==o?"":o:null!=o&&!1!==o&&e.setAttribute(t,o),(null==o||!1===o)&&e.removeAttribute(t);else if("string"==typeof o)e.style.cssText=o;else for(var a in"string"==typeof n&&(n=e.style.cssText=""),r(n,o)){var i=null==o||null==o[a]?"":o[a];"-"===a[0]?e.style.setProperty(a,i):e.style[a]=i}}function m(e,t){var o="string"==typeof e||"number"==typeof e?document.createTextNode(e):(t=t||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),n=e.attributes;if(n){n.oncreate&&_.push(function(){n.oncreate(o)});for(var s=0;s<e.children.length;s++)o.appendChild(m(e.children[s]=a(e.children[s]),t));for(var l in n)h(o,l,n[l],null,t)}return o}function x(e,t,o,n){for(var s in r(t,o))o[s]!==("value"==s||"checked"===s?e[s]:t[s])&&h(e,s,o[s],t[s],n);var a=L?o.oncreate:o.onupdate;a&&_.push(function(){a(e,t)})}function v(e,t){var o=t.attributes;if(o){for(var n=0;n<t.children.length;n++)v(e.childNodes[n],t.children[n]);o.ondestroy&&o.ondestroy(e)}return e}function y(e,t,o){function n(){e.removeChild(v(t,o))}var s=o.attributes&&o.attributes.onremove;s?s(t,n):n()}function f(e,t,o,n,s){if(n===o);else if(null==o||o.nodeName!==n.nodeName){var l=m(n,s);e.insertBefore(l,t),null!=o&&y(e,t,o),t=l}else if(null==o.nodeName)t.nodeValue=n;else{x(t,o.attributes,n.attributes,s=s||"svg"===n.nodeName);for(var r={},c={},d=[],p=o.children,g=n.children,h=0;h<p.length;h++){d[h]=t.childNodes[h];var v=u(p[h]);null!=v&&(r[v]=[d[h],p[h]])}for(var h=0,b=0;b<g.length;){var v=u(p[h]),j=u(g[b]=a(g[b]));if(c[v]){h++;continue}if(null!=j&&j===u(p[h+1])){null==v&&y(t,d[h],p[h]),h++;continue}if(null==j||L)null==v&&(f(t,d[h],p[h],g[b],s),b++),h++;else{var w=r[j]||[];v===j?(f(t,w[0],w[1],g[b],s),h++):w[0]?f(t,t.insertBefore(w[0],d[h]),w[1],g[b],s):f(t,d[h],null,g[b],s),c[j]=g[b],b++}}for(;h<p.length;)null==u(p[h])&&y(t,d[h],p[h]),h++;for(var h in r)c[h]||y(t,r[h][0],r[h][1])}return t}var b,k=[].map,j=n&&n.children[0]||null,w=j&&s(j),_=[],L=!0,I=r(e),E=p([],I,r(t));return l(),E}var unitValue=function(e,t){return"number"==typeof e?"".concat(e,"px"):!1===e?t:e},boxPropNames={grow:function(e){return{flexGrow:e}},shrink:function(e){return{flexShrink:e}},basis:function(e){return{flexBasis:unitValue(e,"auto")}},align:function(e){return{alignItems:e}},justify:function(e){return{justifyContent:e}},padding:function(e){return{margin:unitValue(e,"0")}},margin:function(e){return{margin:unitValue(e,"0")}}},Element$1=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],o=e["class"]instanceof Array?e["class"]:[e["class"]],n=["osjs-gui"].concat(_toConsumableArray(o));e.orientation&&n.push("osjs-gui-"+e.orientation);var s="string"==typeof e.style?{}:Object.assign({},e.style||{}),a=Object.keys(e).reduce(function(t,o){var n=boxPropNames[o]?boxPropNames[o](e[o]):void 0;return Object.assign({},t,n)},s);return h("div",{oncreate:e.oncreate,ondestroy:e.ondestroy,class:n.filter(function(e){return!!e}).join(" "),style:a},t)},Box=function(e,t){return h(Element$1,Object.assign({orientation:"horizontal"},e,{class:["osjs-gui-box",e["class"]]}),t)},BoxContainer=function(e,t){return h(Element$1,Object.assign({},e,{class:["osjs-gui-box-container",e["class"]]}),t)},BoxStyled=function(e,t){return h(Element$1,Object.assign({},e,{class:["osjs-gui-box-styled",e["class"]]}),t)},_typeof_1=createCommonjsModule(function(e){function t(o){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),t(o)}e.exports=t,e.exports["default"]=e.exports,e.exports.__esModule=!0}),_typeof=unwrapExports(_typeof_1),Icon=function(e){var t=e&&"object"===_typeof(e)?e.src:e,o=e&&"object"===_typeof(e)?e.name:void 0;return h("i",{"data-icon":o,class:"osjs-icon",style:{backgroundImage:"string"==typeof e?"url(".concat(t,")"):void 0}})},defineProperty=createCommonjsModule(function(e){function t(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}e.exports=t,e.exports["default"]=e.exports,e.exports.__esModule=!0}),_defineProperty=unwrapExports(defineProperty),filteredProps=function(e,t){var o=Object.keys(e);return o.filter(function(e){return-1===t.indexOf(e)}).reduce(function(t,o){return Object.assign(_defineProperty({},o,e[o]),t)},{})},doubleTap=function(){var e,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:250,o=!1;return function(n,s){return(e=clearTimeout(e),e=setTimeout(function(){return o=!1},t),o)?(n.preventDefault(),s(n)):(o=!0,!1)}},createField=function(e,t,o,n,s){var a=t.oninput||function(){},i=t.onchange||function(){},l=t.onkeydown||function(){},r=s||function(e){return[e.target.value]},c=Object.assign({oninput:function(e){return a.apply(void 0,[e].concat(_toConsumableArray(r(e))))},onchange:function(e){return i.apply(void 0,[e].concat(_toConsumableArray(r(e))))},onkeydown:function(e){13===e.keyCode&&t.onenter&&t.onenter.apply(t,[e].concat(_toConsumableArray(r(e)))),l(e)}},o,filteredProps(t,["choices","label","box","oninput","onchange"]));return h(Element$1,Object.assign({},t.box||{},{class:"osjs-gui-field osjs-gui-"+e}),n(c))},Button=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return createField("button",e,{},function(o){var n=[];return e.icon&&n.push(h(Icon,e.icon)),"string"==typeof e.label&&n.push(h("span",{class:"osjs-label"},e.label)),h("button",o,[].concat(n,_toConsumableArray(t)))})},Progressbar=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],o="number"==typeof e.value?Math.min(100,Math.max(0,Math.abs(e.value))):0,n=h("div",{class:"osjs-gui-progressbar-wrapper"},[h("div",{className:"osjs-gui-progressbar-value",style:{width:o+""+"%"}}),h("div",{className:"osjs-gui-progressbar-label"},[h("span",{},[o+""+"%"])])]);return h(Element$1,Object.assign({},e.box||{},{class:["osjs-gui-progressbar",e["class"]]}),[n].concat(_toConsumableArray(t)))},ul=function e(t){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,s=function(e){var t=[];return"checkbox"===e.type||"boolean"==typeof e.checked?t.push(h("span",{class:"osjs-gui-menu-checkbox "+(e.checked?"active":"")})):e.icon&&t.push(h(Icon,e.icon)),t.push(h("span",{},e.label)),t},a=function(t,o){if("function"==typeof o.element)return o.element();var a="separator"===o.type?"osjs-gui-menu-separator":"osjs-gui-menu-label "+(o.disabled?"osjs__disabled":""),i=[h("span",{class:a},s(o))];return o.items&&i.push(e(t,o.items,n+1)),i};return h("ul",{class:""},o.map(function(e){return h("li",{class:"osjs-gui-menu-entry"},[h("div",{class:"osjs-gui-menu-container","data-has-image":!!e.icon||void 0,"data-has-children":!!e.items||void 0,onmouseover:e.items?t.onshow:void 0,ontouchend:e.items?t.onshow:void 0,onclick:function(o){e.items||(e.onclick&&e.onclick(e,o),t.onclick&&t.onclick(e,o,e))}},a(t,e))])}))},Menu=function(e){return h("div",{id:"osjs-context-menu",className:"osjs-gui osjs-gui-menu",oncreate:e.oncreate,onupdate:e.onupdate,style:{display:!1===e.visible?"none":"block",top:e.position?e.position.top+""+"px":0,left:e.position?e.position.left+""+"px":0}},ul(e,e.menu))},Toolbar=function(e,t){return h(Element$1,Object.assign({orientation:"vertical"},e,{class:["osjs-gui-toolbar",e["class"]]}),t)},Statusbar=function(e,t){return h(Element$1,Object.assign({},e.box||{},{class:["osjs-gui-statusbar",e["class"]]}),t)},MenubarItem=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],o=e.onclick,n=e.data;return h("div",{onclick:function(e){if("function"==typeof o){var t=e.target.parentNode,s=Array.prototype.indexOf.call(t.children,e.target);o(e,n||{},s)}}},h("span",{},t))},Menubar=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return h(Element$1,Object.assign({},e,{class:["osjs-gui-menubar",e["class"]]}),[].concat(_toConsumableArray((e.items||[]).map(function(t){return h(MenubarItem,{data:t.data,onclick:t.onclick||e.onclick},t.label)})),_toConsumableArray(t)))};function nestable(e,t,o,n){return t._$r=function(){return{}},function(s,a){return h(n||"x-",{key:s.key,id:s.id,class:s.class,oncreate:function(n){var i=app(e,t,function(e,t){var s=o(e,t);return"function"==typeof s&&(s=s(n._$p,n._$c)),s},n);n._$p=s,n._$c=a,n._$r=i._$r,n._$u=i.uninit,i.init&&i.init(s),s.oncreate&&s.oncreate(n)},onupdate:function(e){e._$p=s,e._$c=a,e._$r(),s.onupdate&&s.onupdate(e)},ondestroy:function(e){e._$u&&e._$u()},onremove:function(e,t){return s.onremove?void s.onremove(e,t):t()}})}}var _onmousedown=function(e,t,o){var n=Math.min,s=e.target,a=e.clientX,i=e.clientY,l=s.previousSibling,r=l.offsetWidth,c=l.offsetHeight,d=Array.from(s.parentNode.children).indexOf(l),p=.8*l.parentNode.offsetWidth,u=.8*l.parentNode.offsetHeight;if(!(0>d)){var g=function(e){e.preventDefault();var s="vertical"===o?r:c;if("vertical"===o){var l=e.clientX-a;s=n(p,s+l)}else{var g=e.clientY-i;s=n(u,s+g)}t.setSize({index:d,size:s})},h=function e(t){t.preventDefault(),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",e)};e.preventDefault(),document.addEventListener("mousemove",g),document.addEventListener("mouseup",h)}},panes=function(e,t,o,n){var s=Array(Math.ceil(o.length/2)).fill(null).map(function(){return h("div",{class:"osjs-gui-panes-spacer",onmousedown:function(e){return _onmousedown(e,t,n)}})});return o.map(function(t,o){var n=e.sizes[o]?e.sizes[o]+""+"px":void 0;return h("div",{class:"osjs-gui-panes-pane",style:{flex:n?"0 0 ".concat(n):n}},t)}).map(function(e,t){return[e,s[t]]}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return"undefined"!=typeof e})},view=function(e,t){return function(o,n){var s=o.orientation||"vertical";return h(Element$1,{orientation:s,class:"osjs-gui-panes-inner"},panes(e,t,n,s))}},inner=nestable({sizes:[]},{init:function(e){return{sizes:e.sizes||[150]}},setSize:function(e){var t=e.index,o=e.size;return function(e){var n=[].concat(e.sizes);return n[t]=o,{sizes:n}}}},view,"div"),Panes=function(e,t){return h(inner,{class:"osjs-gui-panes"},t)},tapper=doubleTap(),createView=function(e){var t,o=function(t){return function(o,n){var s=o.columns[t]||{},a=e.selectedIndex===n,i=s.icon?h(Icon,s.icon):null,l=[h("span",{},["object"===_typeof(s)?s.label:s])];return i&&l.unshift(i),h("div",{key:o.key,"data-has-icon":!!s.icon||void 0,class:"osjs-gui-list-view-cell"+(a?" osjs__active":""),ontouchstart:function(t){return tapper(t,function(){return e.onactivate({data:o.data,index:n,ev:t})})},ondblclick:function(t){return e.onactivate({data:o.data,index:n,ev:t})},onclick:function(t){return e.onselect({data:o.data,index:n,ev:t})},oncontextmenu:function(t){return e.oncontextmenu({data:o.data,index:n,ev:t})},oncreate:function(t){return e.oncreate({data:o.data,index:n,el:t})}},l)}},n=function(t,n){return h("div",{class:"osjs-gui-list-view-pane",style:n.style||{}},[h("div",{class:"osjs-gui-list-view-header",style:{display:e.hideColumns?"none":void 0}},h("span",{},"object"===_typeof(n)?n.label:n)),h("div",{class:"rows","data-zebra":e.zebra+""},e.rows.map(o(t)))])};return h("div",{class:"osjs-gui-list-view-wrapper",onscroll:function(o){t=clearTimeout(t),t=setTimeout(function(){e.onscroll(o)},100)},oncreate:function(t){return t.scrollTop=e.scrollTop},onupdate:function(t){0>e.selectedIndex&&(t.scrollTop=e.scrollTop)}},e.columns.map(function(e,t){return n(t,e)}))},ListView=function(e){return h(Element$1,Object.assign({class:"osjs-gui-list-view"},e.box||{}),createView(filteredProps(e,["box"])))},listView={component:function(e,t){var o=Object.assign({zebra:!0,columns:[],rows:[],onselect:function(e){var o=e.data,n=e.index,s=e.ev;t.select({data:o,index:n,ev:s}),t.setSelectedIndex(n)},onactivate:function(e){var o=e.data,n=e.index,s=e.ev;t.activate({data:o,index:n,ev:s}),t.setSelectedIndex(-1)},oncontextmenu:function(e){var o=e.data,n=e.index,s=e.ev;t.select({data:o,index:n,ev:s}),t.contextmenu({data:o,index:n,ev:s}),t.setSelectedIndex(n)},oncreate:function(e){t.created(e)},onscroll:function(e){t.scroll(e)}},e);return function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return ListView(Object.assign(o,e))}},state:function(e){return Object.assign({selectedIndex:-1,scrollTop:0},e)},actions:function(e){return Object.assign({select:function(){return function(){return{}}},activate:function(){return function(){return{}}},contextmenu:function(){return function(){return{}}},created:function(){return function(){return{}}},scroll:function(){return function(e){return e}},setRows:function(e){return{rows:e}},setColumns:function(e){return{columns:e}},setScrollTop:function(e){return function(){return{scrollTop:e}}},setSelectedIndex:function(e){return function(){return{selectedIndex:e}}}},e||{})}},tapper$1=doubleTap(),IconViewEntry=function(e,t,o){return function(){var n=e.icon||{name:"application-x-executable"},s=o.selectedIndex===t;return h("div",{class:"osjs-gui-icon-view-entry"+(s?" osjs__active":""),ontouchstart:function(n){return tapper$1(n,function(){return o.onactivate({data:e.data,index:t,ev:n})})},ondblclick:function(n){return o.onactivate({data:e.data,index:t,ev:n})},onclick:function(n){return o.onselect({data:e.data,index:t,ev:n})},oncontextmenu:function(n){return o.oncontextmenu({data:e.data,index:t,ev:n})},oncreate:function(n){return o.oncreate({data:e.data,index:t,el:n})}},[h("div",{class:"osjs__container"},[h("div",{class:"osjs__image"},[h(Icon,n)]),h("div",{class:"osjs__label"},[h("span",{},e.label)])])])}},IconView=function(e){var t=h("div",{class:"osjs-gui-icon-view-wrapper",oncreate:function(t){return t.scrollTop=e.scrollTop},onupdate:function(t){0>e.selectedIndex&&(t.scrollTop=e.scrollTop)}},e.entries.map(function(t,o){return h(IconViewEntry(t,o,e))}));return h(Element$1,Object.assign({class:"osjs-gui-icon-view"},e.box||{}),t)},iconView={component:function(e,t){var o=Object.assign({entries:[],onselect:function(e){var o=e.data,n=e.index,s=e.ev;t.select({data:o,index:n,ev:s}),t.setSelectedIndex(n)},onactivate:function(e){var o=e.data,n=e.index,s=e.ev;t.activate({data:o,index:n,ev:s}),t.setSelectedIndex(-1)},oncontextmenu:function(e){var o=e.data,n=e.index,s=e.ev;t.select({data:o,index:n,ev:s}),t.contextmenu({data:o,index:n,ev:s}),t.setSelectedIndex(n)},oncreate:function(e){t.created(e)}},e);return function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return IconView(Object.assign(o,e))}},state:function(e){return Object.assign({selectedIndex:-1,scrollTop:0},e)},actions:function(e){return Object.assign({select:function(){return function(){return{}}},activate:function(){return function(){return{}}},contextmenu:function(){return function(){return{}}},created:function(){return function(){return{}}},setEntries:function(e){return function(){return{entries:e}}},setScrollTop:function(e){return function(){return{scrollTop:e}}},setSelectedIndex:function(e){return function(){return{selectedIndex:e}}}},e||{})}},Image=function(e){return h("div",{class:"osjs-gui osjs-gui-image",style:{width:e.width?e.width+""+"px":void 0,height:e.height?e.height+""+"px":void 0}},h("img",e))},sources=function(e){return e.map(function(e){return h("source",e)})},isTrue=function(e){return"undefined"==typeof e||!0===e},Video=function(e){return h("div",{class:"osjs-gui osjs-gui-video",style:{width:e.width?e.width+""+"px":void 0,height:e.height?e.height+""+"px":void 0}},[h("video",{src:e.src,width:e.width,height:e.height,poster:e.poster,loop:e.loop?"loop":void 0,muted:e.muted?"muted":void 0,controls:isTrue(e.controls)?"controls":void 0,autoplay:isTrue(e.autoplay)?"autoplay":void 0,onloadeddata:e.onload,oncreate:e.oncreate,onupdate:e.onupdate,ondestroy:e.ondestroy},sources(e.sources||[]))])},headers=function(e,t,o){var n=e.labels,s=e.onchange,a=e.oncontextmenu;return(n||[]).map(function(e,n){return h("div",{class:t.selectedIndex===n?"osjs__active":"",oncontextmenu:function(t){(a||function(){})(t,n,e)},onclick:function(t){o.setSelectedIndex(n),(s||function(){})(t,n,e)}},h("span",{},e))})},panes$1=function(e,t){return t.map(function(t,o){return h("div",{class:e.selectedIndex===o?"osjs__active":""},t)})},view$1=nestable({selectedIndex:0},{init:function(e){return{selectedIndex:e.selectedIndex||0}},setSelectedIndex:function(e){return function(){return{selectedIndex:e}}}},function(e,t){return function(o,n){return h("div",{class:"osjs-gui-tabs-wrapper"},[h("div",{class:"osjs-gui-tabs-header"},headers(o,e,t)),h("div",{class:"osjs-gui-tabs-panes"},panes$1(e,n))])}},"div"),Tabs=function(e,t){return h(view$1,Object.assign({class:"osjs-gui osjs-gui-tabs "+(e["class"]||"")},e),t)},Iframe=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return h(Element$1,Object.assign({},e.box||{},{class:["osjs-gui-iframe",e["class"]]}),[h("iframe",Object.assign({frameborder:0},filteredProps(e,["box"])))].concat(_toConsumableArray(t)))},TextField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return createField("text-field",e,{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"text"},function(e){return h("input",e)})},TextareaField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return createField("textarea-field",e,{rows:4},function(e){return h("textarea",e,t)})},SelectField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],o=function(t){return t instanceof Array?t.map(function(e){return"object"===_typeof(e)?e:{value:e,label:e}}):Object.keys(e.choices||{}).map(function(t){return{value:t,label:e.choices[t]}})}(e.choices).map(function(t){var o=t.value,n=t.label;return h("option",{value:o,selected:e.value===o},n)});return createField("select-field",e,{selectedIndex:void 0},function(e){return h("div",{},h("select",e,[].concat(_toConsumableArray(o),_toConsumableArray(t))))},function(e){return[e.target.value,e.target.textContent]})},parseValue=function(t){try{return JSON.parse(t)}catch(o){return t}},ToggleField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return createField("toggle-field",e,{type:"checkbox",checked:!1},function(o){return h("label",{},[h("input",o),h("span",{class:"osjs-toggle-input"}),h("span",{class:"osjs-toggle-label"},[e.label||""].concat(_toConsumableArray(t)))])},function(t){return["radio"===e.type?parseValue(t.target.value):!!t.target.checked]})},RangeField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return createField("range-field",e,{type:"range"},function(e){return h("input",e)})},view$2=function(e,t){return function(o,n){return h(Element$1,Object.assign({},o.box||{},{class:["osjs-gui-expander-wrapper"]}),[h("div",{class:"osjs-gui-expander-header",onclick:function(n){return t.ontoggle({ev:n,active:!e.active,ontoggle:o.ontoggle})}},[h("div",{class:"osjs-gui-expander-header-icon","data-active":e.active+""}),h("div",{class:"osjs-gui-expander-header-label"},o.label)]),h("div",{class:"osjs-gui-expander-content",style:{display:!1===e.active?"none":void 0}},n)])}},inner$1=nestable({active:!0},{init:function(e){return{ative:!1!==e.active}},ontoggle:function(e){var t=e.ev,o=e.active,n=e.ontoggle;return(n||function(){})(t,o),{active:o}}},view$2,"div"),Expander=function(e,t){return h(inner$1,Object.assign({},e,{class:"osjs-gui osjs-gui-expander"}),t)},Label=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],o=e.placement||"top",n=e.text||"",s=Object.assign({class:["osjs-gui-field-label","osjs-gui-field-label-on-"+o]},e.box||{});return h(Element$1,s,[h("label",{for:e["for"]},n),t])},asyncToGenerator=createCommonjsModule(function(e){function t(e,t,o,n,s,a,i){try{var l=e[a](i),r=l.value}catch(e){return void o(e)}l.done?t(r):Promise.resolve(r).then(n,s)}e.exports=function(e){return function(){var o=this,n=arguments;return new Promise(function(s,a){function i(e){t(r,s,a,i,l,"next",e)}function l(e){t(r,s,a,i,l,"throw",e)}var r=e.apply(o,n);i(void 0)})}},e.exports["default"]=e.exports,e.exports.__esModule=!0}),_asyncToGenerator=unwrapExports(asyncToGenerator),classCallCheck=createCommonjsModule(function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports["default"]=e.exports,e.exports.__esModule=!0}),_classCallCheck=unwrapExports(classCallCheck),createClass=createCommonjsModule(function(e){function t(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}e.exports=function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e},e.exports["default"]=e.exports,e.exports.__esModule=!0}),_createClass=unwrapExports(createClass),runtime_1=createCommonjsModule(function(e){var t=function(e){function t(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}function o(e,t,o,n){var a=t&&t.prototype instanceof s?t:s,i=Object.create(a.prototype),l=new g(n||[]);return i._invoke=c(e,o,l),i}function n(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function s(){}function a(){}function i(){}function l(e){["next","throw","return"].forEach(function(o){t(e,o,function(e){return this._invoke(o,e)})})}function r(e,t){function o(s,a,i,l){var r=n(e[s],e,a);if("throw"===r.type)l(r.arg);else{var c=r.arg,d=c.value;return d&&"object"==typeof d&&y.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,i,l)},function(e){o("throw",e,i,l)}):t.resolve(d).then(function(e){c.value=e,i(c)},function(e){return o("throw",e,i,l)})}}function s(e,n){function s(){return new t(function(t,s){o(e,n,t,s)})}return a=a?a.then(s,s):s()}var a;this._invoke=s}function c(e,t,o){var s="suspendedStart";return function(a,i){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===a)throw i;return m()}for(o.method=a,o.arg=i;;){var l=o.delegate;if(l){var r=d(l,o);if(r){if(r===w)continue;return r}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===s)throw s="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s="executing";var c=n(e,t,o);if("normal"===c.type){if(s=o.done?"completed":"suspendedYield",c.arg===w)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(s="completed",o.method="throw",o.arg=c.arg)}}}function d(e,t){var o=e.iterator[t.method];if(o===x){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=x,d(e,t),"throw"===t.method))return w;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var s=n(o,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,w;var a=s.arg;if(!a)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,w;if(a.done)t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=x);else return a;return t.delegate=null,w}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function u(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(p,this),this.reset(!0)}function h(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(y.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=x,t.done=!0,t};return n.next=n}}return{next:m}}function m(){return{value:x,done:!0}}var x,v=Object.prototype,y=v.hasOwnProperty,f="function"==typeof Symbol?Symbol:{},b=f.iterator||"@@iterator",k=f.asyncIterator||"@@asyncIterator",j=f.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,o){return e[t]=o}}e.wrap=o;var w={},_={};t(_,b,function(){return this});var L=Object.getPrototypeOf,I=L&&L(L(h([])));I&&I!==v&&y.call(I,b)&&(_=I);var E=i.prototype=s.prototype=Object.create(_);return a.prototype=i,t(E,"constructor",i),t(i,"constructor",a),a.displayName=t(i,j,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,t(e,j,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},l(r.prototype),t(r.prototype,k,function(){return this}),e.AsyncIterator=r,e.async=function(t,n,s,a,i){void 0===i&&(i=Promise);var l=new r(o(t,n,s,a),i);return e.isGeneratorFunction(n)?l:l.next().then(function(e){return e.done?e.value:l.next()})},l(E),t(E,j,"Generator"),t(E,b,function(){return this}),t(E,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},e.values=h,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=x,this.done=!1,this.delegate=null,this.method="next",this.arg=x,this.tryEntries.forEach(u),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=x)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return a.type="throw",a.arg=e,o.next=t,n&&(o.method="next",o.arg=x),!!n}if(this.done)throw e;for(var o=this,n=this.tryEntries.length-1;0<=n;--n){var s=this.tryEntries[n],a=s.completion;if("root"===s.tryLoc)return t("end");if(s.tryLoc<=this.prev){var l=y.call(s,"catchLoc"),r=y.call(s,"finallyLoc");if(l&&r){if(this.prev<s.catchLoc)return t(s.catchLoc,!0);if(this.prev<s.finallyLoc)return t(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return t(s.catchLoc,!0);}else if(!r)throw new Error("try statement without catch or finally");else if(this.prev<s.finallyLoc)return t(s.finallyLoc)}}},abrupt:function(e,t){for(var o,n=this.tryEntries.length-1;0<=n;--n)if(o=this.tryEntries[n],o.tryLoc<=this.prev&&y.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t,o=this.tryEntries.length-1;0<=o;--o)if(t=this.tryEntries[o],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),u(t),w},catch:function(e){for(var t,o=this.tryEntries.length-1;0<=o;--o)if(t=this.tryEntries[o],t.tryLoc===e){var n=t.completion;if("throw"===n.type){var s=n.arg;u(t)}return s}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:h(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=x),w}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}),regenerator=runtime_1,clampSubMenu=function(e,t){var o=t.target.querySelector("ul");if(o&&(o.classList.contains("osjs-gui-menu-container")&&(o=o.parentNode.parentNode),o&&o.offsetParent)){o.classList.remove("clamp-right");var n=o.getBoundingClientRect();n.right>e.offsetWidth&&o.classList.add("clamp-right")}},clampMenu=function(e,t,o){var n={},s=o.top+t.offsetHeight,a=o.left+t.offsetWidth,i=e.offsetHeight-o.top,l=e.offsetWidth-o.left,r=a>e.offsetWidth,c=s>e.offsetHeight;return c&&e.offsetHeight>t.offsetHeight&&(n.top=e.offsetHeight-t.offsetHeight-i),r&&(n.left=e.offsetWidth-t.offsetWidth-l),c||r?n:null},view$3=function(e){return function(t,o){return h(Menu,{position:t.position,visible:t.visible,menu:t.menu,onclick:e,onshow:o.onshow})}},timeout=function(e){return e(),setTimeout(e,100)},ContextMenu=function(){function e(t){_classCallCheck(this,e),this.core=t,this.callback=function(){},this.actions=null,this.$element=document.createElement("div")}return _createClass(e,[{key:"destroy",value:function(){this.callback=null,this.actions=null}},{key:"init",value:function(){var e,t=this;this.$element.className="osjs-system-context-menu",this.core.$root.appendChild(this.$element);var o=!1;this.actions=app({visible:!1,menu:[],position:{top:0,left:0}},{clamp:function(o){return function(n){if(o=o||document.querySelector("#osjs-context-menu"),clearTimeout(e),o){var s=t.core.$root,a=clampMenu(s,o,n.position);if(a)return{position:a}}return{}}},onshow:function(o){return function(){e=timeout(function(){return clampSubMenu(t.core.$root,o)})}},show:function(e){return function(n,s){var a=e.menu,i=e.position,l=e.toggle;if(l&&o)return s.hide();if(i instanceof Event)i={left:i.clientX,top:i.clientY};else if(i instanceof Element){var r=i.getBoundingClientRect();i={left:r.left,top:r.top+r.height}}return t.callback=function(t,o,n){e.callback&&e.callback(t,o),!1!==n.closeable&&s.hide()},o=!0,t.onclose=e.onclose,timeout(function(){return s.clamp()}),{visible:!0,menu:a||[],position:i||{top:0,left:0}}}},hide:function(){return function(){return o&&setTimeout(function(){return o=!1},0),t.onclose&&t.onclose(),t.onclose=null,t.callback=null,{visible:!1}}}},view$3(function(){!t.core.destroyed&&t.callback&&t.callback.apply(t,arguments)}),this.$element)}},{key:"show",value:function(){var e;return this.actions?(e=this.actions).show.apply(e,arguments):null}},{key:"hide",value:function(){var e;return this.actions?(e=this.actions).hide.apply(e,arguments):null}}]),e}(),validContextMenuTarget=function(e){var t=e.target,o="TEXTAREA"===t.tagName;return o||"INPUT"!==t.tagName||(o=-1!==["text","password","number","email"].indexOf(t.type)),o},GUIServiceProvider=function(){function e(t){_classCallCheck(this,e),this.core=t,this.contextmenu=new ContextMenu(t)}return _createClass(e,[{key:"destroy",value:function(){var e=document.getElementById("osjs-context-menu");e&&e.remove(),this.contextmenu.destroy()}},{key:"init",value:function(){var e=_asyncToGenerator(regenerator.mark(function e(){var t,o=this;return regenerator.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={show:function(){var e;return(e=o.contextmenu).show.apply(e,arguments)},hide:function(){var e;return(e=o.contextmenu).hide.apply(e,arguments)}},this.core.instance("osjs/contextmenu",function(){return arguments.length?t.show.apply(t,arguments):t}),this.core.$root.addEventListener("contextmenu",function(e){validContextMenuTarget(e)||(e.stopPropagation(),e.preventDefault())});case 3:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=this,t=function(t){var o=document.getElementById("osjs-context-menu"),n=o&&o.contains(t.target);!n&&e.contextmenu&&e.contextmenu.hide()};this.core.$root.addEventListener("click",t,!0),this.core.once("destroy",function(){e.core.$root.removeEventListener("click",t,!0)}),this.contextmenu.init()}}]),e}();export{Box,BoxContainer,BoxStyled,Button,Element$1 as Element,Expander,GUIServiceProvider,Icon,IconView,IconViewEntry,Iframe,Image,Label,ListView,Menu,Menubar,MenubarItem,Panes,Progressbar,RangeField,SelectField,Statusbar,Tabs,TextField,TextareaField,ToggleField,Toolbar,Video,iconView,listView};
//# sourceMappingURL=esm.js.map
