(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=26)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(27),o=n(28),i=n(19),a=n(29);t.exports=function(t){return r(t)||o(t)||i(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(20);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(16).default,o=n(13);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){(function(e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return c}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";o()(this,t),this.name=e,this.events={}}return a()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},"function"!=typeof e)throw new TypeError("Invalid callback");return s(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:r})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var o=e.events[t].length;o--;){var i=e.events[t][o];(!i.options.persist||r)&&i.callback===n&&e.events[t].splice(o,1)}else e.events[t]=r?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var o=e.events[t][n],i=o.options,a=o.callback;try{a.apply(void 0,r)}catch(t){console.warn(t)}i&&i.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])}).call(this,n(21))},function(t,e,n){var r=n(30);function o(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=o=Reflect.get.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(this,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){(function(t){!function(t,e){for(var n in e)t[n]=e[n]}(e,function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=16)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return c}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";o()(this,t),this.name=e,this.events={}}return a()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},"function"!=typeof e)throw new TypeError("Invalid callback");return s(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:r})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var o=e.events[t].length;o--;){var i=e.events[t][o];(!i.options.persist||r)&&i.callback===n&&e.events[t].splice(o,1)}else e.events[t]=r?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var o=e.events[t][n],i=o.options,a=o.callback;try{a.apply(void 0,r)}catch(t){console.warn(t)}i&&i.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function a(t,e,n){return t.concat(e).map((function(t){return i(t,n)}))}function s(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function c(t,e){try{return e in t}catch(t){return!1}}function u(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(e);return o===Array.isArray(t)?o?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&s(t).forEach((function(e){r[e]=i(t[e],n)})),s(e).forEach((function(o){(function(t,e){return c(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(c(t,o)&&n.isMergeableObject(e[o])?r[o]=function(t,e){if(!e.customMerge)return u;var n=e.customMerge(t);return"function"==typeof n?n:u}(o,n)(t[o],e[o],n):r[o]=i(e[o],n))})),r}(t,e,n):i(e,n)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return u(t,n,e)}),{})};var l=u;t.exports=l},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(20),o=n(21),i=n(22),a=n(23);t.exports=function(t){return r(t)||o(t)||i(t)||a()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(24))},function(t,e,n){t.exports=n(33)},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){"use strict";
/*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){var r=n(17);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e,n){var r=n(18);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(19),o=n(5);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){"use strict";var r=n(26),o=n(27);t.exports=function t(e,n){if(void 0===e)return{};if(Array.isArray(e)){for(var i=0;i<e.length;i++)e[i]=t(e[i],n);return e}if(!r(e))return e;if("string"==typeof n&&(n=[n]),!Array.isArray(n))return e;for(var a=0;a<n.length;a++)o(e,n[a]);for(var s in e)e.hasOwnProperty(s)&&(e[s]=t(e[s],n));return e}},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,c,"next",t)}function c(t){n(a,o,i,s,c,"throw",t)}s(void 0)}))}}},function(t,e,n){t.exports=n(34)},function(t,e,n){var r=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){var r=n(9);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var r=n(9);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),o=function(){function t(){this.nodes={},this.outgoingEdges={},this.incomingEdges={}}return t.prototype.addNode=function(t){if(this.hasNode(t.name))throw new Error('A node with the name of "'+t.name+'" already exists in the graph!');this.nodes[t.name]=t,this.outgoingEdges[t.name]=[],this.incomingEdges[t.name]=[]},t.prototype.removeNode=function(t){if(!this.hasNode(t))throw new Error('A node with the name of "'+t+'" does not exist in the graph!');for(var e in delete this.nodes[t],delete this.outgoingEdges[t],delete this.incomingEdges[t],this.incomingEdges)this.incomingEdges[e].includes(t)&&this.incomingEdges[e].splice(e.indexOf(t),1);for(var n in this.outgoingEdges)this.outgoingEdges[n].includes(t)&&this.outgoingEdges[n].splice(n.indexOf(t),1)},t.prototype.hasNode=function(t){return this.nodes.hasOwnProperty(t)},Object.defineProperty(t.prototype,"size",{get:function(){return Object.keys(this.nodes).length},enumerable:!0,configurable:!0}),t.prototype.getNode=function(t){if(this.hasNode(t))return this.nodes[t];throw new Error('Node "'+t+'" not found!')},t.prototype.addDependency=function(t,e){if(!this.hasNode(t))throw new Error("Node does not exist: "+t);if(!this.hasNode(e))throw new Error("Node does not exist: "+e);if(t===e)throw new Error("Cannot add self dependency: "+e);this.outgoingEdges[t].includes(e)||this.outgoingEdges[t].push(e),this.incomingEdges[e].includes(t)||this.incomingEdges[e].push(t)},t.prototype.removeDependency=function(t,e){if(console.warn("removeDependency() has not been tested."),!this.hasNode(t))throw new Error("Node does not exist: "+t);if(!this.hasNode(e))throw new Error("Node does not exist: "+e);if(t===e)throw new Error("Cannot remove self dependency: "+e);this.outgoingEdges[t].includes(e)||this.outgoingEdges[t].splice(this.outgoingEdges[t].indexOf(e),1),this.incomingEdges[e].includes(t)||this.incomingEdges[e].splice(this.incomingEdges[e].indexOf(e),1)},t.prototype.dependenciesOf=function(t){return this.outgoingEdges[t]},t.prototype.dependentsOf=function(t){return this.incomingEdges[t]},t.prototype.traverse=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.getNode(e).clearMutex()}));var e=function(n){return Promise.all(t.dependenciesOf(n.name).map((function(e){return t.nodes[e].awaitData()}))).then((function(){return n.signalDependenciesReady(),t.dependentsOf(n.name).length>0?Promise.all(t.dependentsOf(n.name).map((function(n){return e(t.getNode(n))}))):n.awaitData()}))},n=Object.keys(this.nodes).filter((function(e){return 0===t.dependenciesOf(e).length}));return 0===n.length&&Object.keys(this.nodes).length>0?Promise.reject(new Error("The graph is circular. Cannot traverse graph due to no root node.")):Promise.all(n.map((function(n){return e(t.nodes[n])})))},t.prototype.clearNodeAndDependents=function(t){var e=this,n=this.getNode(t),r=function(t){return t.hasData()?(t.clearData(),Promise.all(e.dependentsOf(t.name).map((function(t){return r(e.getNode(t))})))):Promise.resolve()};return r(n)},t.prototype.reset=function(){for(var t in this.nodes)this.nodes[t].reset()},t.prototype.ls=function(){for(var t in this.nodes)console.log(t),console.log(this.dependentsOf(t))},t}();e.Graph=o;var i=function(){function t(t,e){this.locked=!1,this._name=t,this._promise=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.awaitData=function(){var t=this;return this.mutex||(this.mutex=new r.Mutex((function(){return void 0!==t._data}))),new Promise((function(e,n){t.mutex.await((function(r){if(r)return n(r);e(t._data)}))}))},t.prototype.signalDependenciesReady=function(){var t=this;if(this.mutex||(this.mutex=new r.Mutex((function(){return void 0!==t._data}))),void 0===this._data){if(!0===this.locked)return;this.locked=!0;var e=this._promise();if(void 0===e)throw new Error('Node "'+this._name+'" has undefined promise.');e.then((function(e){t._data=e,t.locked=!1,t.mutex.ready()})).catch((function(e){t._data=null,t.locked=!1,t.mutex.ready(e)}))}else this.mutex.ready()},t.prototype.setData=function(t){this._data=t,this.signalDependenciesReady()},t.prototype.reset=function(){this.clearData(),this.clearMutex()},t.prototype.clearMutex=function(){this.hasData()&&(this.mutex=void 0)},t.prototype.hasData=function(){return void 0!==this._data},t.prototype.clearData=function(){this._data=void 0},t}();e.Node=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.readyTest=t}return t.prototype.await=function(t){!0===this.readyTest()?t():(this.waiting=this.waiting||[],this.waiting.push(t))},t.prototype.ready=function(t){this.waiting&&this.waiting.forEach((function(e){return e(t)})),delete this.waiting},t}();e.Mutex=r},function(t,e,n){"use strict";
/*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */var r=n(10);function o(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==o(t)&&"function"==typeof(e=t.constructor)&&!1!==o(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},function(t,e,n){"use strict";
/*!
   * unset-value <https://github.com/jonschlinkert/unset-value>
   *
   * Copyright (c) 2015, 2017, Jon Schlinkert.
   * Released under the MIT License.
   */var r=n(10),o=n(28);t.exports=function(t,e){if(!r(t))throw new TypeError("expected an object.");if(t.hasOwnProperty(e))return delete t[e],!0;if(o(t,e)){for(var n=e.split("."),i=n.pop();n.length&&"\\"===n[n.length-1].slice(-1);)i=n.pop().slice(0,-1)+"."+i;for(;n.length;)t=t[e=n.shift()];return delete t[i]}return!0}},function(t,e,n){"use strict";
/*!
   * has-value <https://github.com/jonschlinkert/has-value>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   */var r=n(29),o=n(31),i=n(32);t.exports=function(t,e,n){return r(t)?o(i(t,e),n):o(t,e)}},function(t,e,n){"use strict";
/*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   */var r=n(30);t.exports=function(t){return null!=t&&"object"==typeof t&&!1===r(t)}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";
/*!
   * has-values <https://github.com/jonschlinkert/has-values>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   */t.exports=function(t,e){if(null==t)return!1;if("boolean"==typeof t)return!0;if("number"==typeof t)return 0!==t||!0!==e;if(void 0!==t.length)return 0!==t.length;for(var n in t)if(t.hasOwnProperty(n))return!0;return!1}},function(t,e){function n(t){return t?Array.isArray(t)?t.join("."):t:""}
/*!
   * get-value <https://github.com/jonschlinkert/get-value>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   */t.exports=function(t,e,r,o,i){if(null===(a=t)||"object"!=typeof a&&"function"!=typeof a||!e)return t;var a;if(e=n(e),r&&(e+="."+n(r)),o&&(e+="."+n(o)),i&&(e+="."+n(i)),e in t)return t[e];for(var s=e.split("."),c=s.length,u=-1;t&&++u<c;){for(var l=s[u];"\\"===l[l.length-1];)l=l.slice(0,-1)+"."+s[++u];t=t[l]}return t}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new b(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=g(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function p(){}function d(){}var h={};h[o]=function(){return this};var v=Object.getPrototypeOf,L=v&&v(v(w([])));L&&L!==e&&n.call(L,o)&&(h=L);var m=d.prototype=f.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function g(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function w(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=m.constructor=d,d.constructor=p,p.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(_.prototype),_.prototype[i]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=w,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:w(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";n.r(e),n.d(e,"CoreBase",(function(){return A})),n.d(e,"ServiceProvider",(function(){return j})),n.d(e,"EventEmitter",(function(){return g.EventHandler}));var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=n(5),c=n.n(s),u=n(11),l=n.n(u),f=n(12),p=n.n(f),d=n(13),h=n.n(d),v=n(0),L=n.n(v),m=n(6),y=n.n(m),_=n(7),g=n(1),E=n(4),O=n.n(E),b=n(14),w=n.n(b),A=function(t){p()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=L()(t);if(e){var o=L()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}(n);function n(t,r,i){var a;o()(this,n),a=e.call(this,"Core");var s=O.a.default?O.a.default:O.a,u=w()(t,i.omit||[]);return a.logger=console,a.configuration=s(u,r),a.options=i,a.booted=!1,a.started=!1,a.destroyed=!1,a.providers=function(t){var e={},n=[],r=[],o=function(t,e){var n=new _.Graph,r=t.map((function(t){return"function"==typeof t.provider.provides?t.provider.provides():[]}));return t.forEach((function(t,r){n.addNode(new _.Node(String(r),(function(){try{return Promise.resolve(t.provider[e]())}catch(t){return Promise.reject(t)}})))})),t.forEach((function(t,e){var o,i=t.options.depends instanceof Array?t.options.depends:[],a="function"==typeof t.provider.depends?t.provider.depends():[],s=[].concat(y()(i),y()(a));if(s.length>0){var c=(o=s,r.findIndex((function(t){return t.some((function(t){return-1!==o.indexOf(t)}))})));-1!==c&&n.addDependency(String(e),String(c))}})),n.traverse().catch((function(t){return console.warn(t)}))};return{register:function(e,r){try{n.push({provider:new e(t,r.args),options:r})}catch(t){console.error("Provider register error",t)}},init:function(t){return e=t?n.filter((function(t){return t.options.before})):n.filter((function(t){return!t.options.before})),o(e,"init").then((function(){return o(e,"start")}));var e},bind:function(e,n,o){t.logger.info("Provider binding",e),r.push({singleton:n,name:e,make:function(){return o.apply(void 0,arguments)}})},has:function(t){return-1!==r.findIndex((function(e){return e.name===t}))},make:function(t){var n=r.find((function(e){return e.name===t}));if(!n)throw new Error("Provider '".concat(t,"' not found"));for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return n.singleton?(e[t]||n&&(e[t]=n.make.apply(n,i)),e[t]):n.make.apply(n,i)},destroy:function(){var t,o=(t=n,Promise.all(t.map((function(t){try{return t.provider.destroy()}catch(t){return Promise.reject(t)}}))).catch((function(t){return console.warn(t)})));return e={},r=[],o}}}(c()(a)),a}return a()(n,[{key:"destroy",value:function(){if(this.destroyed)return!1;this.booted=!1,this.destroyed=!0,this.started=!1;var t=this.providers.destroy();return l()(L()(n.prototype),"destroy",this).call(this),t}},{key:"boot",value:function(){return this.booted?Promise.resolve(!0):(this.started=!1,this.destroyed=!1,this.booted=!0,this.providers.init(!0).then((function(){return!0})))}},{key:"start",value:function(){return this.started?Promise.resolve(!0):(this.started=!0,this.providers.init(!1).then((function(){return!0})))}},{key:"config",value:function(t,e){return t?function(t,e,n){var r;try{r=e.split(/\./g).reduce((function(t,e){return t[e]}),Object.assign({},t))}catch(t){}return void 0===r?n:r}(this.configuration,t,e):Object.assign({},this.configuration)}},{key:"register",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.providers.register(t,e)}},{key:"instance",value:function(t,e){this.providers.bind(t,!1,e)}},{key:"singleton",value:function(t,e){this.providers.bind(t,!0,e)}},{key:"make",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(e=this.providers).make.apply(e,[t].concat(r))}},{key:"has",value:function(t){return this.providers.has(t)}}]),n}(g.EventEmitter),S=n(8),B=n.n(S),T=n(15),P=n.n(T),j=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o()(this,t),this.core=e,this.options=n}var e;return a()(t,[{key:"provides",value:function(){return[]}},{key:"depends",value:function(){return[]}},{key:"init",value:(e=P()(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})},{key:"start",value:function(){}},{key:"destroy",value:function(){}}]),t}()}]))}).call(this,n(21))},function(t,e,n){var r=n(31),o=n(32),i=n(19),a=n(33);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function a(t,e,n){return t.concat(e).map((function(t){return i(t,n)}))}function s(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function c(t,e){try{return e in t}catch(t){return!1}}function u(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(e);return o===Array.isArray(t)?o?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&s(t).forEach((function(e){r[e]=i(t[e],n)})),s(e).forEach((function(o){(function(t,e){return c(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(c(t,o)&&n.isMergeableObject(e[o])?r[o]=function(t,e){if(!e.customMerge)return u;var n=e.customMerge(t);return"function"==typeof n?n:u}(o,n)(t[o],e[o],n):r[o]=i(e[o],n))})),r}(t,e,n):i(e,n)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return u(t,n,e)}),{})};var l=u;t.exports=l},function(t,e,n){var r=n(34)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,c,"next",t)}function c(t){n(a,o,i,s,c,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r,o,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */i=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(s[0]);if(c=(r.read||r)(c,u)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[u]=c,t===u)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o),t.exports=i()},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e,n){var r=n(5),o=n(6),i=n(7);t.exports=function(t,e){return r(t)||o(t,e)||i()}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports=n(4)},function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),i=n(2),a=n.n(i),s=n(0),c=n.n(s),u=function(t){return void 0===t?t:JSON.parse(JSON.stringify(t))},l=function(t){return t.split(/\./g)},f=function(t){return null==t},p=function(t){return!!t&&"object"===c()(t)&&!Array.isArray(t)},d=function t(e,n){if(p(e)&&p(n)){for(var r in n)p(n[r])?(e[r]&&c()(e[r])===c()(n[r])||Object.assign(e,a()({},r,{})),t(e[r],n[r])):Object.assign(e,a()({},r,n[r]));return e}return n},h=function(t,e,n){if(f(e))return t;var r;try{r=l(e).reduce((function(t,e){return t[e]}),Object.assign({},t))}catch(t){}return void 0===r?n:r},v=function(t,e,n){var r=l(e),o=r.length;if(n)for(var i=t,a=0;a<o;a++){var s=r[a];void 0===i[s]&&(i[s]={}),i=i[s]}var c=1===o?r[0]:r.pop();return[1===o?t:h(t,r.join(".")),c]};e.default=function(t){var e,n=function(t){return e=u(t)};return n(t),{get:function(t,n){return u(h(e,t,n))},set:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(function(t,e,n,r){if(!1!==r.parse)try{n=void 0===n?n:JSON.parse(n)}catch(t){}if(f(e)){var i=!1!==r.merge?d(t,n):n;return Object.assign(t,i)}var a=v(t,e,!0),s=o()(a,2),c=s[0],u=s[1];f(c[u])&&(c[u]={});var l=!1!==r.merge?d(c[u],n):n;return c[u]=l,l}(e,t,n,r))},push:function(t,n){return u(function(t,e,n){var r=h(t,e);if(!Array.isArray(r))throw new Error("The key '".concat(e,"' is not an array"));return r.push(n),r}(e,t,n))},remove:function(t){return u(function(t,e){var n=v(t,e),r=o()(n,2),i=r[0],a=r[1];return void 0!==i[a]&&(i instanceof Array?i.splice(i.indexOf(i[a]),1):delete i[a]),i}(e,t))},reset:function(e){return u(n(e||t))},toString:function(){return JSON.stringify(e)}}}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}}])},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(18);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.match=function(t,e){return c(t).some((function(t){var n=t.inverse,r="all"===t.type||e.type===t.type;if(r&&n||!r&&!n)return!1;var o=t.expressions.every((function(t){var n=t.feature,r=t.modifier,o=t.value,i=e[n];if(!i)return!1;switch(n){case"orientation":case"scan":return i.toLowerCase()===o.toLowerCase();case"width":case"height":case"device-width":case"device-height":o=f(o),i=f(i);break;case"resolution":o=l(o),i=l(i);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":o=u(o),i=u(i);break;case"grid":case"color":case"color-index":case"monochrome":o=parseInt(o,10)||1,i=parseInt(i,10)||0}switch(r){case"min":return i>=o;case"max":return i<=o;default:return i===o}}));return o&&!n||!o&&n}))},e.parse=c;var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,o=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,i=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function c(t){return t.split(",").map((function(t){var e=(t=t.trim()).match(r),n=e[1],a=e[2],s=e[3]||"",c={};return c.inverse=!!n&&"not"===n.toLowerCase(),c.type=a?a.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],c.expressions=s.map((function(t){var e=t.match(o),n=e[1].toLowerCase().match(i);return{modifier:n[1],feature:n[2],value:e[2]}})),c}))}function u(t){var e,n=Number(t);return n||(n=(e=t.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/e[2]),n}function l(t){var e=parseFloat(t);switch(String(t).match(s)[1]){case"dpcm":return e/2.54;case"dppx":return 96*e;default:return e}}function f(t){var e=parseFloat(t);switch(String(t).match(a)[1]){case"em":case"rem":return 16*e;case"cm":return 96*e/2.54;case"mm":return 96*e/2.54/10;case"in":return 96*e;case"pt":return 72*e;case"pc":return 72*e/12;default:return e}}},function(t,e,n){var r;!function(o){"use strict";var i,a,s,c=(i=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g,function(t,e,n,r){if(1!==arguments.length||"string"!==p(t)||/\d/.test(t)||(e=t,t=void 0),(t=t||new Date)instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");var o=(e=String(c.masks[e]||e||c.masks.default)).slice(0,4);"UTC:"!==o&&"GMT:"!==o||(e=e.slice(4),n=!0,"GMT:"===o&&(r=!0));var d=n?"getUTC":"get",h=t[d+"Date"](),v=t[d+"Day"](),L=t[d+"Month"](),m=t[d+"FullYear"](),y=t[d+"Hours"](),_=t[d+"Minutes"](),g=t[d+"Seconds"](),E=t[d+"Milliseconds"](),O=n?0:t.getTimezoneOffset(),b=l(t),w=f(t),A={d:h,dd:u(h),ddd:c.i18n.dayNames[v],dddd:c.i18n.dayNames[v+7],m:L+1,mm:u(L+1),mmm:c.i18n.monthNames[L],mmmm:c.i18n.monthNames[L+12],yy:String(m).slice(2),yyyy:m,h:y%12||12,hh:u(y%12||12),H:y,HH:u(y),M:_,MM:u(_),s:g,ss:u(g),l:u(E,3),L:u(Math.round(E/10)),t:y<12?c.i18n.timeNames[0]:c.i18n.timeNames[1],tt:y<12?c.i18n.timeNames[2]:c.i18n.timeNames[3],T:y<12?c.i18n.timeNames[4]:c.i18n.timeNames[5],TT:y<12?c.i18n.timeNames[6]:c.i18n.timeNames[7],Z:r?"GMT":n?"UTC":(String(t).match(a)||[""]).pop().replace(s,""),o:(O>0?"-":"+")+u(100*Math.floor(Math.abs(O)/60)+Math.abs(O)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:b,N:w};return e.replace(i,(function(t){return t in A?A[t]:t.slice(1,t.length-1)}))});function u(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function l(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);var o=(e-n)/6048e5;return 1+Math.floor(o)}function f(t){var e=t.getDay();return 0===e&&(e=7),e}function p(t){return null===t?"null":void 0===t?"undefined":"object"!=typeof t?typeof t:Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()}c.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},c.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(r=function(){return c}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){var r=n(20),o=n(35);function i(e,n,a){return o()?(t.exports=i=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=i=function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&r(i,n.prototype),i},t.exports.__esModule=!0,t.exports.default=t.exports),i.apply(null,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(36);t.exports=function(t,e){if(null==t)return{};var n,o,i=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(37)},function(t,e,n){var r=n(18);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(3);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(16).default;function o(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d={};function h(){}function v(){}function L(){}var m={};l(m,s,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(B([])));_&&_!==n&&i.call(_,s)&&(m=_);var g=L.prototype=h.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){var n;this._invoke=function(o,a){function s(){return new e((function(n,s){!function n(o,a,s,c){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}(o,a,n,s)}))}return n=n?n.then(s,s):s()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=p(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function B(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=L,l(g,"constructor",L),l(L,"constructor",v),v.displayName=l(L,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,L):(t.__proto__=L,l(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},E(O.prototype),l(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(g),l(g,u,"Generator"),l(g,s,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=B,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:B(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.r(e),n.d(e,"Core",(function(){return ce})),n.d(e,"Window",(function(){return _t})),n.d(e,"Desktop",(function(){return nn})),n.d(e,"Application",(function(){return St})),n.d(e,"Notification",(function(){return an})),n.d(e,"Notifications",(function(){return cn})),n.d(e,"WindowBehavior",(function(){return hn})),n.d(e,"Auth",(function(){return Bn})),n.d(e,"Login",(function(){return En})),n.d(e,"Websocket",(function(){return z})),n.d(e,"CoreServiceProvider",(function(){return ur})),n.d(e,"DesktopServiceProvider",(function(){return lr})),n.d(e,"NotificationServiceProvider",(function(){return fr})),n.d(e,"VFSServiceProvider",(function(){return Ur})),n.d(e,"AuthServiceProvider",(function(){return Gr})),n.d(e,"SettingsServiceProvider",(function(){return Xr})),n.d(e,"logger",(function(){return C})),n.d(e,"Splash",(function(){return Bt})),n.d(e,"Settings",(function(){return Yr})),n.d(e,"Tray",(function(){return Gn})),n.d(e,"Search",(function(){return Je})),n.d(e,"Packages",(function(){return Fn})),n.d(e,"Filesystem",(function(){return Fr})),n.d(e,"Clipboard",(function(){return Hn})),n.d(e,"Middleware",(function(){return Kn})),n.d(e,"BasicApplication",(function(){return sr})),n.d(e,"configuration",(function(){return Vt})),n.d(e,"icon",(function(){return P}));var r={};n.r(r),n.d(r,"draggable",(function(){return J})),n.d(r,"droppable",(function(){return tt}));var o={};n.r(o),n.d(o,"parentDirectory",(function(){return Le})),n.d(o,"pathJoin",(function(){return me})),n.d(o,"humanFileSize",(function(){return Ae})),n.d(o,"transformReaddir",(function(){return Se})),n.d(o,"transformArrayBuffer",(function(){return Be})),n.d(o,"getFileIcon",(function(){return Te})),n.d(o,"createFileIter",(function(){return Pe})),n.d(o,"basename",(function(){return je})),n.d(o,"pathname",(function(){return ke})),n.d(o,"parseMountpointPrefix",(function(){return Ne})),n.d(o,"filterMountByGroups",(function(){return xe})),n.d(o,"createWatchEvents",(function(){return Re}));var i={};n.r(i),n.d(i,"en_EN",(function(){return $n})),n.d(i,"fr_FR",(function(){return Vn})),n.d(i,"nb_NO",(function(){return Wn})),n.d(i,"sl_SI",(function(){return zn})),n.d(i,"vi_VN",(function(){return Yn})),n.d(i,"de_DE",(function(){return qn})),n.d(i,"zh_CN",(function(){return Zn})),n.d(i,"fa_FA",(function(){return Xn})),n.d(i,"pt_BR",(function(){return Qn})),n.d(i,"ru_RU",(function(){return Jn})),n.d(i,"tr_TR",(function(){return tr})),n.d(i,"sv_SE",(function(){return er}));var a={};n.r(a),n.d(a,"capabilities",(function(){return Lr})),n.d(a,"readdir",(function(){return mr})),n.d(a,"readfile",(function(){return yr})),n.d(a,"writefile",(function(){return _r})),n.d(a,"copy",(function(){return gr})),n.d(a,"rename",(function(){return Er})),n.d(a,"move",(function(){return Or})),n.d(a,"mkdir",(function(){return br})),n.d(a,"unlink",(function(){return wr})),n.d(a,"exists",(function(){return Ar})),n.d(a,"stat",(function(){return Sr})),n.d(a,"url",(function(){return Br})),n.d(a,"download",(function(){return Tr})),n.d(a,"search",(function(){return Pr})),n.d(a,"touch",(function(){return jr}));var s=n(4),c=n.n(s),u=n(0),l=n.n(u),f=n(1),p=n.n(f),d=n(2),h=n.n(d),v=n(13),L=n.n(v),m=n(8),y=n.n(m),_=n(5),g=n.n(_),E=n(6),O=n.n(E),b=n(3),w=n.n(b),A=n(11),S=n.n(A),B=n(7),T=n(22),P=n.p+"881c86876af63b732063d7bdd51bb226.png",j=["debug","log","info","warn","error"],k=[],N=function(t,e){return k.reduce((function(e,n){return n.apply(void 0,[t].concat(c()(e)))}),e)},x=function(t){return j.forEach((function(e){return t[e]=function(t){var e=function(t,e){return"function"==typeof e[t].bind?e[t].bind(e):Function.prototype.bind.apply(e[t],e)}(t,console);return k.length>0?function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(void 0,c()(N(t,r)))}:e}(e)}))},R={addMiddleware:function(t){k.push(t),x(R)},clearMiddleware:function(){k=[],x(R)}};x(R);var C=R;function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var D=function(t){return M({classNames:[],modal:!1,ontop:!1,gravity:!1,moveable:!0,resizable:!0,focusable:!0,maximizable:!0,minimizable:!0,sessionable:!0,closeable:!0,header:!0,controls:!0,visibility:"global",shadowDOM:!1,clamp:!0,droppable:!0,mediaQueries:{small:"screen and (max-width: 640px)",medium:"screen and (min-width: 640px) and (max-width: 1024px)",big:"screen and (min-width: 1024px)"},minDimension:{width:100,height:100},maxDimension:{width:-1,height:-1}},t)},F=function(t,e,n){return M({title:e.title||e.id,icon:e.icon||P,media:null,moving:!1,resizing:!1,loading:!1,focused:!1,maximized:!1,minimized:!1,zIndex:1,styles:{},position:M({left:null,top:null},e.position),dimension:M({width:Math.max(n.minDimension.width,100),height:Math.max(n.minDimension.height,100)},e.dimension)},t)},U=function(t,e){var n=e.dimension,r=e.position,o=t.width-n.width,i=t.height-n.height+t.top;return{left:Math.max(0,Math.min(o,r.left)),top:Math.max(0,Math.max(t.top,Math.min(i,r.top)))}},G=function(t,e){if("function"==typeof e){if(t.attributes.shadowDOM)try{var n="string"==typeof t.attributes.shadowDOM?t.attributes.shadowDOM:"open";return void e(t.$content.attachShadow({mode:n}),t)}catch(t){C.warn("Shadow DOM not supported?",t)}e(t.$content,t)}},H=function(t){return Object.keys(t.attributes.mediaQueries).filter((function(e){return T.match(t.attributes.mediaQueries[e],{type:"screen",orientation:(n=window.screen,n&&n.orientation?n.orientation.type:window.matchMedia("(orientation: portrait)")?"portrait":"landscape"),width:t.$element.offsetWidth||t.state.dimension.width,height:t.$element.offsetHeight||t.state.dimension.height});var n})).pop()},K=function(t,e,n){var r=function(t,e){return e instanceof RegExp?!!t.match(e):t===e},o=t.find((function(t){var o=t.application,i=t.window;return!(!o&&!i||o&&!r(e,o)||i&&!r(n||"",i))})),i=o&&o.options?o.options:{};return["position","dimension","attributes"].reduce((function(t,e){return i[e]?M(M({},t),{},l()({},e,i[e])):t}),{})};function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var W=["open","close","message","error"],z=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return p()(this,n),C.debug("Websocket::constructor()",t,r),(o=e.call(this,"Websocket@"+t)).uri=r,o.closed=!1,o.connected=!1,o.connecting=!1,o.reconnecting=!1,o.connectfailed=!1,o.options=V({reconnect:!0,interval:1e3,open:!0},i),o.connection=null,o._attachEvents(),o.options.open&&o.open(),o}return h()(n,[{key:"_destroyConnection",value:function(){var t=this;this.connection&&(W.forEach((function(e){t.connection["on".concat(e)]=function(){}})),this.reconnecting=clearInterval(this.reconnecting),this.connection=null)}},{key:"_attachEvents",value:function(){var t=this;this.on("open",(function(e){var n=!!t.reconnecting;t.connected=!0,t.reconnecting=!1,t.connectfailed=!1,t.reconnecting=clearInterval(t.reconnecting),t.emit("connected",e,n)})),this.on("close",(function(e){t.connected||t.connectfailed||(t.emit("failed",e),t.connectfailed=!0),clearInterval(t.reconnecting),t._destroyConnection(),t.connected=!1,t.options.reconnect&&(t.reconnecting=setInterval((function(){t.closed||t.open()}),t.options.interval)),t.emit("disconnected",e,t.closed)}))}},{key:"open",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.connection&&!e||(this._destroyConnection(),this.reconnecting=clearInterval(this.reconnecting),this.connection=new WebSocket(this.uri),this.closed=!1,W.forEach((function(e){t.connection["on".concat(e)]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.emit.apply(t,[e].concat(r))}})))}},{key:"send",value:function(){var t;return(t=this.connection).send.apply(t,arguments)}},{key:"close",value:function(){var t;return this.closed=!0,(t=this.connection).close.apply(t,arguments)}}]),n}(B.EventEmitter);function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var Z=function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=t.apply(void 0,n);if("boolean"==typeof o)return o}catch(t){C.warn("droppable value parsing error",t)}return!0},X=function(t,e){var n,r=[];if(t.dataTransfer){r=t.dataTransfer.files?Array.from(t.dataTransfer.files):[];try{var o=t.dataTransfer.getData(e);try{n="application/json"===e?void 0===o?o:JSON.parse(o):o}catch(t){n=o,C.warn("droppable dataTransfer parsing error",t)}}catch(t){C.warn("droppable dataTransfer parsing error",t)}}return{files:r,data:n}},Q=function(t,e,n,r){var o="function"==typeof r,i="application/json"===t?JSON.stringify(n):n;return function(n,a,s){if(n.dataTransfer){if(n.dataTransfer.setDragImage&&o)try{r(n,a,s)}catch(t){C.warn("draggable dragstart setDragImage error",t)}try{n.dataTransfer.effectAllowed=e,n.dataTransfer.setData(t,i)}catch(t){C.warn("draggable dragstart dataTransfer error",t)}}}},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=q({type:"application/json",effect:"move",ondragstart:function(){return!0},ondragend:function(){return!0},setDragImage:null},e),r=n.type,o=n.effect,i=n.data,a=n.ondragstart,s=n.ondragend,c=n.setDragImage,u=Q(r,o,i,c),l=function(n){return t.setAttribute("aria-grabbed","true"),u(n,t,e),a(n)},f=function(e){return t.setAttribute("aria-grabbed","false"),s(e)},p=function(){t.removeAttribute("draggable"),t.removeAttribute("aria-grabbed"),t.removeEventListener("dragstart",l),t.removeEventListener("dragend",f),t.classList.remove("osjs__draggable")};return t.setAttribute("draggable","true"),t.setAttribute("aria-grabbed","false"),t.addEventListener("dragstart",l),t.addEventListener("dragend",f),t.classList.add("osjs__draggable"),{destroy:p}},tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=q({type:"application/json",effect:"move",ondragenter:function(){return!0},ondragover:function(){return!0},ondragleave:function(){return!0},ondrop:function(){return!0},strict:!1},e),r=n.strict,o=n.type,i=n.effect,a=n.ondragenter,s=n.ondragover,c=n.ondragleave,u=n.ondrop,l=function(t){return a(t)},f=function(e){return t.classList.remove("osjs__drop"),Z(c,e)},p=function(e){return e.preventDefault(),t.contains(e.target)?(e.stopPropagation(),e.dataTransfer.dropEffect=i,t.classList.add("osjs__drop"),Z(s,e)):(t.classList.remove("osjs__drop"),!1)},d=function(e){if(r&&e.target!==t)return!1;var n=X(e,o),i=n.files,a=n.data;return e.stopPropagation(),e.preventDefault(),t.classList.remove("osjs__drop"),Z(u,e,a,i)},h=function(){t.removeAttribute("aria-dropeffect",i),t.removeEventListener("dragenter",l),t.removeEventListener("dragover",p),t.removeEventListener("dragleave",f),t.removeEventListener("drop",d),t.classList.remove("osjs__droppable")};return t.setAttribute("aria-dropeffect",i),t.addEventListener("dragenter",l),t.addEventListener("dragover",p),t.addEventListener("dragleave",f),t.addEventListener("drop",d),t.classList.add("osjs__droppable"),{destroy:h}};function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var rt,ot,it="Notification"in window,at=function(t,e){return new Promise((function(n,r){var o=document.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.onload=function(){return n(o)},o.onerror=function(t){return r(t)},o.setAttribute("href",e),t.appendChild(o),o}))},st=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){var i=nt(nt({async:!1,defer:!1},n),{},{src:e,onerror:function(t){return o(t)},onload:function(){return r(a)}}),a=document.createElement("script");return a.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||r(a)},Object.assign(a,i),t.appendChild(a),a}))},ct=function(t){return Object.keys(t).map((function(t){return[t,t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()]})).map((function(e){return"".concat(e[1],": ").concat(t[e[0]])})).join(";")},ut=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return function(){return t}}(),lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=nt({volume:1},e),r=new Audio;r.volume=n.volume,r.src=t;try{var o=r.play();if(o instanceof Promise)return o.then((function(){return r})).catch((function(e){return C.warn("Failed to play sound",t,e)}))}catch(e){C.warn("Failed to play sound",t,e)}return Promise.resolve(r)},ft=(rt=document.createElement("div"),ot=["WebkitTransition","MozTransition","OTransition","transition"].some((function(t){return void 0!==rt.style[t]})),function(){return ot});function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ht=[],vt=0,Lt=1,mt=null,yt='<div class="osjs-window-inner">\n  <div class="osjs-window-header">\n    <div class="osjs-window-icon">\n      <div></div>\n    </div>\n    <div class="osjs-window-title"></div>\n    <div class="osjs-window-button" data-action="minimize">\n      <div></div>\n    </div>\n    <div class="osjs-window-button" data-action="maximize">\n      <div></div>\n    </div>\n    <div class="osjs-window-button" data-action="close">\n      <div></div>\n    </div>\n  </div>\n  <div class="osjs-window-content">\n  </div>\n  <div class="osjs-window-resize" data-direction="n"></div>\n  <div class="osjs-window-resize" data-direction="nw"></div>\n  <div class="osjs-window-resize" data-direction="w"></div>\n  <div class="osjs-window-resize" data-direction="sw"></div>\n  <div class="osjs-window-resize" data-direction="s"></div>\n  <div class="osjs-window-resize" data-direction="se"></div>\n  <div class="osjs-window-resize" data-direction="e"></div>\n  <div class="osjs-window-resize" data-direction="ne"></div>\n</div>'.replace(/\n\s+/g,"").trim(),_t=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(this,n),o=dt({id:null,title:null,parent:null,template:null,ondestroy:null,attributes:{},position:{},dimension:{},state:{}},o),C.debug("Window::constructor()",o),r=e.call(this,"Window@"+o.id),"string"==typeof o.position&&(o.attributes.gravity=o.position,o.position={}),r.id=o.id,r.wid=++vt,r.parent=o.parent,r.children=[],r.core=t,r.destroyed=!1,r.rendered=!1,r.inited=!1,r.attributes=D(o.attributes),r.state=F(o.state,o,r.attributes),r.$element=document.createElement("div"),r.$content=null,r.$header=null,r.$icon=null,r.$title=null,r._preventDefaultPosition=!1,r._loadingDebounce=null,r._template=o.template,r._ondestroy=o.ondestroy||function(){return!0},r._lastCssText="",r._lastAttributes={},ht.push(L()(r)),r}return h()(n,[{key:"destroy",value:function(){var t=this;if(!this.destroyed&&("function"!=typeof this._ondestroy||!1!==this._ondestroy())){this.destroyed=!0,C.debug("Window::destroy()"),this.emit("destroy",this),this.core.emit("osjs/window:destroy",this),this.children.forEach((function(t){return t.destroy()})),this.$element&&this.$element.remove(),mt===this&&(mt=null);var e=ht.findIndex((function(e){return e===t}));-1!==e&&ht.splice(e,1),this.children=[],this.parent=null,this.$element=null,this.$content=null,this.$header=null,this.$icon=null,this.$title=null,y()(w()(n.prototype),"destroy",this).call(this)}}},{key:"init",value:function(){var t=this;return this.inited||(this.parent&&(this.on("destroy",(function(){var e=t.parent.children.findIndex((function(e){return e===t}));-1!==e&&t.parent.children.splice(e,1)})),this.parent.children.push(this)),this._initTemplate(),this._initBehavior(),this.inited=!0,this.emit("init",this),this.core.emit("osjs/window:create",this)),this}},{key:"_initTemplate",value:function(){var t=this.core.config("windows.template")||yt;this._template?this.$element.innerHTML="function"==typeof this._template?this._template(this,t):this._template:this.$element.innerHTML=t,this.$content=this.$element.querySelector(".osjs-window-content"),this.$header=this.$element.querySelector(".osjs-window-header"),this.$icon=this.$element.querySelector(".osjs-window-icon > div"),this.$title=this.$element.querySelector(".osjs-window-title")}},{key:"_initBehavior",value:function(){var t=this;if(this.core.has("osjs/desktop")){var e=function(t,e,n){var r=e.width,o=e.height,i=n.top,a=n.left,s=function(e,n){return isNaN(e)||e>1&&Number.isInteger(e)?e:Math.round(t[n]*parseFloat(e))};return{dimension:{width:s(r,"width"),height:s(o,"height")},position:{top:s(i,"height"),left:s(a,"width")}}}(this.core.make("osjs/desktop").getRect(),this.state.dimension,this.state.position),n=e.dimension,r=e.position;this.state.dimension=n,this.state.position=r}var o=this.core.make("osjs/window-behavior");if(o&&o.init(this),this.attributes.droppable){var i=tt(this.$element,{ondragenter:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.emit.apply(t,["dragenter"].concat(n,[t]))},ondragover:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.emit.apply(t,["dragover"].concat(n,[t]))},ondragleave:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.emit.apply(t,["dragleave"].concat(n,[t]))},ondrop:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.emit.apply(t,["drop"].concat(n,[t]))}});this.on("destroy",(function(){return i.destroy()}))}}},{key:"_checkModal",value:function(){var t=this;this.parent&&(this.attributes.modal&&(this.on("render",(function(){return t.parent.setState("loading",!0)})),this.on("destroy",(function(){return t.parent.setState("loading",!1)}))),this.on("destroy",(function(){return t.parent.focus()})))}},{key:"_setClassNames",value:function(){var t=this,e=["osjs-window"].concat(c()(this.attributes.classNames));this.id&&e.push("Window_".concat(this.id)),e.filter((function(t){return!!t})).forEach((function(e){return t.$element.classList.add(e)}))}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.rendered||(this.inited||this.init(),this._setClassNames(),this._updateButtons(),this._updateAttributes(),this._updateStyles(),this._updateTitle(),this._updateIconStyles(),this._updateHeaderStyles(),this._checkModal(),this._preventDefaultPosition||this.gravitate(this.attributes.gravity),this.attributes.clamp&&this.clampToViewport(!1),this.setNextZindex(!0),this.core.$contents.appendChild(this.$element),G(this,e),this.rendered=!0,setTimeout((function(){t.emit("render",t),t.core.emit("osjs/window:render",t)}),1)),this}},{key:"close",value:function(){return!this.destroyed&&(this.emit("close",this),this.destroy(),!0)}},{key:"focus",value:function(){return!(this.state.minimized||!this._toggleState("focused",!0,"focus")||(this._focus(),0))}},{key:"_focus",value:function(){mt&&mt!==this&&mt.blur(),mt=this,this.setNextZindex()}},{key:"blur",value:function(){var t=function(t){if(t){var e=document.activeElement;return t.contains(e)?e:null}return null}(this.$element);return t&&t.blur(),this._toggleState("focused",!1,"blur")}},{key:"minimize",value:function(){return!(!this.attributes.minimizable||!this._toggleState("minimized",!0,"minimize")||(this.blur(),0))}},{key:"raise",value:function(){return this._toggleState("minimized",!1,"raise")}},{key:"maximize",value:function(){return!!this.attributes.maximizable&&this._maximize(!0)}},{key:"restore",value:function(){return this._maximize(!1)}},{key:"_maximize",value:function(t){var e=this;if(this._toggleState("maximized",t,t?"maximize":"restore")){var n=function(){return e.emit("resized",{width:e.$element?e.$element.offsetWidth:-1,height:e.$element?e.$element.offsetHeight:-1},e)};return ft()?this.once("transitionend",n):n(),!0}return!1}},{key:"resizeFit",value:function(t){if(t=t||this.$content.firstChild){var e=function(t,e,n){var r=(n.parentNode.classList.contains("osjs-gui")?n.parentNode:n).getBoundingClientRect(),o=t.$content.getBoundingClientRect(),i=Math.ceil(o.height-r.height),a=Math.ceil(o.width-r.width),s=t.$header.offsetHeight,c=t.state.position,u=c.left,l=c.top,f=t.attributes.minDimension,p=t.attributes.maxDimension,d=Math.max(n.offsetWidth+a,f.width),h=Math.max(n.offsetHeight+i+s,f.height);return p.width>0&&(d=Math.min(d,p.width)),p.height>0&&(h=Math.min(h,p.height)),d=Math.max(d,n.offsetWidth),h=Math.max(h,n.offsetHeight),e&&(d=Math.min(d,e.width-u),h=Math.min(h,e.height-l)),{width:d,height:h}}(this,this.core.has("osjs/desktop")?this.core.make("osjs/desktop").getRect():null,t),n=e.width,r=e.height;isNaN(n)||isNaN(r)||this.setDimension({width:n,height:r})}}},{key:"clampToViewport",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.core.has("osjs/desktop")){var e=this.core.make("osjs/desktop").getRect();this.state.position=dt(dt({},this.state.position),U(e,this.state)),t&&this._updateStyles()}}},{key:"setIcon",value:function(t){this.state.icon=t,this._updateIconStyles()}},{key:"setTitle",value:function(t){this.state.title=t||"",this._updateTitle(),this.core.emit("osjs/window:change",this,"title",t)}},{key:"setDimension",value:function(t){var e=dt(dt({},this.state.dimension),t||{}),n=e.width,r=e.height;this.state.dimension.width=n,this.state.dimension.height=r,this._updateStyles()}},{key:"setPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=dt(dt({},this.state.position),t||{}),r=n.left,o=n.top;this.state.position.top=o,this.state.position.left=r,e&&(this._preventDefaultPosition=!0),this._updateStyles()}},{key:"setZindex",value:function(t){this.state.zIndex=t,C.debug("Window::setZindex()",t),this._updateStyles()}},{key:"setNextZindex",value:function(t){(t||this._checkNextZindex())&&(this.setZindex(Lt),Lt++)}},{key:"setState",value:function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=function(){return n._setState(t,e,r)};"loading"===t&&r&&(clearTimeout(this._loadingDebounce),!0===e)?this._loadingDebounce=setTimeout((function(){return o()}),250):o()}},{key:"gravitate",value:function(t){if(this.core.has("osjs/desktop")){var e=function(t,e,n){var r=t.state.position,o=r.left,i=r.top;if("center"===n)o=e.width/2-t.state.dimension.width/2,i=e.height/2-t.state.dimension.height/2;else if(n){var a=n.match(/top|bottom/),s=n.match(/left|rigth/);n.match(/top/)?i=e.top:n.match(/bottom/)&&(i=e.height-t.state.dimension.height+e.top),n.match(/left/)?o=e.left:n.match(/right/)&&(o=e.width-t.state.dimension.width),!a&&n.match(/center/)?i=e.height/2-t.state.dimension.height/2:!s&&n.match(/center/)&&(o=e.width/2-t.state.dimension.width/2)}return{left:o,top:i}}(this,this.core.make("osjs/desktop").getRect(),t);this.setPosition(e)}}},{key:"getState",value:function(t){var e=this.state[t];return-1!==["position","dimension","styles"].indexOf(t)?dt({},e):e}},{key:"getSession",value:function(){return!1===this.attributes.sessionable?null:{id:this.id,maximized:this.state.maximized,minimized:this.state.minimized,position:dt({},this.state.position),dimension:dt({},this.state.dimension)}}},{key:"_setState",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.state[t];this.state[t]=e,n&&(r!==e&&C.debug("Window::_setState()",t,e),this._updateAttributes(),this._updateStyles())}},{key:"_toggleState",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.state[t]!==e&&(C.debug("Window::_toggleState()",t,e,n,r),this.state[t]=e,this.emit(n,this),this.core.emit("osjs/window:change",this,t,e),r&&this._updateAttributes(),!0)}},{key:"_checkNextZindex",value:function(){var t=this,e=this.attributes.ontop,n=this.state.zIndex,r=ht.filter((function(t){return t.attributes.ontop===e})).filter((function(e){return e.wid!==t.wid})).map((function(t){return t.state.zIndex}));return n<(r.length>0?Math.max.apply(null,r):0)}},{key:"_updateDOM",value:function(){this._updateAttributes(),this._updateStyles()}},{key:"_updateButtons",value:function(){var t=this,e={maximizable:"maximize",minimizable:"minimize",closeable:"close"};this.attributes.controls?Object.keys(e).forEach((function(n){var r;t.attributes[n]||(r=e[n],t.$header.querySelector(".osjs-window-button[data-action=".concat(r,"]")).style.display="none")})):Array.from(this.$header.querySelectorAll(".osjs-window-button")).forEach((function(t){return t.style.display="none"}))}},{key:"_updateTitle",value:function(){if(this.$title){var t=(e=this.state.title,(n=document.createElement("div")).innerHTML=e,n.textContent);this.$title.innerHTML!==t&&(this.$title.innerHTML=t)}var e,n}},{key:"_updateIconStyles",value:function(){if(this.$icon){var t="url(".concat(this.state.icon,")");this.$icon.style.backgroundImage!==t&&(this.$icon.style.backgroundImage=t)}}},{key:"_updateHeaderStyles",value:function(){if(this.$header){var t=this.attributes.header?void 0:"none";this.$header.style.display!==t&&(this.$header.style.display=t)}}},{key:"_updateAttributes",value:function(){var t,e,n,r=this;if(this.$element){var o=(t=this.id,e=this.state,n=this.attributes,{id:t,media:e.media,moving:e.moving,resizing:e.resizing,loading:e.loading,focused:e.focused,maximized:e.maximized,minimized:e.minimized,modal:n.modal,ontop:n.ontop,resizable:n.resizable,moveable:n.moveable,maximizable:n.maximizable,minimizable:n.minimizable}),i=Object.keys(o).filter((function(t){return o[t]!==r._lastAttributes[t]}));i.length>0&&(i.forEach((function(t){return r.$element.setAttribute("data-".concat(t),String(o[t]))})),this._lastAttributes=o)}}},{key:"_updateStyles",value:function(){if(this.$element){var t=ct((e=this.state,n=this.attributes,r=e.zIndex,o=e.styles,a=(i=e.position).top,s=i.left,u=(c=e.dimension).width,l=c.height,f=n.ontop,M({top:String(a)+"px",left:String(s)+"px",height:String(l)+"px",width:String(u)+"px",zIndex:10+(f?8388635:0)+r},o)));t!==this._lastCssText&&(this.$element.style.cssText=t,this._lastCssText=t)}var e,n,r,o,i,a,s,c,u,l,f}}],[{key:"getWindows",value:function(){return ht}},{key:"lastWindow",value:function(){return mt}}]),n}(B.EventEmitter);function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ot,bt=[],wt=0,At=function(t){return"osjs/application/"+t.name},St=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t,r){var o;p()(this,n),r=Et({args:{},options:{},metadata:{}},r),C.debug("Application::constructor()",r);var i=r.options.settings?Et({},r.options.settings):{},a=r.metadata&&r.metadata.name?"Application@"+r.metadata.name:"Application"+String(wt);return(o=e.call(this,a)).pid=wt,o.core=t,o.args=r.args,o.options=Et({sessionable:!0,windowAutoFocus:!0},r.options),o.metadata=r.metadata,o.windows=[],o.workers=[],o.requestOptions={},o.destroyed=!1,o.settings=t.make("osjs/settings").get(At(o.metadata),null,i),o.started=new Date,o.sockets=[],bt.push(L()(o)),wt++,o.core.emit("osjs/application:create",L()(o)),o}return h()(n,[{key:"destroy",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.destroyed){this.destroyed=!0,this.emit("destroy"),this.core.emit("osjs/application:destroy",this);var r=function(t,e){try{t.forEach(e)}catch(t){C.warn("Exception on application destruction",t)}return[]};if(this.windows=r(this.windows,(function(t){return t.destroy()})),this.sockets=r(this.sockets,(function(t){return t.close()})),this.workers=r(this.workers,(function(t){return t.terminate()})),e){var o=bt.findIndex((function(e){return e===t}));-1!==o&&bt.splice(o,1)}y()(w()(n.prototype),"destroy",this).call(this)}}},{key:"relaunch",value:function(){var t=this,e=this.windows.map((function(t){return t.getSession()}));this.destroy(),setTimeout((function(){t.core.run(t.metadata.name,Et({},t.args),Et(Et({},t.options),{},{forcePreload:t.core.config("development"),restore:{windows:e}}))}),1)}},{key:"resource",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.core.url(t,e,this.metadata)}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json",r=this.resource(t);return this.core.request(r,e,n)}},{key:"socket",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/socket",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Et({socket:{}},e);var n=this.resource(t,{type:"websocket"}),r=new z(this.metadata.name,n,e.socket);return this.sockets.push(r),r}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.core.send("osjs/application:socket:message",{pid:this.pid,name:this.metadata.name,args:e})}},{key:"worker",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resource(t),r=new Worker(n,Et({credentials:"same-origin"},e));return this.workers.push(r),r}},{key:"createWindow",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.windows.find((function(t){return t.id===e.id}));if(n){var r=this.core.make("osjs/locale").translate("ERR_WINDOW_ID_EXISTS",e.id);throw new Error(r)}var o=this.core.config("application.windows",[]),i=K(o,this.metadata.name,e.id),a=new _t(this.core,S()(e,i));if(this.options.restore){var s=this.options.restore.windows||[],c=s.findIndex((function(t){return t.id===a.id}));if(-1!==c){var u=s[c];a.setPosition(u.position,!0),a.setDimension(u.dimension),u.minimized?a.minimize():u.maximized&&a.maximize(),this.options.restore.windows.splice(c,1)}}return a.init(),this.windows.push(a),this.emit("create-window",a),a.on("destroy",(function(){if(!t.destroyed){var e=t.windows.findIndex((function(t){return t===a}));-1!==e&&t.windows.splice(e,1)}t.emit("destroy-window",a)})),this.options.windowAutoFocus&&a.focus(),a}},{key:"removeWindow",value:function(t){this.windows.filter(t).forEach((function(t){return t.destroy()}))}},{key:"getSession",value:function(){return{args:Et({},this.args),name:this.metadata.name,windows:this.windows.map((function(t){return t.getSession()})).filter((function(t){return null!==t}))}}},{key:"emitAll",value:function(t){var e=this;C.warn("Application#emitAll is deprecated. Use Core#broadcast instead");var n=function(t){return t.pid!==e.pid},r="function"==typeof t?t:"string"==typeof t?function(e){return n(e)&&e.metadata.name===t}:n;return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return bt.filter(r).map((function(e){return e.emit.apply(e,[t].concat(n))}))}}},{key:"saveSettings",value:function(){var t=this.core.make("osjs/settings"),e=At(this.metadata);return t.set(e,null,this.settings),t.save()}}],[{key:"getApplications",value:function(){return bt}},{key:"destroyAll",value:function(){bt.forEach((function(t){try{t.destroy(!1)}catch(t){C.warn("Exception on destroyAll",t)}})),bt.splice(0,bt.length)}}]),n}(B.EventEmitter),Bt=function(){function t(e){var n=this;p()(this,t),this.core=e,this.$loading=document.createElement("div"),this.$loading.className="osjs-boot-splash",e.on("osjs/core:boot",(function(){return n.show()})),e.on("osjs/core:booted",(function(){return n.destroy()})),e.on("osjs/core:logged-in",(function(){return n.show()})),e.on("osjs/core:started",(function(){return n.destroy()}))}return h()(t,[{key:"init",value:function(){this.$loading.appendChild(document.createTextNode("Loading..."))}},{key:"show",value:function(){this.$loading.parentNode||this.core.$root.appendChild(this.$loading)}},{key:"destroy",value:function(){this.$loading.parentNode&&this.$loading.remove()}}]),t}(),Tt=n(9),Pt=n(23),jt=n.n(Pt),kt={nb:"nb_NO"},Nt=/\{(\d+)\}/g,xt=function(t){return function(e,n){return n in t?t[n]:e}},Rt=function(t,e){var n=function(t,e){return t.config("locale."+e)}(t,e);return{defaultLocale:n,userLocale:function(t,e,n){return t.make("osjs/settings").get("osjs/locale",e,n)}(t,e,n)}},Ct=function(t,e,n,r){var o=t.en_EN||{},i=t[e]||t[n]||{};return void 0===i[r]?o[r]||r:i[r]},It=function(t,e,n,r){for(var o=Ct(t,e,n,r),i=arguments.length,a=new Array(i>4?i-4:0),s=4;s<i;s++)a[s-4]=arguments[s];return o.replace(Nt,xt(a))},Mt=function(t){return function(e,n){var r=Rt(t,"language"),o=r.defaultLocale;return e[r.userLocale]||e[o]||e.en_EN||n}},Dt=function(t){return function(e){var n=Rt(t,"language"),r=n.defaultLocale,o=n.userLocale;return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return It.apply(void 0,[e,o,r,t].concat(i))}}},Ft=(Ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userLanguage||t.language||"",n=function(t){return kt[t]?kt[t]:t.match(/_/)?t:t?"".concat(t,"_").concat(t.toUpperCase()):""},r=(t.languages||[e]).map((function(t){return n(t.replace("-","_"))})).filter((function(t){return!!t}));return r[r.length-1]}(navigator),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_EN",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ot||t;return e.lenght>0&&-1===e.indexOf(Ot)?t:n}),Ut=n.p+"f4cfc6708cf6bfc17d4b1e775f594ae2.png",Gt=function(t){return t.replace(/(index\.(html?|php))$/,"").replace(/\/?$/,"/")},Ht=Gt(window.location.pathname),Kt=Gt(window.location.href),$t={en_EN:"English",nb_NO:"Norwegian, Norsk (bokmål)",vi_VN:"Vietnamese, Vietnamese",fr_FR:"French",de_DE:"German",sl_SI:"Slovenian, Slovenščina",zh_CN:"Chinese (simplified)",fa_FA:"Persian",pt_BR:"Português (Brasil)",ru_RU:"Русский (Russian)",tr_TR:"Türkçe (Turkish)",sv_SE:"Svenska (Swedish)"},Vt={development:!"production".match(/^prod/i),standalone:!1,languages:$t,http:{ping:!0,public:Ht,uri:Kt},ws:{connectInterval:5e3,uri:Kt.replace(/^http/,"ws"),disabled:!1},packages:{manifest:"/metadata.json",metadata:[],hidden:[],permissions:{},overrideMetadata:{}},application:{pinned:[],autostart:[],categories:{development:{label:"LBL_APP_CAT_DEVELOPMENT",icon:"applications-development"},science:{label:"LBL_APP_CAT_SCIENCE",icon:"applications-science"},games:{label:"LBL_APP_CAT_GAMES",icon:"applications-games"},graphics:{label:"LBL_APP_CAT_GRAPHICS",icon:"applications-graphics"},network:{label:"LBL_APP_CAT_NETWORK",icon:"applications-internet"},multimedia:{label:"LBL_APP_CAT_MULTIMEDIA",icon:"applications-multimedia"},office:{label:"LBL_APP_CAT_OFFICE",icon:"applications-office"},system:{label:"LBL_APP_CAT_SYSTEM",icon:"applications-system"},utilities:{label:"LBL_APP_CAT_UTILITIES",icon:"applications-utilities"},other:{label:"LBL_APP_CAT_OTHER",icon:"applications-other"}},windows:[]},auth:{ui:{},cookie:{name:"osjs.auth",expires:7,enabled:!1,secure:!1},login:{username:null,password:null},defaultUserData:{id:null,username:"osjs",groups:[]}},settings:{lock:[],prefix:"osjs__",defaults:{"osjs/default-application":{},"osjs/session":[],"osjs/desktop":{},"osjs/locale":{}}},search:{enabled:!0},notifications:{native:!1},desktop:{lock:!1,contextmenu:{enabled:!0,defaults:!0},settings:{font:"Roboto",theme:"StandardTheme",sounds:"FreedesktopSounds",icons:"GnomeIcons",animations:!1,panels:[{position:"top",items:[{name:"menu"},{name:"windows"},{name:"tray"},{name:"clock"}]}],widgets:[],keybindings:{"open-application-menu":"shift+alt+a","close-window":"shift+alt+w"},notifications:{position:"top-right"},background:{src:Ut,color:"#572a79",style:"cover"},iconview:{enabled:!0,path:"home:/.desktop",fontColorStyle:"system",fontColor:"#ffffff"}}},locale:{language:Ft("en_EN",Object.keys($t)),rtl:["az","fa","he","uz","ar"],format:{shortDate:"yyyy-mm-dd",mediumDate:"dS mmm yyyy",longDate:"dS mmmm yyyy",fullDate:"dddd dS mmmm yyyy",shortTime:"HH:MM",longTime:"HH:MM:ss"}},windows:{lofi:!1,mobile:!1,template:null,clampToViewport:!0,moveKeybinding:"ctrl"},vfs:{watch:!0,defaultPath:"home:/",defaultAdapter:"system",adapters:{},mountpoints:[{name:"apps",label:"Applications",adapter:"apps",icon:P,attributes:{visibility:"restricted",readOnly:!0}},{name:"osjs",label:"OS.js",adapter:"system",icon:{name:"folder-publicshare"}},{name:"home",label:"Home",adapter:"system",icon:{name:"user-home"}}],icons:{"^application/zip":{name:"package-x-generic"},"^application/javascript":{name:"text-x-script"},"^application/json":{name:"text-x-script"},"^application/x-python":{name:"text-x-script"},"^application/php":{name:"text-x-script"},"^application/pdf":{name:"x-office-document"},"^application/rtf":{name:"x-office-document"},"^application/msword":{name:"x-office-document"},"^application/(xz|tar|gzip)":{name:"package-x-generic"},"^text/css":{name:"text-x-script"},"^text/html":{name:"text-html"},"^(application|text)/xml":{name:"text-html"},"^application":{name:"application-x-executable"},"^text":{name:"text-x-generic"},"^audio":{name:"audio-x-generic"},"^video":{name:"video-x-generic"},"^image":{name:"image-x-generic"}}},providers:{globalBlacklist:["osjs/websocket","osjs/clipboard","osjs/gapi"],globalWhitelist:[]}},Wt=n(16),zt=n.n(Wt),Yt=n(10),qt=n.n(Yt);function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var Qt=function(t){return Object.entries(t).filter((function(t){return null!=qt()(t,2)[1]})).map((function(t){var e=qt()(t,2),n=e[0],r=e[1],o="object"===zt()(r)?JSON.stringify(r):r;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(o))})).join("&")},Jt=[window.ArrayBuffer,window.ArrayBufferView,window.Blob,window.File,window.URLSearchParams,window.FormData].filter((function(t){return!!t})),te=function(t,e,n){var r=Xt({credentials:"same-origin",method:"get",headers:{}},e);"json"===n&&(r.headers=Xt(Xt({},r.headers),{},{Accept:"application/json, text/plain, */*","Content-Type":"application/json"})),r.body&&"get"===r.method.toLowerCase()&&(""!==Qt(r.body)&&(t+="?"+Qt(r.body)),delete r.body);var o=void 0!==r.body,i="string"==typeof r.body;return"json"===n&&o&&!i&&(r.body instanceof FormData||Jt.find((function(t){return r.body instanceof t}))||(r.body=JSON.stringify(r.body))),[t,r]},ee=function(t,e){return new Promise((function(n,r){var o=new XMLHttpRequest,i=function(t){return function(e){console.warn(t,e),r(new Error(t))}};"function"==typeof e.onProgress&&("GET"===e.method.toUpperCase()?o:o.upload).addEventListener("progress",(function(t){if(t.lengthComputable){var n=Math.round(t.loaded/t.total*100);e.onProgress(t,n)}})),o.addEventListener("load",(function(){n({status:o.status,statusText:o.statusText,ok:o.status>=200&&o.status<=299,headers:{get:function(t){return o.getResponseHeader(t)}},text:function(){return Promise.resolve(JSON.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},arrayBuffer:function(){return Promise.resolve(o.response)}})})),o.addEventListener("error",i("An error occured while performing XHR request")),o.addEventListener("abort",i("XHR request was aborted")),o.open(e.method,t),Object.entries(e.headers).forEach((function(t){var e=qt()(t,2),n=e[0],r=e[1];return o.setRequestHeader(n,r)})),o.responseType=e.responseType||"",o.send(e.body)}))},ne=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=te(t,e,n),o=qt()(r,2),i=o[0],a=o[1],s=function(t,e){return Promise.reject(new Error(e||"".concat(t.status," (").concat(t.statusText,")")))},c=e.xhr?ee(i,a):window.fetch(i,a);return c.then((function(t){if(!t.ok){var e=t.headers.get("content-type"),r=e&&-1!==e.indexOf("application/json")?"json":"text";return t[r]().then((function(e){return s(t,e.error)}))}return"json"===n?t.json():t}))};function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var ie=function(t){var e=t.http,n=t.ws;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof t)return e.public;if(t.match(/^(http|ws|ftp)s?:/i))return t;var i=oe({type:null,prefix:"websocket"===r.type},r),a=i.type,s=i.prefix,c="websocket"===a?n.uri:e.uri,u=t.replace(/^\/+/,"");if(o.type){var l=t.replace(/^\/?/,"/"),f="theme"===o.type?"themes":"icons"===o.type?"icons":"apps";u="".concat(f,"/").concat(o.name).concat(l)}return s?c.replace(/\/$/,"")+u.replace(/^\/?/,"/"):e.public.replace(/^\/?/,"/")+u}};function ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ce=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p()(this,n),o=se({classNames:["osjs-root"],root:document.body},o||{}),t=e.call(this,Vt,r,o);var i=document.createElement("div");i.className="osjs-contents",t.logger=C,t.ws=null,t.ping=null,t.splash=o.splash?o.splash(L()(t)):new Bt(L()(t)),t.$root=o.root,t.$contents=i,t.$resourceRoot=o.resourceRoot||document.querySelector("head"),t.requestOptions={},t.urlResolver=ie(t.configuration),t.user=t.config("auth.defaultUserData"),t.options.classNames.forEach((function(e){return t.$root.classList.add(e)}));var a=t.configuration.ws.uri;if(!a.match(/^wss?:/)){var s=window.location,c=s.protocol,u=s.host;t.configuration.ws.uri=c.replace(/^http/,"ws")+"//"+u+a.replace(/^\/+/,"/")}return t.splash.init(),t}return h()(n,[{key:"destroy",value:function(){return this.destroyed?Promise.resolve():(this.emit("osjs/core:destroy"),this.ping=clearInterval(this.ping),St.destroyAll(),this.ws&&this.ws.close(),this.$contents&&(this.$contents.remove(),this.$contents=void 0),this.user=this.config("auth.defaultUserData"),this.ws=null,this.ping=null,y()(w()(n.prototype),"destroy",this).call(this))}},{key:"boot",value:function(){var t=this,e=function(e){return e&&C.error("Error while booting",e),console.groupEnd(),t.start()};return this.booted?Promise.resolve(!1):(console.group("Core::boot()"),this.$root.appendChild(this.$contents),this._attachEvents(),this.emit("osjs/core:boot"),y()(w()(n.prototype),"boot",this).call(this).then((function(){return t.emit("osjs/core:booted"),t.has("osjs/auth")?t.make("osjs/auth").show((function(n){var r=t.config("auth.defaultUserData");t.user=se(se({},r),n),t.has("osjs/settings")?t.make("osjs/settings").load().then((function(){return e()})).catch((function(){return e()})):e()})):(C.debug("OS.js STARTED WITHOUT ANY AUTHENTICATION"),e())})).catch(e))}},{key:"start",value:function(){var t=this,e=function(e){return t.emit("osjs/core:started"),e&&C.warn("Error while starting",e),console.groupEnd(),!e};return this.started?Promise.resolve(!1):(console.group("Core::start()"),this.emit("osjs/core:start"),this._createListeners(),y()(w()(n.prototype),"start",this).call(this).then((function(n){return console.groupEnd(),!!n&&new Promise((function(e,n){try{!1===t._createConnection((function(t){return t?n(t):e()}))&&e()}catch(t){n(t)}})).then((function(){return e()})).catch((function(t){return e(t)}))})).catch(e))}},{key:"_attachEvents",value:function(){var t=this;this.on("osjs/core:started",(function(){t.has("osjs/sounds")&&t.make("osjs/sounds").play("service-login")})),this.on("osjs/core:destroy",(function(){t.has("osjs/sounds")&&t.make("osjs/sounds").play("service-logout")})),this.on("osjs/application:socket:message",(function(t){var e=t.pid,n=t.args,r=St.getApplications().find((function(t){return t&&t.pid===e}));r&&r.emit.apply(r,["ws:message"].concat(c()(n)))})),this.on("osjs/core:connected",(function(e){var n=t.config("http.ping");if(n){var r="number"==typeof n?n:18e5;t.ping=setInterval((function(){t.ws&&t.ws.connected&&!t.ws.reconnecting&&t.request("/ping").catch((function(t){return C.warn("Error on ping",t)}))}),r)}}));var e=function(){try{var e=t.make("osjs/settings").get("osjs/locale","language");t.$root.setAttribute("data-locale",e)}catch(t){console.warn(t)}};this.on("osjs/locale:change",e),this.on("osjs/settings:load",e),this.on("osjs/settings:save",e)}},{key:"_createConnection",value:function(t){var e=this;if(this.configuration.standalone||this.configuration.ws.disabled)return!1;var n=this.config("ws").uri,r=!1;return C.debug("Creating websocket connection on",n),this.ws=new z("CoreSocket",n,{interval:this.config("ws.connectInterval",1e3)}),this.ws.once("connected",(function(){setTimeout((function(){r=!0,t()}),100)})),this.ws.on("connected",(function(t,n){e.emit("osjs/core:connect",t,n)})),this.ws.once("failed",(function(n){r||(t(new Error("Connection closed")),e.emit("osjs/core:connection-failed",n))})),this.ws.on("disconnected",(function(t){e.emit("osjs/core:disconnect",t)})),this.ws.on("message",(function(t){try{var n=JSON.parse(t.data),r=n.params||[];e.emit.apply(e,[n.name].concat(c()(r)))}catch(t){C.warn("Exception on websocket message",t)}})),!0}},{key:"_createListeners",value:function(){var t=function(t){var e=t.pid,n=t.wid,r=t.args,o=St.getApplications().find((function(t){return t.pid===e})),i=o?o.windows.find((function(t){return t.wid===n})):null;i&&i.emit.apply(i,["iframe:get"].concat(c()(r||[])))};window.addEventListener("message",(function(e){var n=e.data||{};n&&"osjs/iframe:message"===n.name&&t.apply(void 0,c()(n.params||[]))}))}},{key:"url",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.urlResolver(t,e,n)}},{key:"request",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.has("osjs/locale")?this.make("osjs/locale").translate:function(t){return t};return this.config("standalone")&&!r?Promise.reject(new Error(o("ERR_REQUEST_STANDALONE"))):(t.match(/^((http|ws|ftp)s?:)/i)||(t=this.url(t),e=se(se({},e||{}),this.requestOptions||{})),ne(t,e,n).catch((function(t){throw C.warn(t),new Error(o("ERR_REQUEST_NOT_OK",t))})))}},{key:"run",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return C.debug("Core::run()",t,e,n),this.make("osjs/packages").launch(t,e,n)}},{key:"open",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("osjs/application"===t.mime)return this.run(t.path.split("/").pop());var r=function(r){return e.run(r,{file:t},n)},o=this.make("osjs/packages").getCompatiblePackages(t.mime);if(o.length>0){if(o.length>1)try{return this._openApplicationDialog(n,o,t,r),!0}catch(t){C.warn("Exception on compability check",t)}return r(o[0].name),Promise.resolve(!0)}return Promise.resolve(!1)}},{key:"_openApplicationDialog",value:function(t,e,n,r){var o=this,i=this.make("osjs/locale").translate,a=t.useDefault&&this.has("osjs/settings"),s=a?this.make("osjs/settings").get("osjs/default-application",n.mime):null,c=a?"defaultApplication":"choice",u={title:i("LBL_LAUNCH_SELECT"),message:i("LBL_LAUNCH_SELECT_MESSAGE",n.path),choices:e.reduce((function(t,e){return se(se({},t),{},l()({},e.name,e.name))}),{}),value:s};s&&!t.forceDialog?r(s):this.make("osjs/dialog",c,u,(function(t,e){var i;"ok"===t&&("defaultApplication"===c?(a&&(i=e.checked?e.value:null,o.make("osjs/settings").set("osjs/default-application",n.mime,i).save()),r(e.value)):e&&r(e))}))}},{key:"off",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.match(/^osjs\//)&&"function"!=typeof e)throw new TypeError("The callback must be a function");return y()(w()(n.prototype),"off",this).call(this,t,e,r)}},{key:"broadcast",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i="function"==typeof t?t:function(e){return e.metadata.name===t},a=St.getApplications().filter(i);return a.map((function(t){return t.emit.apply(t,[e].concat(r)),t.name}))}},{key:"send",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.ws.send(JSON.stringify({name:t,params:n}))}},{key:"setRequestOptions",value:function(t){this.requestOptions=se({},t)}},{key:"getUser",value:function(){return se({},this.user)}},{key:"middleware",value:function(t,e){return this.make("osjs/middleware").add(t,e)}},{key:"kill",value:function(t){var e=St.getApplications(),n="number"==typeof t?function(e){return e.pid===t}:function(e){return e.metadata.name===t};e.filter(n).forEach((function(t){return t.destroy()}))}}]),n}(Tt.CoreBase),ue=["ctrl","shift","alt","meta"],le=function(t,e){var n=String(t).toLowerCase().split("+"),r=String(e.key).toLowerCase();return n.every((function(t){return-1!==ue.indexOf(t)?e[t+"Key"]:r===t}))},fe=function(t){var e=t.clientX,n=t.clientY,r=t.target,o=t.touches||t.changedTouches||[];return o.length&&(e=o[0].clientX,n=o[0].clientY),{clientX:e,clientY:n,touch:o.length>0,target:r}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */};function pe(t,e){for(var n=[],r=[],o=arguments.length;o-- >2;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}}function de(t,e,n,r){var o,i=[].map,a=r&&r.children[0]||null,s=a&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:i.call(e.childNodes,(function(e){return 3===e.nodeType?e.nodeValue:t(e)}))}}(a),c=[],u=!0,l=v(t),f=function t(e,n,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(m(e,l),r)),i&&i!==(n=m(e,l))&&!i.then&&h(l=L(e,v(n,i),l)),i}}(o,r[o]):t(e.concat(o),n[o]=v(n[o]),r[o]=v(r[o]));return r}([],l,v(e));return h(),f;function p(t){return"function"==typeof t?p(t(l,f)):null!=t?t:""}function d(){o=!o;var t=p(n);for(r&&!o&&(a=function t(e,n,r,o,i){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var a=function t(e,n){var r="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),o=e.attributes;if(o){o.oncreate&&c.push((function(){o.oncreate(r)}));for(var i=0;i<e.children.length;i++)r.appendChild(t(e.children[i]=p(e.children[i]),n));for(var a in o)g(r,a,o[a],null,n)}return r}(o,i);e.insertBefore(a,n),null!=r&&E(e,n,r),n=a}else if(null==r.nodeName)n.nodeValue=o;else{!function(t,e,n,r){for(var o in v(e,n))n[o]!==("value"===o||"checked"===o?t[o]:e[o])&&g(t,o,n[o],e[o],r);var i=u?n.oncreate:n.onupdate;i&&c.push((function(){i(t,e)}))}(n,r.attributes,o.attributes,i=i||"svg"===o.nodeName);for(var s={},l={},f=[],d=r.children,h=o.children,L=0;L<d.length;L++)f[L]=n.childNodes[L],null!=(_=y(d[L]))&&(s[_]=[f[L],d[L]]);L=0;for(var m=0;m<h.length;){var _=y(d[L]),O=y(h[m]=p(h[m]));if(l[_])L++;else if(null==O||O!==y(d[L+1]))if(null==O||u)null==_&&(t(n,f[L],d[L],h[m],i),m++),L++;else{var b=s[O]||[];_===O?(t(n,b[0],b[1],h[m],i),L++):b[0]?t(n,n.insertBefore(b[0],f[L]),b[1],h[m],i):t(n,f[L],null,h[m],i),l[O]=h[m],m++}else null==_&&E(n,f[L],d[L]),L++}for(;L<d.length;)null==y(d[L])&&E(n,f[L],d[L]),L++;for(var L in s)l[L]||E(n,s[L][0],s[L][1])}return n}(r,a,s,s=t)),u=!1;c.length;)c.pop()()}function h(){o||(o=!0,setTimeout(d))}function v(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function L(t,e,n){var r={};return t.length?(r[t[0]]=t.length>1?L(t.slice(1),e,n[t[0]]):e,v(n,r)):e}function m(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function y(t){return t?t.key:null}function _(t){return t.currentTarget.events[t.type](t)}function g(t,e,n,r,o){if("key"===e);else if("style"===e)if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),v(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}else"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?r||(r=t.events[e]):t.events={},t.events[e]=n,n?r||t.addEventListener(e,_):t.removeEventListener(e,_)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!o?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),null!=n&&!1!==n||t.removeAttribute(e)}function E(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=n.attributes&&n.attributes.onremove;o?o(e,r):r()}}function he(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var Le=function(t){return t.replace(/\/$/,"").split("/").filter((function(t,e,n){return e<n.length-1})).join("/").replace(/(\/+)?$/,"/")},me=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map((function(t,e){return e>0&&(t=t.replace(/^\/?/,"")),t.replace(/\/?$/,"")})).join("/")},ye=function(t,e){return function(n,r){return"asc"===e?String(n[t]).localeCompare(r[t]):String(r[t]).localeCompare(n[t])}},_e=function(t,e){return function(n,r){return"asc"===e?new Date(n[t])>new Date(r[t]):new Date(r[t])>new Date(n[t])}},ge=function(t,e){return function(n,r){return n[t]<r[t]?-1:n[t]>r[t]?"asc"===e?1:0:"asc"===e?0:1}},Ee=function(t){return"string"===t?ye:"date"===t?_e:ge},Oe={size:Ee("number"),mtime:Ee("date"),ctime:Ee("date"),atime:Ee("date")},be=function(t){var e=[];return"/"!==(t.replace(/\/+/g,"/").replace(/^(\w+):/,"")||"/")&&e.push({isDirectory:!0,isFile:!1,mime:null,size:0,stat:{},filename:"..",path:Le(t)||"/"}),e},we=function(t,e,n){return new Promise((function(r,o){var i=new Blob([e],{type:n}),a=new FileReader;a.onerror=function(t){return o(t)},a.onloadend=function(){return r(a.result)},a[t](i)}))},Ae=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(isNaN(t)||"number"!=typeof t)&&(t=0);var n=e?1e3:1024,r=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];if(t<n)return t+" B";var o=-1;do{t/=n,++o}while(t>=n);return"".concat(t.toFixed(1)," ").concat(r[o])},Se=function(t,e){var n=t.path,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r=ve({showHiddenFiles:!1,sortBy:"filename",sortDir:"asc"},r),i=o.sortDir,a=o.sortBy,s=o.filter;"function"!=typeof s&&(s=function(){return!0}),-1===["asc","desc"].indexOf(i)&&(i="asc");var u=r.showHiddenFiles?function(){return!0}:function(t){return"."!==t.filename.substr(0,1)},l=Oe[a]?Oe[a]:Ee("string"),f=function(t){return ve(ve({},t),{},{humanSize:Ae(t.size)})},p=be(n).sort(l(a,i)).map(f),d=e.filter((function(t){return t.isDirectory})).sort(l(a,i)).filter(u).filter(s).map(f),h=e.filter((function(t){return!t.isDirectory})).sort(l(a,i)).filter(u).filter(s).map(f);return[].concat(c()(p),c()(d),c()(h))},Be=function(t,e,n){return"string"===n?we("readAsText",t,e):"uri"===n?we("readAsDataURL",t,e):"blob"===n?Promise.resolve(new Blob([t],{type:e})):Promise.resolve(t)},Te=function(t){return function(e){return e.isDirectory?{name:"folder"}:function(e){var n=Object.keys(t).find((function(t){return new RegExp(t).test(e.mime)}));return n?t[n]:{name:"application-x-executable"}}(e)}},Pe=function(t){return ve({isDirectory:!1,isFile:!0,mime:"application/octet-stream",icon:null,size:-1,path:null,filename:null,label:null,stat:{},id:null,parent_id:null},t)},je=function(t){return t.split("/").reverse()[0]},ke=function(t){var e=t.split("/");return 2===e.length?e[1]="":e.splice(e.length-1,1),e.join("/")},Ne=function(t){var e=String(t).replace(/\+/g,"/").match(/^([\w-_]+):+(.*)/),n=Array.from(e||[]).slice(1);return qt()(n,1)[0]},xe=function(t){return function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!(e instanceof Array)||e[n?"every":"some"]((function(e){return-1!==t.indexOf(e)}))}},Re=function(t,e){var n=[],r=e[e.length-1]||{},o=-1!==["move","rename","copy"].indexOf(t),i=function(t){return"string"==typeof t?t:t.path};if(-1===["readdir","download","url","exists","readfile","search","stat"].indexOf(t)){var a={method:t,source:i(e[0]),pid:r.pid};n.push(["osjs/vfs:directoryChanged",ve(ve({},a),{},{path:ke(i(e[0]))})]),o&&n.push(["osjs/vfs:directoryChanged",ve(ve({},a),{},{path:ke(i(e[1]))})])}return n},Ce=["image/png","image/jpe?g","image/webp","image/gif","image/svg(\\+xml)?"],Ie=function(t){return t&&t.path},Me=function(t){return Ie(t)&&Ce.some((function(e){return!!t.mime.match(e)}))},De=function(t,e){var n={top:0,left:0,right:0,bottom:0},r=function(t){return n[t.options.position]=t.$element.offsetHeight};return e.length>0?e.forEach(r):r(t),n},Fe=function(t){return t&&!t.getState("minimized")&&t.getState("focused")},Ue=function(t){var e,n=(e=function(t,e){return Object.keys(t).reduce((function(n,r){return nt(l()({},r,"probably"===e.canPlayType(t[r])),n)}),{})})({mp3:"audio/mpeg",mp4:"audio/mp4",oga:"audio/ogg"},document.createElement("audio")),r=(e({mp4:"video/mp4",ogv:"video/ogg"},document.createElement("video")),function(e){var n=t.config("desktop.settings."+e);return t.make("osjs/settings").get("osjs/desktop",e,n)}),o=function(){return r("sounds")};return{themeResource:function(e){var n=r("theme");return t.url("themes/".concat(n,"/").concat(e))},soundResource:function(e){e.match(/\.([a-z]+)$/)||(e+="."+(["oga","mp3"].find((function(t){return!0===n[t]}))||"mp3"));var r=o();return r?t.url("sounds/".concat(r,"/").concat(e)):null},soundsEnabled:function(){return!!o()},icon:function(e){e=e.replace(/\.(png|svg|gif)$/,"");var n=t.make("osjs/packages").getMetadataFromName,o=r("icons"),i=((n(o)||{}).icons||{})[e]||"png";return t.url("icons/".concat(o,"/icons/").concat(e,".").concat(i))}}};function Ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var Ke=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=!1;return function(r,o){return t=clearTimeout(t),t=setTimeout((function(){return n=!1}),e),n?(r.preventDefault(),o(r)):(n=!0,!1)}}(),$e=function(t){return function(e,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Ie(n)?t.addEntry({entry:n,shortcut:o}):r.length>0&&t.uploadEntries(r)}},Ve=function(t){return t.target&&t.target.classList.contains("osjs-desktop-iconview__wrapper")},We=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r;return p()(this,n),(r=e.call(this,"DesktopIconView")).core=t,r.$root=null,r.iconview=null,r.root="home:/.desktop",r}return h()(n,[{key:"destroy",value:function(){this.$root&&this.$root.parentNode&&this.$root.remove(),this.iconview=null,this.$root=null,this.emit("destroy"),y()(w()(n.prototype),"destroy",this).call(this)}},{key:"_render",value:function(t){var e=this.root;return t&&(this.root=t),!this.$root||(this.root!==e&&this.iconview.reload(),!1)}},{key:"render",value:function(t){var e=this;if(this._render(t)){this.$root=document.createElement("div"),this.$root.className="osjs-desktop-iconview",this.core.$contents.appendChild(this.$root);var n=this.core.make("osjs/dnd").droppable,r=this.core.make("osjs/fs").icon,o=this.core.make("osjs/theme").icon,i=this.core.make("osjs/vfs"),a=i.copy,s=i.readdir,u=i.readfile,l=i.writefile,f=i.unlink,p=i.mkdir,d=function(t){return console.error(t)},h=function(t,e,n){var r=function(){var n=me(t,".shortcuts.json");return e(n).then((function(t){return JSON.parse(t)})).catch((function(t){return[]}))},o=function(e){var r=me(t,".shortcuts.json"),o=JSON.stringify(e||[]);return n(r,o).catch((function(){return 0}))};return{read:r,add:function(t){return r().then((function(e){return[].concat(c()(e),[t])})).then(o)},remove:function(t){return r().then((function(e){return e.splice(t,1),e})).then(o)}}}(t,u,l),v=function(t,e,n){var r=function(){return[]};return function(){return Promise.all([n.read().then((function(t){return t.map((function(t,e){return He({shortcut:e},t)}))})).catch(r),e(t,{showHiddenFiles:!1}).then((function(t){return t.map((function(t){return He({shortcut:!1},t)}))})).catch(r)]).then((function(t){var e;return(e=[]).concat.apply(e,c()(t))}))}}(t,s,h),L=function(t){return function(e){var n,r,o=e.filename,i=e.mime,a=e.label,s="osjs/application"===i?(n=function(t){return t.name===o},t.make("osjs/packages").getPackages(n)[0]):null;return a||(s?(r=s.title,t.make("osjs/locale").translatableFlat(r)):o)}}(this.core);this.iconview=de({selected:-1,entries:[]},{setEntries:function(t){return{entries:t}},openDropContextMenu:function(t){var n=t.ev,r=t.data,o=t.files,i=t.droppedImage;e.createDropContextMenu(n,r,o,i)},openContextMenu:function(t){var n=t.ev,r=t.entry,o=t.index;return r?(e.createFileContextMenu(n,r),{selected:o}):(e.createRootContextMenu(n),{selected:-1})},openEntry:function(t){var n=t.entry,r=t.forceDialog;return n.isDirectory?e.core.run("FileManager",{path:n}):"osjs/application"===n.mime?e.core.run(n.filename):e.core.open(n,{useDefault:!0,forceDialog:r}),{selected:-1}},selectEntry:function(t){return{selected:t.index}},uploadEntries:function(t){},addEntry:function(e){var n=e.entry,r=e.shortcut;return function(e,o){var i="".concat(t,"/").concat(n.filename);return p(t).catch((function(){return!0})).then((function(){return r||"osjs/application"===n.mime?h.add(n):a(n,i).then((function(){return o.reload(!0)})).catch(d)})).then((function(){return o.reload(!0)})),{selected:-1}}},removeEntry:function(t){return function(e,n){return!1!==t.shortcut?h.remove(t.shortcut).then((function(){return n.reload(!0)})).catch(d):f(t).then((function(){return n.reload(!0)})).catch(d),{selected:-1}}},reload:function(t){return function(n,r){t&&e.core.config("vfs.watch")||v().then((function(t){return t.filter((function(t){return".."!==t.filename}))})).then((function(t){return r.setEntries(t)}))}}},function(t,e,n,r){return function(o,i){return pe("div",{class:"osjs-desktop-iconview__wrapper",oncontextmenu:function(t){Ve(t)&&i.openContextMenu({ev:t})},onclick:function(t){Ve(t)&&i.selectEntry({index:-1})},oncreate:function(t){r(t,{ondrop:function(t,e,n){Me(e)||t.shiftKey&&Ie(e)?i.openDropContextMenu({ev:t,data:e,files:n}):$e(i)(t,e,n)}})}},o.entries.map((function(r,a){return pe("div",{class:"osjs-desktop-iconview__entry"+(o.selected===a?" osjs-desktop-iconview__entry--selected":""),oncontextmenu:function(t){return i.openContextMenu({ev:t,entry:r,index:a})},ontouchstart:function(t){return Ke(t,(function(){return i.openEntry({ev:t,entry:r,index:a})}))},ondblclick:function(t){return i.openEntry({ev:t,entry:r,index:a})},onclick:function(t){return i.selectEntry({ev:t,entry:r,index:a})}},[pe("div",{class:"osjs-desktop-iconview__entry__inner"},[pe("div",{class:"osjs-desktop-iconview__entry__icon"},[pe("img",{src:r.icon?r.icon:n(e(r).name),class:"osjs-desktop-iconview__entry__icon__icon"}),!1!==r.shortcut?pe("img",{src:n("emblem-symbolic-link"),class:"osjs-desktop-iconview__entry__icon__shortcut"}):null]),pe("div",{class:"osjs-desktop-iconview__entry__label"},t(r))])])})))}}(L,r,o,n),this.$root),this.applySettings(),this.iconview.reload(),this._createWatcher(),this.core.on("osjs/settings:save",(function(){return e.iconview.reload()}))}}},{key:"createFileContextMenu",value:function(t,e){var n=this,r=this.core.make("osjs/locale").translate;this.core.make("osjs/contextmenu",{position:t,menu:[{label:r("LBL_OPEN"),onclick:function(){return n.iconview.openEntry({entry:e,forceDialog:!1})}},{label:r("LBL_OPEN_WITH"),onclick:function(){return n.iconview.openEntry({entry:e,forceDialog:!0})}},{label:!1!==e.shortcut?r("LBL_REMOVE_SHORTCUT"):r("LBL_DELETE"),onclick:function(){return n.iconview.removeEntry(e)}}]})}},{key:"createDropContextMenu",value:function(t,e,n){var r=this,o=this.core.make("osjs/desktop"),i=this.core.make("osjs/locale").translate,a=function(o){return $e(r.iconview)(t,e,n,o)},s=[{label:i("LBL_COPY"),onclick:function(){return a(!1)}},{label:i("LBL_CREATE_SHORTCUT"),onclick:function(){return a(!0)}}].concat(c()(o.createDropContextMenu(e)));this.core.make("osjs/contextmenu",{position:t,menu:s})}},{key:"createRootContextMenu",value:function(t){this.core.make("osjs/desktop").openContextMenu(t)}},{key:"_createWatcher",value:function(){var t=this,e=function(e){String(t.root).replace(/\/$/,"")===String(e.path).replace(/\/$/,"")&&t.iconview.reload()};this.core.on("osjs/vfs:directoryChanged",e),this.on("destroy",(function(){return t.core.off("osjs/vfs:directoryChanged",e)}))}},{key:"applySettings",value:function(){if(this.$root){var t,e=this.core.make("osjs/settings"),n=this.core.config("desktop.settings"),r=e.get("osjs/desktop","iconview.fontColorStyle",n.iconview.fontColorStyle),o=e.get("osjs/desktop","iconview.fontColor","#ffffff",n.iconview.fontColor),i={system:"inherit",invert:(t=e.get("osjs/desktop","background.color",n.background.color),"#"+t.match(/[a-f0-9]{2}/gi).map((function(t){return(255-parseInt(t,16)|0).toString(16).replace(/^([a-f0-9])$/,"0$1")})).join("")),custom:o};this.$root.style.color=i[r]}}}]),n}(B.EventEmitter),ze=n(14),Ye=n.n(ze),qe=n(12),Ze=n.n(qe),Xe=function(t,e){var n=t.make("osjs/locale").translate,r=function(t,e,n,r){var o=function(t,r){var o=t.results,i=t.index;return o.map((function(t,o){return pe("li",{onclick:function(){return r.open(o)},onupdate:function(t){o===i&&t.scrollIntoView()},class:["osjs-search-result",i===o?"osjs__active":""].join(" ")},[pe("img",{src:n(e.icon(t).name)}),pe("span",{},"".concat(t.path," (").concat(t.mime,")"))])}))};return function(t,e){return pe("div",{class:"osjs-search-container osjs-notification",style:{display:t.visible?void 0:"none"}},[pe("input",{type:"text",placeholder:r("LBL_SEARCH_PLACEHOLDER"),class:"osjs-search-input",value:t.query,onblur:function(){t.value||setTimeout((function(){return e.toggle(!1)}),300)},oninput:function(t){return e.setQuery(t.target.value)},onkeydown:function(n){38===n.keyCode?e.setPreviousIndex():40===n.keyCode?e.setNextIndex():27===n.keyCode&&(e.resetIndex(),-1===t.index&&e.hide())},onkeypress:function(n){13===n.keyCode&&(t.index>=0?e.open(t.index):e.search(t.query.replace(/\*?$/,"*").replace(/^\*?/,"*")))}}),pe("div",{"data-error":!!t.error,class:"osjs-search-message",style:{display:t.error||t.status?"block":"none"}},t.error||t.status),pe("ol",{class:"osjs-search-results",style:{display:t.results.length?void 0:"none"}},o(t,e))])}}(0,t.make("osjs/fs"),t.make("osjs/theme").icon,n),o=new B.EventEmitter("SearchUI"),i=de({query:"",index:-1,status:void 0,error:null,visible:!1,results:[]},{search:function(t){return o.emit("search",t),{status:n("LBL_SEARCH_WAIT")}},open:function(t){return function(e,n){var r=e.results[t];r&&o.emit("open",r),n.toggle(!1)}},resetIndex:function(){return function(){return{index:-1}}},setNextIndex:function(){return function(t){return{index:(t.index+1)%t.results.length}}},setPreviousIndex:function(){return function(t){return{index:t.index<=0?t.results.length-1:t.index-1}}},setError:function(t){return function(){return{error:t,status:void 0,index:-1}}},setResults:function(t){return function(){return{results:t,index:-1,status:n("LBL_SEARCH_RESULT",t.length)}}},setQuery:function(t){return function(){return{query:t}}},hide:function(){o.emit("hide")},toggle:function(t){return function(e){return{query:"",results:[],index:-1,status:void 0,error:null,visible:"boolean"==typeof t?t:!e.visible}}}},r,e);return o.on("error",(function(t){return i.setError(t)})),o.on("success",(function(t){return i.setResults(t)})),o.on("toggle",(function(t){return i.toggle(t)})),o.on("focus",(function(){var t=e.querySelector(".osjs-search-input");t&&t.focus()})),o},Qe=function(){function t(e){p()(this,t),this.core=e}var e,n;return h()(t,[{key:"destroy",value:function(){}},{key:"init",value:(n=Ye()(Ze.a.mark((function t(){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"search",value:(e=Ye()(Ze.a.mark((function t(e){var n,r;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.core.make("osjs/vfs"),r=this.core.make("osjs/fs").mountpoints().map((function(t){return"".concat(t.name,":/")})).map((function(t){return n.search({path:t},e).catch((function(t){return C.warn("Error while searching",t),[]}))})),t.abrupt("return",Promise.all(r).then((function(t){var e;return(e=[]).concat.apply(e,c()(t))})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}(),Je=function(){function t(e,n){p()(this,t),this.core=e,this.ui=null,this.focusLastWindow=null,this.$element=document.createElement("div");var r=n.adapters||[],o=[Qe].concat(c()(r));this.adapters=o.map((function(t){return new t(e)}))}var e,n;return h()(t,[{key:"destroy",value:function(){this.ui&&this.ui.destroy()}},{key:"init",value:(n=Ye()(Ze.a.mark((function t(){var e,n,r,o=this;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.core.make("osjs/theme"),n=e.icon,r=this.core.make("osjs/locale").translate,this.$element.className="osjs-search",this.core.$root.appendChild(this.$element),this.core.make("osjs/tray").create({title:r("LBL_SEARCH_TOOLTOP","F3"),icon:n("system-search")},(function(){return o.show()})),this.ui=Xe(this.core,this.$element),this.ui.on("hide",(function(){return o.hide()})),this.ui.on("open",(function(t){return o.core.open(t)})),this.ui.on("search",(function(t){o.search(t).then((function(t){return o.ui.emit("success",t)})).catch((function(t){return o.ui.emit("error",t)}))})),t.next=11,Promise.all(this.adapters.map((function(t){return t.init()})));case 11:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"search",value:(e=Ye()(Ze.a.mark((function t(e){var n;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.adapters.map((function(t){return t.search(e)})));case 2:return n=t.sent,t.abrupt("return",n.flat(1));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"focus",value:function(){this.ui&&this.ui.emit("focus")}},{key:"hide",value:function(){if(this.ui){this.ui.emit("toggle",!1);var t=_t.lastWindow();this.focusLastWindow&&t&&t.focus()}}},{key:"show",value:function(){var t=this;if(this.ui){var e=_t.lastWindow();this.focusLastWindow=e&&e.blur(),this.ui.emit("toggle",!0),setTimeout((function(){return t.focus()}),1)}}}]),t}();function tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var nn=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(this,n),(r=e.call(this,"Desktop")).core=t,r.options=en({contextmenu:[]},o),r.$theme=[],r.$icons=[],r.contextmenuEntries=[],r.search=t.config("search.enabled")?new Je(t,o.search||{}):null,r.iconview=new We(r.core),r.keyboardContext=null,r.subtract={left:0,top:0,right:0,bottom:0},r}return h()(n,[{key:"destroy",value:function(){this.search&&(this.search=this.search.destroy()),this.iconview&&this.iconview.destroy(),this._removeIcons(),this._removeTheme(),y()(w()(n.prototype),"destroy",this).call(this)}},{key:"init",value:function(){this.initConnectionEvents(),this.initUIEvents(),this.initDragEvents(),this.initKeyboardEvents(),this.initGlobalKeyboardEvents(),this.initMouseEvents(),this.initBaseEvents(),this.initLocales(),this.initDeveloperTray()}},{key:"initConnectionEvents",value:function(){var t=this;this.core.on("osjs/core:disconnect",(function(e){C.warn("Connection closed",e);var n=t.core.make("osjs/locale").translate;t.core.make("osjs/notification",{title:n("LBL_CONNECTION_LOST"),message:n("LBL_CONNECTION_LOST_MESSAGE")})})),this.core.on("osjs/core:connect",(function(e,n){if(C.debug("Connection opened"),n){var r=t.core.make("osjs/locale").translate;t.core.make("osjs/notification",{title:r("LBL_CONNECTION_RESTORED"),message:r("LBL_CONNECTION_RESTORED_MESSAGE")})}})),this.core.on("osjs/core:connection-failed",(function(e){C.warn("Connection failed");var n=t.core.make("osjs/locale").translate;t.core.make("osjs/notification",{title:n("LBL_CONNECTION_FAILED"),message:n("LBL_CONNECTION_FAILED_MESSAGE")})}))}},{key:"initUIEvents",value:function(){var t=this;this.core.on(["osjs/panel:create","osjs/panel:destroy"],(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.subtract=De(e,n);try{t._updateCSS(),t._clampWindows()}catch(t){C.warn("Panel event error",t)}t.core.emit("osjs/desktop:transform",t.getRect())})),this.core.on("osjs/window:transitionend",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.emit.apply(t,["theme:window:transitionend"].concat(n))})),this.core.on("osjs/window:change",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.emit.apply(t,["theme:window:change"].concat(n))}))}},{key:"initDeveloperTray",value:function(){var t=this;if(this.core.config("development")){var e=this.core.make("osjs/tray").create({title:"OS.js developer tools"},(function(e){return t.onDeveloperMenu(e)}));this.core.on("destroy",(function(){return e.destroy()}))}}},{key:"initDragEvents",value:function(){var t=this;(0,this.core.make("osjs/dnd").droppable)(this.core.$contents,{strict:!0,ondrop:function(e,n,r){Me(n)&&t.onDropContextMenu(e,n)}})}},{key:"initKeyboardEvents",value:function(){var t=this;["keydown","keyup","keypress"].forEach((function(e){t.core.$root.addEventListener(e,(function(t){return function(t,e){var n=_t.lastWindow();Fe(n)&&n.emit(t,e,n)}(e,t)}))})),this.core.$root.addEventListener("keydown",(function(e){var n,r,o,i;if(e.target)if(114===e.keyCode)e.preventDefault(),t.search&&t.search.show();else if(9===e.keyCode){var a=e.target.tagName,s=-1!==["INPUT","TEXTAREA","SELECT","BUTTON"].indexOf(a);(function(e,n){return function(t,e){return t&&t.$element.contains(e)}(e,n)||function(e){return t.keyboardContext&&t.keyboardContext.contains(e)}(n)})(_t.lastWindow(),e.target)&&s?"TEXTAREA"===a&&(r=(n=e.target).selectionStart,o=n.selectionEnd,i=n.value,n.value=i.substring(0,r)+"\t"+i.substring(o,i.length),r++,n.selectionStart=r,n.selectionEnd=r):e.preventDefault()}}))}},{key:"initGlobalKeyboardEvents",value:function(){var t=this,e=[],n=this.core.config("desktop.settings.keybindings",{}),r=function(){e=t.core.make("osjs/settings").get("osjs/desktop","keybindings",n)};window.addEventListener("keydown",(function(n){Object.keys(e).some((function(r){var o=e[r];le(o,n)&&t.core.emit("osjs/desktop:keybinding:"+r,n)}))})),this.core.on("osjs/settings:load",r),this.core.on("osjs/settings:save",r),this.core.on("osjs/core:started",r),this.core.on("osjs/desktop:keybinding:close-window",(function(){var t=_t.lastWindow();Fe(t)&&t.close()}))}},{key:"initMouseEvents",value:function(){var t=this;this.core.$contents.addEventListener("contextmenu",(function(e){e.target===t.core.$contents&&t.onContextMenu(e)})),window.addEventListener("mousedown",(function(){var e=!1,n=function(){e||(e=!0,t.core.$root.setAttribute("data-mousemove",String(!0)))};window.addEventListener("mousemove",n),window.addEventListener("mouseup",(function r(){e=!1,t.core.$root.setAttribute("data-mousemove",String(!1)),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r)}))}))}},{key:"initBaseEvents",value:function(){var t,e=this;window.addEventListener("resize",(function(){clearTimeout(t),t=setTimeout((function(){e._updateCSS(),e._clampWindows(!0)}),200)})),history.pushState(null,null,document.URL),window.addEventListener("popstate",(function(){history.pushState(null,null,document.URL)})),this.core.$root.addEventListener("touchmove",(function(t){return t.preventDefault()}))}},{key:"initLocales",value:function(){var t=this,e=this.core.config("locale.rtl"),n=function(){var n=t.core.make("osjs/locale").getLocale().split("_")[0].toLowerCase(),r=-1!==e.indexOf(n);t.core.$root.setAttribute("data-dir",r?"rtl":"ltr")};this.core.on("osjs/settings:load",n),this.core.on("osjs/settings:save",n),this.core.on("osjs/core:started",n)}},{key:"start",value:function(){this.search&&this.search.init(),this._updateCSS()}},{key:"_updateCSS",value:function(){var t=this.core.config("windows.mobile"),e=!!t&&this.core.$root.offsetWidth<=t;this.core.$root.setAttribute("data-mobile",e),this.core.$contents&&(this.core.$contents.style.top="".concat(this.subtract.top,"px"),this.core.$contents.style.left="".concat(this.subtract.left,"px"),this.core.$contents.style.right="".concat(this.subtract.right,"px"),this.core.$contents.style.bottom="".concat(this.subtract.bottom,"px"))}},{key:"_clampWindows",value:function(t){t&&!this.core.config("windows.clampToViewport")||_t.getWindows().forEach((function(t){return t.clampToViewport()}))}},{key:"addContextMenu",value:function(t){this.contextmenuEntries=this.contextmenuEntries.concat(t)}},{key:"applySettings",value:function(t){var e,n=this,r=this.core.config("desktop.lock"),o=this.core.config("desktop.settings");if(r)e=o;else{var i=t||this.core.make("osjs/settings").get("osjs/desktop");e=S()(o,i,{arrayMerge:function(t,e){return e}})}var a,s,c,u=function(t,e){if(n.core.has(t)){var r=n.core.make(t);r.removeAll(),e.forEach((function(t){return r.create(t)}))}};return s=(a=e).font,c=a.background,n.core.$root.style.fontFamily="".concat(s,", sans-serif"),function(t,e){var n=t.$root,r={backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"auto",backgroundColor:e.color,backgroundImage:"none"};"cover"===e.style||"contain"===e.style?r.backgroundSize=e.style:"repeat"===e.style&&(r.backgroundRepeat="repeat"),"color"!==e.style&&(void 0===e.src?r.backgroundImage=void 0:"string"==typeof e.src?r.backgroundImage="url(".concat(e.src,")"):e.src&&t.make("osjs/vfs").url(e.src).then((function(t){setTimeout((function(){return n.style.backgroundImage="url(".concat(t,")")}),1)})).catch((function(t){return C.warn("Error while setting wallpaper from VFS",t)}))),Object.keys(r).forEach((function(t){return n.style[t]=r[t]}))}(n.core,c),u("osjs/panels",(e.panels||[]).slice(-1)),u("osjs/widgets",e.widgets),this.applyTheme(e.theme),this.applyIcons(e.icons),this.applyIconView(e.iconview),this.core.emit("osjs/desktop:applySettings"),en({},e)}},{key:"_removeTheme",value:function(){this.emit("theme:destroy"),this.off(["theme:init","theme:destroy","theme:window:change","theme:window:transitionend"]),this.$theme.forEach((function(t){t&&t.parentNode&&t.remove()})),this.$theme=[]}},{key:"_removeIcons",value:function(){this.$icons.forEach((function(t){t&&t.parentNode&&t.remove()})),this.$icons=[]}},{key:"applyIconView",value:function(t){this.iconview&&(t.enabled?this.iconview.render(t.path):this.iconview.destroy())}},{key:"applyIcons",value:function(t){var e=this;return t=t||this.core.config("desktop.icons"),this._applyTheme(t).then((function(t){var n=t.elements;t.errors,t.callback,t.metadata,e._removeIcons(),e.$icons=Object.values(n),e.emit("icons:init")}))}},{key:"applyTheme",value:function(t){var e=this;return t=t||this.core.config("desktop.theme"),this._applyTheme(t).then((function(t){var n=t.elements,r=(t.errors,t.callback),o=t.metadata;if(e._removeTheme(),r&&o)try{r(e.core,e,{},o)}catch(t){C.warn("Exception while calling theme callback",t)}e.$theme=Object.values(n),e.emit("theme:init")}))}},{key:"_applyTheme",value:function(t){return this.core.make("osjs/packages").launch(t).then((function(t){return t.errors.length&&C.error(t.errors),t}))}},{key:"_applySettingsByKey",value:function(t,e){var n=this;return this.core.make("osjs/settings").set("osjs/desktop",t,e).save().then((function(){return n.applySettings()}))}},{key:"createDropContextMenu",value:function(t){var e=this.core.make("osjs/locale").translate,n=this.core.make("osjs/settings"),r=this.core.make("osjs/desktop"),o=[];return Me(t)&&o.push({label:e("LBL_DESKTOP_SET_AS_WALLPAPER"),onclick:function(){return n.set("osjs/desktop","background.src",t).save().then((function(){return r.applySettings()}))}}),o}},{key:"onDeveloperMenu",value:function(t){var e=this,n=this.core.make("osjs/locale").translate,r=this.core.make("osjs/settings").get(),o=Object.keys(r).map((function(t){return{label:t,onclick:function(){e.core.make("osjs/settings").clear(t).then((function(){return e.applySettings()}))}}}));this.core.make("osjs/contextmenu").show({position:t,menu:[{label:n("LBL_KILL_ALL"),onclick:function(){return St.destroyAll()}},{label:n("LBL_APPLICATIONS"),items:St.getApplications().map((function(t){return{label:"".concat(t.metadata.name," (").concat(t.pid,")"),items:[{label:n("LBL_KILL"),onclick:function(){return t.destroy()}},{label:n("LBL_RELOAD"),onclick:function(){return t.relaunch()}}]}}))},{label:"Clear Storage",items:o}]})}},{key:"onDropContextMenu",value:function(t,e){var n=this.createDropContextMenu(e);this.core.make("osjs/contextmenu",{position:t,menu:n})}},{key:"onContextMenu",value:function(t){var e,n=this,r=this.core.config("desktop.lock"),o=(e=[]).concat.apply(e,c()(this.contextmenuEntries.map((function(t){return"function"==typeof t?t():t})))),i=this.core.config("desktop.contextmenu"),a=this.core.make("osjs/settings").get("osjs/desktop","iconview.enabled");if(!1!==i&&!1!==i.enabled){var s=!0===i||i.defaults,u=this.core.make("osjs/locale").translate,l=this.core.make("osjs/locale").translatableFlat,f=this.core.make("osjs/packages").getPackages((function(t){return"theme"===t.type})),p=r?[]:[{label:u("LBL_DESKTOP_SELECT_WALLPAPER"),onclick:function(){n.core.make("osjs/dialog","file",{mime:["^image"]},(function(t,e){"ok"===t&&n._applySettingsByKey("background.src",e)}))}},{label:u("LBL_DESKTOP_SELECT_THEME"),items:f.map((function(t){return{label:l(t.title,t.name),onclick:function(){n._applySettingsByKey("theme",t.name)}}}))}];a&&this.iconview&&p.push({label:u("LBL_REFRESH"),onclick:function(){return n.iconview.iconview.reload()}});var d="function"===s?i.defaults(this,p):s?p:[],h="function"==typeof this.options.contextmenu?this.options.contextmenu(this,p):this.options.contextmenu||[],v=[].concat(c()(d),c()(h),c()(o));v.length&&this.core.make("osjs/contextmenu").show({menu:v,position:t})}}},{key:"setKeyboardContext",value:function(t){this.keyboardContext=t}},{key:"getRect",value:function(){var t=this.core.$root,e=this.subtract,n=e.left,r=e.top,o=e.right,i=e.bottom;return{width:t.offsetWidth-n-o,height:t.offsetHeight-r-i,top:r,bottom:i,left:n,right:o}}}]),n}(B.EventEmitter);function rn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var an=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p()(this,t);var o=e.make("osjs/locale").translate("LBL_NOTIFICATION");this.core=e,this.$root=n,this.$element=document.createElement("div"),this.destroyed=!1,this.options=on({icon:null,title:o,message:o,timeout:5e3,native:e.config("notifications.native",!1),sound:"message",className:""},r),this.core.emit("osjs/notification:create",this)}return h()(t,[{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.core.emit("osjs/notification:destroy",this),this.$element.remove(),this.$element=null,this.$root=null)}},{key:"render",value:function(){var t=this,e=function(){return t.destroy()},n=function(){return t.$element.classList.add("osjs-notification"),t.options.className&&t.$element.classList.add(t.options.className),t.options.timeout&&setTimeout((function(){return t.destroy()}),t.options.timeout),t.$element.addEventListener("click",e),t.$root.appendChild(t.$element),de(t.options,{},(function(t){return pe("div",{class:"osjs-notification-wrapper","data-has-icon":!!t.icon,style:{backgroundImage:t.icon?"url(".concat(t.icon,")"):void 0}},[pe("div",{class:"osjs-notification-title"},t.title),pe("div",{class:"osjs-notification-message"},t.message)])}),t.$element),Promise.resolve(!0)};return this.options.native?function(t,e){var n=window.Notification,r=function(){var r=new n(t.title,{body:t.message,icon:t.icon});return r.onclick=e,r};if(it){if("granted"===n.permission)return Promise.resolve(r());if("denied"!==n.permission)return new Promise((function(t,e){n.requestPermission((function(n){return"granted"===n?t(!0):e(n)}))})).then(r)}return Promise.reject("Unsupported")}(this.options,e).catch((function(t){return C.warn("Error on native notification",t),n()})):(this.options.sound&&this.core.make("osjs/sounds").play(this.options.sound),n())}}]),t}();function sn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var cn=function(){function t(e){p()(this,t),this.core=e,this.$element=null}return h()(t,[{key:"destroy",value:function(){this.$element.remove(),this.$element=null}},{key:"init",value:function(){var t=this;this.$element=document.createElement("div"),this.$element.classList.add("osjs-notifications"),this.core.$root.appendChild(this.$element),this.core.on("osjs/desktop:applySettings",(function(){t.setElementStyles()})),this.setElementStyles()}},{key:"create",value:function(t){if(!t)throw new Error("Notification options not given");var e=new an(this.core,this.$element,t);return e.render(),e}},{key:"setElementStyles",value:function(){var t=ct(this.createElementStyles());this.$element.style.cssText=t}},{key:"createElementStyles",value:function(){var t=this.core.config("desktop.settings.notifications.position","top-right"),e=this.core.make("osjs/settings").get("osjs/desktop","notifications.position",t);return 2!==e.split("-").length?{}:["left","right","top","bottom"].reduce((function(t,n){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}(l()({},n,-1===e.indexOf(n)?"auto":"0"),t)}),{})}}]),t}();function un(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?un(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var fn=ut(),pn=!!fn&&{passive:!0},dn={maximize:function(t){return t.maximize()?null:t.restore()},minimize:function(t){return t.minimize()},close:function(t){return t.close()}},hn=function(){function t(e){p()(this,t),this.core=e,this.lastAction=null,this.$lofi=document.createElement("div"),this.$lofi.className="osjs-window-behavior-lofi"}return h()(t,[{key:"init",value:function(t){var e=this,n=function(n){return e.mousedown(n,t)},r=function(n){return e.mousedown(n,t)},o=function(n){return e.click(n,t)},i=function(n){return e.dblclick(n,t)},a=function(n){n.stopPropagation(),n.preventDefault(),e.iconDblclick(n,t)},s=function(n){n.stopPropagation(),n.preventDefault(),e.iconClick(n,t)},c=function(n){t&&t.emit("transitionend"),e.core.emit("osjs/window:transitionend",n,t)};t.$element.addEventListener("touchstart",n,pn),t.$element.addEventListener("mousedown",r),t.$element.addEventListener("click",o),t.$element.addEventListener("dblclick",i),t.$element.addEventListener("transitionend",c),t.$icon&&(t.$icon.addEventListener("dblclick",a),t.$icon.addEventListener("click",s)),t.on("resized,rendered",(function(){t.setState("media",H(t))})),t.on("destroy",(function(){t.$element&&(t.$element.removeEventListener("touchstart",n,pn),t.$element.removeEventListener("mousedown",r),t.$element.removeEventListener("click",o),t.$element.removeEventListener("dblclick",i),t.$element.removeEventListener("transitionend",c)),t.$icon&&(t.$icon.removeEventListener("dblclick",a),t.$icon.removeEventListener("click",s))}));var u=function(t,e,n){var r=10+e.top,o=10+e.left+t.wid%20*10,i=function(t,r){return"number"==typeof n[t]&&Number.isInteger(n[t])?Math.max(e[t],n[t]):r};return{top:i("top",r+t.wid%20*10),left:i("left",o)}}(t,{top:0,left:0},t.state.position),l=u.top,f=u.left;t.state.position.top=l,t.state.position.left=f,t.state.media=H(t)}},{key:"click",value:function(t,e){if(!this.lastAction&&t.target.classList.contains("osjs-window-button")){var n=t.target.getAttribute("data-action");dn[n](e)}}},{key:"dblclick",value:function(t,e){this.lastAction||t.target.classList.contains("osjs-window-header")&&(e.state.maximized?e.restore():e.state.minimized?e.raise():e.maximize())}},{key:"mousedown",value:function(t,e){var n,r=this,o=!1,i=e.attributes,a=i.moveable,s=i.resizable,c=e.state.maximized,u=this.core.config("windows"),l=u.lofi,f=u.moveKeybinding,p=fe(t),d=p.clientX,h=p.clientY,v=p.touch,L=p.target,m=le(f,t)?e.$element.contains(L):L.classList.contains("osjs-window-header"),y=this.core.has("osjs/desktop")?this.core.make("osjs/desktop").getRect():{top:0,left:0},_=L.classList.contains("osjs-window-resize")?function(t,e){var n=function(t){var e=t.attributes,n=e.maxDimension,r=e.minDimension,o=t.state,i=o.position,a=o.dimension,s={left:i.left+a.width-r.width,top:i.top+a.height-r.height},c=function(t,e,n){var r=-1===t?n:Math.max(t,n);return-1===e?r:Math.min(e,r)};return function(t,e,o,i){return{width:c(r.width,n.width,t),height:c(r.height,n.height,e),top:c(-1,s.top,o),left:c(-1,s.left,i)}}}(t),r=t.state,o=r.position,i=r.dimension,a=e.getAttribute("data-direction").split(""),s=function(t){return-1!==a.indexOf(t)},c=s("e")?1:s("w")?-1:0,u=s("s")?1:s("n")?-1:0;return function(t,e){var r=i.width+t*c,a=i.height+e*u,s=-1===u?o.top+e:o.top,l=-1===c?o.left+t:o.left;return n(r,a,s,l)}}(e,L):null,g=m?function(t,e){var n=t.state.position;return function(t,r){return{top:Math.max(n.top+r,e.top),left:n.left+t}}}(e,{top:0,left:0}):null,E=function(t){if(fn||t.preventDefault(),!(c||!a&&g||!s&&_)){var i=fe(t),u=_?Math.max(y.left,i.clientX):i.clientX,f=_?Math.max(y.top,i.clientY):i.clientY,p=u-d,v=f-h;if(_){var L=_(p,v),m=L.width,E=L.height,O=L.top,b=L.left;n=function(){e._setState("dimension",{width:m,height:E},!1),e._setState("position",{top:O,left:b},!1)},l?(r.$lofi.style.top="".concat(O,"px"),r.$lofi.style.left="".concat(b,"px"),r.$lofi.style.width="".concat(m,"px"),r.$lofi.style.height="".concat(E,"px")):n(),r.lastAction="resize"}else if(g){var w=g(p,v);n=function(){e._setState("position",w,!1)},l?(r.$lofi.style.top="".concat(w.top,"px"),r.$lofi.style.left="".concat(w.left,"px")):n(),r.lastAction="move"}r.lastAction&&(e._setState("move"===r.lastAction?"moving":"resizing",!0),o||(r.core.$root.setAttribute("data-window-action",String(!0)),o=!0))}},O=function t(){v?(document.removeEventListener("touchmove",E,pn),document.removeEventListener("touchend",t,pn)):(document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",t)),l&&(r.$lofi.remove(),n&&n(),n=void 0),"move"===r.lastAction?(e.emit("moved",ln({},e.state.position),e),e._setState("moving",!1)):"resize"===r.lastAction&&(e.emit("resized",ln({},e.state.dimension),e),e._setState("resizing",!1)),r.core.$root.setAttribute("data-window-action",String(!1))};e.focus()||e.setNextZindex(),(g||_)&&(v?(document.addEventListener("touchmove",E,pn),document.addEventListener("touchend",O,pn)):(document.addEventListener("mousemove",E),document.addEventListener("mouseup",O))),this.lastAction=null,this.core.has("osjs/contextmenu")&&this.core.make("osjs/contextmenu").hide(),l&&(this.$lofi.style.zIndex=e.state.zIndex+1,this.$lofi.style.top="".concat(e.state.position.top,"px"),this.$lofi.style.left="".concat(e.state.position.left,"px"),this.$lofi.style.width="".concat(e.state.dimension.width,"px"),this.$lofi.style.height="".concat(e.state.dimension.height,"px"),this.$lofi.parentNode||document.body.appendChild(this.$lofi))}},{key:"iconDblclick",value:function(t,e){e.close()}},{key:"iconClick",value:function(t,e){var n=e.state,r=n.minimized,o=n.maximized,i=e.attributes,a=i.minimizable,s=i.maximizable,c=i.closeable,u=this.core.make("osjs/locale").translate;this.core.make("osjs/contextmenu",{position:t,menu:[{label:u(r?"LBL_RAISE":"LBL_MINIMIZE"),disabled:!a,onclick:function(){return r?e.raise():e.minimize()}},{label:u(o?"LBL_RESTORE":"LBL_MAXIMIZE"),disabled:!s,onclick:function(){return o?e.restore():e.maximize()}},{label:u("LBL_CLOSE"),disabled:!c,onclick:function(){return e.close()}}]})}}]),t}(),vn=n(15),Ln=n.n(vn);function mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var _n=function(t){var e=t.logo,n=e.src,r=e.position,o=function(){return pe("div",{class:"osjs-login-logo","data-position":r,style:{backgroundImage:"url('".concat(n,"')")}})};return function(e,i){var a=[];t.title&&a.push(pe("div",{class:"osjs-login-header"},pe("span",{},t.title))),n&&-1!==["top","middle"].indexOf(r)&&a["top"===r?"unshift":"push"](o());var s=function(t){return r===t?pe("div",{"data-position":r},o()):null},c=function(e){var i=function(t,e,n){return e.map((function(e){return pe("div",{class:"osjs-login-field osjs-login-field-"+e.tagName},pe(e.tagName,function(t,e,n){return n=n?"disabled":void 0,"input"===e.tagName&&"submit"!==e.attributes.type?yn({autocapitalize:"off",autocomplete:"new-"+e.attributes.name,disabled:n,oncreate:function(n){return n.value=t[e.attributes.name]||e.value||""}},e.attributes):yn({disabled:n},e.attributes)}(t,e,n),function(t){return"select"===t.tagName&&t.choices?t.choices.map((function(t){return pe("option",{current:t.current?"current":void 0,value:t.value},t.label)})):t.children||[]}(e)))}))}(e,t.fields,e.loading);return n&&"bottom"===r&&i.push(o()),t.stamp&&i.push(pe("div",{class:"osjs-login-stamp"},t.stamp)),i}(e),u=[].concat(a,[pe("div",{class:"osjs-login-error",style:{display:e.error?"block":"none"}},pe("span",{},e.error)),pe("form",{loading:!1,method:"post",action:"#",autocomplete:"off",onsubmit:i.submit},c)]);return pe("div",{class:"osjs-login",id:t.id,style:{display:e.hidden?"none":void 0}},[s("left"),pe("div",{class:"osjs-login-content"},u),s("right")].filter((function(t){return!!t})))}};function gn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var En=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t,r){var o;return p()(this,n),(o=e.call(this,"Login")).$container=null,o.core=t,o.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({id:"osjs-login",title:"Welcome to OS.js",stamp:t.config("version"),logo:{position:"top",src:null},fields:[{tagName:"input",attributes:{name:"username",type:"text",placeholder:"Username"}},{tagName:"input",attributes:{name:"password",type:"password",placeholder:"Password"}},{tagName:"input",attributes:{type:"submit",value:"Login"}}]},r),o}return h()(n,[{key:"init",value:function(t){this.$container=document.createElement("div"),this.$container.id=this.options.id,this.$container.className="osjs-login-base",this.core.$root.classList.add("login"),this.core.$root.appendChild(this.$container),this.render(t)}},{key:"destroy",value:function(){this.core.$root.classList.remove("login"),this.$container&&(this.$container.remove(),this.$container=null),y()(w()(n.prototype),"destroy",this).call(this)}},{key:"render",value:function(t){var e=this,n=this.core.config("auth.login",{}),r=function(t,e,n,r){var o=new B.EventEmitter("LoginUI"),i=_n(t),a=de(yn({hidden:n},e),{setLoading:function(t){return{loading:t}},setError:function(t){return{error:t,hidden:!1}},submit:function(t){return function(e){if(t.preventDefault(),!e.loading){var n=Array.from(t.target.elements).filter((function(t){return"submit"!==t.type})).reduce((function(t,e){return yn(yn({},t),{},l()({},e.name,e.value))}),{});o.emit("login:post",n)}}}},i,r);return o.on("login:start",(function(){return a.setLoading(!0)})),o.on("login:stop",(function(){return a.setLoading(!1)})),o.on("login:error",(function(t){return a.setError(t)})),o}(this.options,n,t,this.$container);r.on("register:post",(function(t){return e.emit("register:post",t)})),r.on("login:post",(function(t){return e.emit("login:post",t)})),this.on("login:start",(function(){return r.emit("login:start")})),this.on("login:stop",(function(){return r.emit("login:stop")})),this.on("login:error",(function(t,e){return r.emit("login:error",t,e)}))}}]),n}(B.EventEmitter),On=function(t,e){return{login:function(t){return Promise.resolve(t)}}};
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */function bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var wn={server:function(t,e){var n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request(e,{method:"POST",body:JSON.stringify(n)},"json")};return{register:function(t){return n("/register",t)},login:function(t){return n("/login",t)},logout:function(){return n("/logout")}}},localStorage:On},An=function(t,e){var n=t.config("auth.ui",{});return e.login?e.login(t,e.config||{}):new En(t,e.ui||n)},Sn=function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({login:function(){return Promise.reject(new Error("Not implemented"))},logout:function(){return Promise.reject(new Error("Not implemented"))},register:function(){return Promise.reject(new Error("Not implemented"))},init:function(){return Promise.resolve(!0)},destroy:function(){}},(t.config("standalone")?On:"function"==typeof e.adapter?e.adapter:wn[e.adapter||"server"])(t,e.config||{}))},Bn=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p()(this,t),this.ui=An(e,n),this.adapter=Sn(e,n),this.callback=function(){},this.core=e}return h()(t,[{key:"init",value:function(){var t=this;return this.ui.on("login:post",(function(e){return t.login(e)})),this.ui.on("register:post",(function(e){return t.register(e)})),this.adapter.init()}},{key:"destroy",value:function(){this.ui.destroy()}},{key:"shutdown",value:function(t){try{this.core.destroy()}catch(t){C.warn("Exception on destruction",t)}this.core.emit("osjs/core:logged-out"),t&&setTimeout((function(){window.location.reload()}),1)}},{key:"show",value:function(t){var e=this.core.config("auth.login",{}),n=e.username&&e.password,r=this.core.config("auth.cookie");if(this.callback=t,this.ui.init(n),n)return this.login(e);if(r.enabled){var o=Ln.a.get(r.name);if(console.warn(o),o)return this.login(JSON.parse(o))}return Promise.resolve(!0)}},{key:"login",value:function(t){var e=this;return this.ui.emit("login:start"),this.adapter.login(t).then((function(n){if(n){var r=e.core.config("auth.cookie");return r.enabled?Ln.a.set(r.name,JSON.stringify(t),{expires:r.expires,sameSite:"strict"}):Ln.a.remove(r.name),e.ui.destroy(),e.callback(n),e.core.emit("osjs/core:logged-in"),e.ui.emit("login:stop",n),!0}return!1})).catch((function(t){return e.core.config("development")&&C.warn("Exception on login",t),e.ui.emit("login:error","Login failed",t),e.ui.emit("login:stop"),!1}))}},{key:"logout",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.adapter.logout(e).then((function(n){if(!n)return!1;var r=t.core.config("auth.cookie");return Ln.a.remove(r.name),t.shutdown(e),!0}))}},{key:"register",value:function(t){var e=this;return this.ui.emit("register:start"),this.adapter.register(t).then((function(t){return!!t&&(e.ui.emit("register:stop",t),t)})).catch((function(t){return e.core.config("development")&&C.warn("Exception on registration",t),e.ui.emit("register:error","Registration failed"),e.ui.emit("register:stop"),!1}))}}]),t}(),Tn=n(24),Pn=n.n(Tn),jn=function(){function t(e){p()(this,t),this.core=e}return h()(t,[{key:"destroy",value:function(){}},{key:"save",value:function(){var t=St.getApplications().filter((function(t){return!1!==t.options.sessionable})).map((function(t){return t.getSession()}));return this.core.make("osjs/settings").set("osjs/session",null,t).save()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&St.destroyAll();var n=this.core.make("osjs/settings").get("osjs/session");return!n||n instanceof Array||(n=Object.values(n)),n&&(console.group("Session::load()"),n.forEach((function(e){try{t.core.run(e.name,e.args,{restore:{windows:e.windows}})}catch(t){C.warn("Error while loading session entry",t)}})),console.groupEnd()),Promise.resolve(!0)}}]),t}();function kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var xn=function(){function t(e){p()(this,t),this.loaded=[],this.$root=e}return h()(t,[{key:"destroy",value:function(){this.loaded=[]}},{key:"load",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(t){return!n&&e.loaded.find((function(e){return e===t}))},o=t.filter((function(t){return!r(t)})).map((function(t){return C.debug("Packages::preload()",t),(t.match(/\.js$/)?st(e.$root,t):at(e.$root,t)).then((function(e){return{success:!0,entry:t,el:e}})).catch((function(e){return{success:!1,entry:t,error:e}}))}));return Promise.all(o).then((function(t){return e._load(t,r)}))}},{key:"_load",value:function(t,e){var n=this,r=t.filter((function(t){return t.success}));r.forEach((function(t){e(t)||n.loaded.push(t)}));var o=t.filter((function(t){return!t.success}));return o.forEach((function(t){return C.warn("Failed loading",t.entry,t.error)})),{errors:o.map((function(t){return t.entry})),elements:r.reduce((function(t,e){return Nn(Nn({},t),{},l()({},e.entry,e.el))}),{})}}}]),t}();function Rn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var In=function(t){var e=t.getUser(),n=t.config("packages.permissions",{}),r=[function(t){var n=!1===t.strictGroups?"some":"every";return!(t.groups instanceof Array)||t.groups[n]((function(t){return-1!==e.groups.indexOf(t)}))},function(t){var r=n[t.name];if(r&&r.groups instanceof Array){var o=!1===r.strictGroups?"some":"every";return r.groups[o]((function(t){return-1!==e.groups.indexOf(t)}))}return!0},function(t){return!(e.blacklist instanceof Array)||-1===e.blacklist.indexOf(t.name)}];return function(t){return r.every((function(e){return e(t)}))}};function Mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var Fn=function(){function t(e){p()(this,t),this.core=e,this.packages=[],this.metadata=[],this._running=[],this.preloader=new xn(e.$resourceRoot),this.inited=!1}return h()(t,[{key:"destroy",value:function(){this.packages=[],this.metadata=[],this.preloader.destroy()}},{key:"init",value:function(){var t=this;C.debug("Packages::init()"),this.inited||this.core.on("osjs/core:started",(function(){return t._autostart()})),this.metadata=this.core.config("packages.metadata",[]).map((function(t){return Dn({type:"application"},t)})),this.inited=!0;var e=this.core.config("packages.manifest");return e?this.core.request(e,{},"json",!0).then((function(e){return t.addPackages(e)})).then((function(e){return t._preloadBackgroundFiles(e)})).then((function(){return!0})).catch((function(t){return C.error(t)})):Promise.resolve(!0)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};C.debug("Packages::launch()",t,e,n);var r=this.core.make("osjs/locale").translate,o=this.metadata.find((function(e){return e.name===t}));if(!o)throw new Error(r("ERR_PACKAGE_NOT_FOUND",t));return-1!==["theme","icons","sounds"].indexOf(o.type)?this._launchTheme(t,o):this._launchApplication(t,o,e,n)}},{key:"_launchApplication",value:function(t,e,n,r){var o=this,i=!1;if(e.singleton){var a=St.getApplications().find((function(t){return t.metadata.name===e.name}));if(a)return a.emit("attention",n,r),i=!0,Promise.resolve(a);if(this._running.filter((function(e){return e===t})).length>0)return new Promise((function(e,a){o.core.once("osjs/application:".concat(t,":launched"),(function(t){i||t.emit("attention",n,r),e(t)}))}))}return this.core.emit("osjs/application:launch",t,n,r),this._running.push(t),this._launch(t,e,n,r)}},{key:"_launchTheme",value:function(t,e){var n=this,r=this._getPreloads(e,"preload","theme");return this.preloader.load(r).then((function(e){return Dn(Dn({elements:{}},e),n.packages.find((function(e){return e.metadata.name===t}))||{})}))}},{key:"_getPreloads",value:function(t,e,n){var r,o,i=this;return function(t){return(t||[]).map((function(t){return t.filename}))}((r=t.files,o=e,(r||[]).filter((function(t){return t.type===o})))).map((function(e){return i.core.url(e,{},Dn({type:n},t))}))}},{key:"_launch",value:function(t,e,n,r){var o=this,i=this.core.make("osjs/locale").translate,a=In(this.core),s=function(e){o.core.has("osjs/dialog")?o.core.make("osjs/dialog","alert",{type:"error",title:i("ERR_PACKAGE_EXCEPTION",t),message:i("ERR_PACKAGE_EXCEPTION",t),error:e},(function(){})):alert("".concat(i("ERR_PACKAGE_EXCEPTION",t),": ").concat(e.stack||e))},c=function(e){throw o.core.emit("osjs/application:launched",t,!1),o.core.emit("osjs/application:".concat(t,":launched"),!1),s(e),new Error(e)},u=this._getPreloads(e,"preload","apps");return a(e)||c(i("ERR_PACKAGE_PERMISSION_DENIED",t)),this.preloader.load(u,!0===r.forcePreload).then((function(e){var a=e.errors;a.length&&c(i("ERR_PACKAGE_LOAD",t,a.join(", ")));var u=o.packages.find((function(e){return e.metadata.name===t}));return u||c(i("ERR_PACKAGE_NO_RUNTIME",t)),function(e){var i;try{console.group("Packages::_launch()"),(i=e.callback(o.core,n,r,e.metadata))instanceof St?i.on("destroy",(function(){var e=o._running.findIndex((function(e){return e===t}));-1!==e&&o._running.splice(e,1)})):C.warn("The application",t,"did not return an Application instance from registration")}catch(e){s(e),C.warn("Exception when launching",t,e)}finally{o.core.emit("osjs/application:launched",t,i),o.core.emit("osjs/application:".concat(t,":launched"),i),console.groupEnd()}return i}(u)}))}},{key:"_autostart",value:function(){var t=this,e=this.metadata.filter((function(t){return!0===t.autostart})),n=this.core.config("application.autostart",[]).map((function(t){return"string"==typeof t?{name:t}:t}));[].concat(c()(e),c()(n)).forEach((function(e){var n=e.name,r=e.args;return t.launch(n,r||{})}))}},{key:"register",value:function(t,e){C.debug("Packages::register()",t);var n=this.core.make("osjs/locale").translate,r=this.metadata.find((function(e){return e.name===t}));if(!r)throw new Error(n("ERR_PACKAGE_NO_METADATA",t));var o=this.packages.findIndex((function(e){return e.metadata.name===t}));-1!==o&&this.packages.splice(o,1),this.packages.push({metadata:r,callback:e})}},{key:"addPackages",value:function(t){if(t instanceof Array){var e=this.core.config("packages.overrideMetadata",{}),n=function(t){return t.map((function(t){return Cn(Cn({type:"application"},t),{},{files:(t.files||[]).map((function(t){return"string"==typeof t?{filename:t,type:"preload"}:Cn({type:"preload"},t)}))})}))}(t).map((function(t){return e[t.name]?Dn(Dn({},t),e[t.name]):t}));this.metadata=[].concat(c()(this.metadata),c()(n))}return this.getPackages()}},{key:"getPackages",value:function(t){t=t||function(){return!0};var e=this.metadata.map((function(t){return Dn({},t)})),n=this.core.config("packages.hidden",[]),r=In(this.core);return e.filter(r).filter((function(t){return!(n instanceof Array)||-1===n.indexOf(t.name)})).filter(t)}},{key:"getCompatiblePackages",value:function(t){return this.getPackages((function(e){return!(!e.mimes||e.hidden||!e.mimes.find((function(e){try{return new RegExp(e).test(t)}catch(t){C.warn("Compability check failed",t)}return e===t})))}))}},{key:"_preloadBackgroundFiles",value:function(t){var e=this,n=t.reduce((function(t,n){return[].concat(c()(t),c()(e._getPreloads(n,"background","apps")))}),[]);return this.preloader.load(n).then((function(t){var e=t.errors;(void 0===e?[]:e).forEach((function(t){return C.error(t)}))}))}},{key:"running",value:function(){return this._running}},{key:"getMetadataFromName",value:function(t){var e=this.metadata.find((function(e){return e.name===t}));return e?Dn({},e):null}}]),t}();function Un(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var Gn=function(){function t(e){p()(this,t),this.core=e,this.entries=[]}return h()(t,[{key:"destroy",value:function(){this.entries=[]}},{key:"create",value:function(t,e){var n=this,r=this.core.make("osjs/locale").translate("LBL_TRAY"),o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Un(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({key:null,icon:P,title:r,onclick:e=e||function(){},oncontextmenu:e,handler:e},t);return C.debug("Created new tray entry",o),this.entries.push(o),this.core.emit("osjs/tray:create",o),this.core.emit("osjs/tray:update",this.entries),{entry:o,update:function(t){Object.keys(t).forEach((function(e){return o[e]=t[e]})),n.core.emit("osjs/tray:update",n.entries)},destroy:function(){return n.remove(o)}}}},{key:"remove",value:function(t){var e=this.entries.findIndex((function(e){return e===t}));-1!==e&&(this.entries.splice(e,1),this.core.emit("osjs/tray:remove",t),this.core.emit("osjs/tray:update",this.entries))}},{key:"list",value:function(){return this.entries}},{key:"has",value:function(t){return-1!==this.entries.findIndex((function(e){return e.key===t}))}}]),t}(),Hn=function(){function t(){p()(this,t),this.clipboard=void 0,this.clear()}return h()(t,[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){this.clipboard={data:void 0,type:void 0}}},{key:"set",value:function(t,e){this.clipboard={data:t,type:e}}},{key:"has",value:function(t){return t instanceof RegExp?"string"==typeof this.clipboard.type&&!!this.clipboard.type.match(t):this.clipboard.type===t}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.clipboard.data,n="function"==typeof e?e():e;return t&&this.clear(),Promise.resolve(n)}}]),t}(),Kn=function(){function t(){p()(this,t),this.middleware={}}return h()(t,[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){this.middleware={}}},{key:"add",value:function(t,e){this.middleware[t]||(this.middleware[t]=[]),this.middleware[t].push(e)}},{key:"remove",value:function(t,e){this.middleware[t]&&(this.middleware[t]=this.middleware[t].filter((function(t){return t!==e})))}},{key:"get",value:function(t){return this.middleware[t]||[]}}]),t}(),$n={ERR_REQUEST_STANDALONE:"Cannot make requests in standalone mode.",ERR_REQUEST_NOT_OK:"An error occured while performing a request: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Filesystem '{0}' not found",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Filesystem not found for '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Filesystem '{0}' not mounted",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Filesystem '{0}' already mounted",ERR_VFS_PATH_FORMAT_INVALID:"Given path '{0}' does not match 'name:/path'",ERR_PACKAGE_PERMISSION_DENIED:"You are not permitted to run '{0}'",ERR_PACKAGE_NOT_FOUND:"Package Metadata '{0}' not found",ERR_PACKAGE_LOAD:"Package Loading '{0}' failed: {1}",ERR_PACKAGE_NO_RUNTIME:"Package Runtime '{0}' not found",ERR_PACKAGE_NO_METADATA:"Metadata not found for '{0}'. Is it in the manifest?",ERR_PACKAGE_EXCEPTION:"An exception occured in '{0}'",ERR_WINDOW_ID_EXISTS:"Window with ID '{0}' already exists",ERR_INVALID_LOCALE:"Invalid locale '{0}'",LBL_CONNECTION_LOST:"Connection Lost",LBL_CONNECTION_LOST_MESSAGE:"The connection to the OS.js was lost. Reconnecting....",LBL_CONNECTION_RESTORED:"Connection Restored",LBL_CONNECTION_RESTORED_MESSAGE:"The connection to the OS.js server was restored.",LBL_CONNECTION_FAILED:"Connection Failed",LBL_CONNECTION_FAILED_MESSAGE:"The connection to the OS.js could not be established. Some features might not work properly.",LBL_APP_CAT_DEVELOPMENT:"Development",LBL_APP_CAT_SCIENCE:"Science",LBL_APP_CAT_GAMES:"Games",LBL_APP_CAT_GRAPHICS:"Graphics",LBL_APP_CAT_NETWORK:"Network",LBL_APP_CAT_MULTIMEDIA:"Multimedia",LBL_APP_CAT_OFFICE:"Office",LBL_APP_CAT_SYSTEM:"System",LBL_APP_CAT_UTILITIES:"Utilities",LBL_APP_CAT_OTHER:"Other",LBL_LAUNCH_SELECT:"Select application",LBL_LAUNCH_SELECT_MESSAGE:"Select application for '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Select wallpaper",LBL_DESKTOP_SELECT_THEME:"Select theme",LBL_SEARCH_TOOLTOP:"Search Filesystem ({0})",LBL_SEARCH_PLACEHOLDER:"Search filesystems...",LBL_SEARCH_WAIT:"Searching...",LBL_SEARCH_RESULT:"Showing {0} results",LBL_DESKTOP_SET_AS_WALLPAPER:"Set as wallpaper",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Top",LBL_LEFT:"Left",LBL_RIGHT:"Right",LBL_BOTTOM:"Bottom",LBL_MENU:"Menu",LBL_ERROR:"Error",LBL_INFO:"Info",LBL_MESSAGE:"Message",LBL_WARNINIG:"Warning",LBL_SUCCESS:"Success",LBL_FAILURE:"Failure",LBL_WINDOW:"Window",LBL_WINDOWS:"Windows",LBL_NOTIFICATION:"Notification",LBL_NOTIFICATIONS:"Notifications",LBL_TRAY:"Tray Entry",LBL_NAME:"Name",LBL_TYPE:"Type",LBL_SIZE:"Size",LBL_FILE:"File",LBL_NEW:"New",LBL_OPEN:"Open",LBL_OPEN_WITH:"Open with...",LBL_SAVE:"Save",LBL_SAVEAS:"Save As",LBL_OK:"OK",LBL_ABORT:"Abort",LBL_CANCEL:"Cancel",LBL_CLOSE:"Close",LBL_QUIT:"Quit",LBL_YES:"Yes",LBL_NO:"No",LBL_GO:"Go",LBL_MKDIR:"Create new directory",LBL_MKFILE:"Create new file",LBL_COPY:"Copy",LBL_PASTE:"Paste",LBL_CUT:"Cut",LBL_MOVE:"Move",LBL_RENAME:"Rename",LBL_DELETE:"Delete",LBL_DOWNLOAD:"Download",LBL_REFRESH:"Refresh",LBL_RELOAD:"Reload",LBL_HOME:"Home",LBL_VIEW:"View",LBL_HELP:"Help",LBL_ABOUT:"About",LBL_APPLICATION:"Application",LBL_APPLICATIONS:"Applications",LBL_KILL:"Kill",LBL_KILL_ALL:"Kill all",LBL_MINIMIZE:"Minimize",LBL_MAXIMIZE:"Maximize",LBL_RESTORE:"Restore",LBL_RAISE:"Raise",LBL_SHADE:"Shade",LBL_UNSHADE:"Unshade",LBL_ONTOP:"On top",LBL_RESIZE:"Resize",LBL_BACK:"Back",LBL_FORWARD:"Forward",LBL_UPLOAD:"Upload",LBL_IMAGE:"Image",LBL_CREATE_SHORTCUT:"Create shortcut",LBL_REMOVE_SHORTCUT:"Remove shortcut",LBL_EDIT:"Edit"},Vn={ERR_REQUEST_STANDALONE:"Impossible d'effectuer des requêtes en mode autonome.",ERR_REQUEST_NOT_OK:"Une erreur s'est produite en exécutant une requête : {0}",ERR_VFS_MOUNT_NOT_FOUND:"Système de fichier '{0}' absent",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Système de fichier pour '{0}' absent",ERR_VFS_MOUNT_NOT_MOUNTED:"Le système de fichier '{0}' n'est pas encore monté",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Le système de fichier '{0}' est déjà monté",ERR_VFS_PATH_FORMAT_INVALID:"Le dossier '{0}' ne correspond pas 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Les métadonnées du paquet '{0}' n'ont pas été touvées",ERR_PACKAGE_LOAD:"Le chargement du paquet '{0}' a échoué: {1}",ERR_PACKAGE_NO_RUNTIME:"Durée d'exécution du paquet '{0}' absente",ERR_PACKAGE_NO_METADATA:"Métadonnées absentes pour '{0}'. Sont-elles dans le manifeste ?",ERR_PACKAGE_EXCEPTION:"Une exception s'est produite dans '{0}'",ERR_WINDOW_ID_EXISTS:"La fénêtre avec l'identifiant '{0}' existe déjà",ERR_INVALID_LOCALE:"Paramètre de langue invalide '{0}'",LBL_CONNECTION_LOST:"Connexion perdue",LBL_CONNECTION_LOST_MESSAGE:"La connexion à OS.js a été perdue. Reconnexion...",LBL_CONNECTION_RESTORED:"Connexion restaurée",LBL_CONNECTION_RESTORED_MESSAGE:"La connexion à OS.js a été restaurée.",LBL_APP_CAT_DEVELOPMENT:"Développement",LBL_APP_CAT_SCIENCE:"Science",LBL_APP_CAT_GAMES:"Jeux",LBL_APP_CAT_GRAPHICS:"Graphisme",LBL_APP_CAT_NETWORK:"Réseau",LBL_APP_CAT_MULTIMEDIA:"Multimédia",LBL_APP_CAT_OFFICE:"Bureautique",LBL_APP_CAT_SYSTEM:"Système",LBL_APP_CAT_UTILITIES:"Utilitaires",LBL_APP_CAT_OTHER:"Autre",LBL_LAUNCH_SELECT:"Sélectionner l'application",LBL_LAUNCH_SELECT_MESSAGE:"Sélectionner l'application pour '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Sélectionner le fond d'écran",LBL_DESKTOP_SELECT_THEME:"Sélectionner le thème",LBL_SEARCH_TOOLTOP:"Recherche d'un système de fichier ({0})",LBL_SEARCH_PLACEHOLDER:"Recherche des systèmes de fichiers...",LBL_SEARCH_WAIT:"Recherche...",LBL_SEARCH_RESULT:"Affichage des résultats {0}",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"En Haut",LBL_LEFT:"À Gauche",LBL_RIGHT:"À Droite",LBL_BOTTOM:"En Bas",LBL_MENU:"Menu",LBL_ERROR:"Erreur",LBL_INFO:"Info",LBL_MESSAGE:"Message",LBL_WARNINIG:"Attention",LBL_SUCCESS:"Succès",LBL_FAILURE:"Échec",LBL_WINDOW:"Fenêtre",LBL_WINDOWS:"Fenêtres",LBL_NOTIFICATION:"Notification",LBL_NOTIFICATIONS:"Notifications",LBL_TRAY:"Accès au plateau",LBL_NAME:"Nom",LBL_TYPE:"Type",LBL_SIZE:"Taille",LBL_FILE:"Fichier",LBL_NEW:"Nouveau",LBL_OPEN:"Ouvrir",LBL_SAVE:"Sauvegarder",LBL_SAVEAS:"Sauvegarder comme",LBL_OK:"OK",LBL_ABORT:"Abandonner",LBL_CANCEL:"Annuler",LBL_CLOSE:"Fermer",LBL_QUIT:"Quitter",LBL_YES:"Oui",LBL_NO:"Non",LBL_GO:"C'est parti !",LBL_MKDIR:"Créer nouveau dossier",LBL_MKFILE:"Créer nouveau fichier",LBL_COPY:"Copier",LBL_PASTE:"Coller",LBL_CUT:"Couper",LBL_MOVE:"Déplacer",LBL_RENAME:"Renommer",LBL_DELETE:"Supprimer",LBL_DOWNLOAD:"Télécharger",LBL_REFRESH:"Rafraîchir",LBL_RELOAD:"Recharger",LBL_HOME:"Accueil",LBL_VIEW:"Aperçu",LBL_HELP:"Aide",LBL_ABOUT:"À propos",LBL_APPLICATION:"Application",LBL_APPLICATIONS:"Applications",LBL_KILL:"Tuer",LBL_KILL_ALL:"Tuer tout"},Wn={ERR_REQUEST_STANDALONE:"Kan ikke gjøre spørringer i standalone modus.",ERR_REQUEST_NOT_OK:"En feil oppstod under spørring: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Filsystem '{0}' ikke funnet",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Filsystem ikke funnet for '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Filsystem '{0}' ikke montert",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Filesystem '{0}' allerede montert",ERR_VFS_PATH_FORMAT_INVALID:"Angitt sti '{0}' tilfredstiller ikke format 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Pakke Metadata '{0}' ikke funnet",ERR_PACKAGE_LOAD:"Pakke Lasting '{0}' feilet: {1}",ERR_PACKAGE_NO_RUNTIME:"Pakke Runtime '{0}' ikke funnet",ERR_PACKAGE_NO_METADATA:"Metadata ikke funnet for '{0}'. Er den i manifestet?",ERR_PACKAGE_EXCEPTION:"En unntaksfeil oppstod i '{0}'",ERR_WINDOW_ID_EXISTS:"Vindu med ID '{0}' eksisterer allerede",ERR_INVALID_LOCALE:"Ugyldig lokalisering '{0}'",LBL_CONNECTION_LOST:"Tilkobling tapt",LBL_CONNECTION_LOST_MESSAGE:"Tilkobling til OS.js var tapt. Kobler til på nytt....",LBL_CONNECTION_RESTORED:"Tilkobling gjenopprettet",LBL_CONNECTION_RESTORED_MESSAGE:"Tilkobling til OS.js var gjenopprettet.",LBL_CONNECTION_FAILED:"Tilkobling feilet",LBL_CONNECTION_FAILED_MESSAGE:"Tilkobling til OS.js var ikke vellykket. Noen egenskaper er utilgjenglig.",LBL_APP_CAT_DEVELOPMENT:"Utvikling",LBL_APP_CAT_SCIENCE:"Vitenskap",LBL_APP_CAT_GAMES:"Spill",LBL_APP_CAT_GRAPHICS:"Grafikk",LBL_APP_CAT_NETWORK:"Nettverk",LBL_APP_CAT_MULTIMEDIA:"Multimedia",LBL_APP_CAT_OFFICE:"Kontor",LBL_APP_CAT_SYSTEM:"System",LBL_APP_CAT_UTILITIES:"Verktøy",LBL_APP_CAT_OTHER:"Andre",LBL_LAUNCH_SELECT:"Velg applikasjon",LBL_LAUNCH_SELECT_MESSAGE:"Velg applikasjon for '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Velg bakgrunnsbilde",LBL_DESKTOP_SELECT_THEME:"Velg tema",LBL_SEARCH_TOOLTOP:"Søk i filsystemer ({0})",LBL_SEARCH_PLACEHOLDER:"Søker filsystemer...",LBL_SEARCH_WAIT:"Søker...",LBL_SEARCH_RESULT:"Viser {0} resultater",LBL_DESKTOP_SET_AS_WALLPAPER:"Sett som bakgrunnsbilde",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Topp",LBL_LEFT:"Venstre",LBL_RIGHT:"Høyre",LBL_BOTTOM:"Bunn",LBL_MENU:"Meny",LBL_ERROR:"Feil",LBL_INFO:"Info",LBL_MESSAGE:"Melding",LBL_WARNINIG:"Advarsel",LBL_SUCCESS:"Velykket",LBL_FAILURE:"Svikt",LBL_WINDOW:"Vindu",LBL_WINDOWS:"Vinduer",LBL_NOTIFICATION:"Notifikasjon",LBL_NOTIFICATIONS:"Notifikasjoner",LBL_TRAY:"Tray Oppføring",LBL_NAME:"Navn",LBL_TYPE:"Type",LBL_SIZE:"Størrelse",LBL_FILE:"Fil",LBL_NEW:"Ny",LBL_OPEN:"Åpne",LBL_OPEN_WITH:"Åpne med...",LBL_SAVE:"Lagre",LBL_SAVEAS:"Lagre Som",LBL_OK:"OK",LBL_ABORT:"Abort",LBL_CANCEL:"Avbryt",LBL_CLOSE:"Lukk",LBL_QUIT:"Slutt",LBL_YES:"Ja",LBL_NO:"Nei",LBL_GO:"Gå",LBL_MKDIR:"Lag ny mappe",LBL_MKFILE:"Lag ny fil",LBL_COPY:"Kopier",LBL_PASTE:"Lim inn",LBL_CUT:"Kutt",LBL_MOVE:"Flytt",LBL_RENAME:"Navngi",LBL_DELETE:"Slett",LBL_DOWNLOAD:"Last ned",LBL_REFRESH:"Gjenoppfrisk",LBL_RELOAD:"Last på nytt",LBL_HOME:"Hjem",LBL_VIEW:"Visning",LBL_HELP:"Hjelp",LBL_ABOUT:"Om",LBL_APPLICATION:"Applikasjon",LBL_APPLICATIONS:"Applikasjoner",LBL_KILL:"Drep",LBL_KILL_ALL:"Drep alle",LBL_MINIMIZE:"Minimisèr",LBL_MAXIMIZE:"Maksimisèr",LBL_RESTORE:"Gjenopprett",LBL_RAISE:"Løft",LBL_SHADE:"Rull opp",LBL_UNSHADE:"Rull ned",LBL_ONTOP:"Alltid øverst",LBL_RESIZE:"Endre størrelse",LBL_BACK:"Tilbake",LBL_FORWARD:"Frem",LBL_UPLOAD:"Last opp",LBL_IMAGE:"Bilde",LBL_CREATE_SHORTCUT:"Lag til snarvei",LBL_REMOVE_SHORTCUT:"Fjern snarvei",LBL_EDIT:"Rediger"},zn={ERR_REQUEST_STANDALONE:"Zahteve v samostojnem načinu niso mogoče.",ERR_REQUEST_NOT_OK:"Pri zahtevi je prišlo do napake: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Datotečni sistem '{0}' ni najden",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Datotečni sistem ni najden '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Datotečni sistem '{0}' ni nameščen",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Datotečni sistem '{0}' že nameščen",ERR_VFS_PATH_FORMAT_INVALID:"Podana pot '{0}' se ne ujema z 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Metapodatki paketa '{0}' niso najdeni",ERR_PACKAGE_LOAD:"Pri nalaganju pageta '{0}' je prišlo do napake: {1}",ERR_PACKAGE_NO_RUNTIME:"Koda paketa '{0}' ni najdena",ERR_PACKAGE_NO_METADATA:"Metapodatki '{0}' niso najdeni. Ali so v datoteki manifest?",ERR_PACKAGE_EXCEPTION:"Sprožena je bila izjema v '{0}'",ERR_WINDOW_ID_EXISTS:"Okno z ID-jem '{0}' že obstaja",ERR_INVALID_LOCALE:"Neveljaven prevod '{0}'",LBL_CONNECTION_LOST:"Izguba povezave",LBL_CONNECTION_LOST_MESSAGE:"Povezava do strežnika je bila izgubljena. Ponovno povezovanje ...",LBL_CONNECTION_RESTORED:"Vzpostavitev povezave",LBL_CONNECTION_RESTORED_MESSAGE:"Povezava do strežnika je bila ponovno vzpostavljena.",LBL_CONNECTION_FAILED:"Povezava ni uspela",LBL_CONNECTION_FAILED_MESSAGE:"Povezave z OS.js ni bilo mogoče vzpostaviti. Nekatere funkcije morda ne bodo delovale pravilno.",LBL_APP_CAT_DEVELOPMENT:"Razvoj",LBL_APP_CAT_SCIENCE:"Znanost",LBL_APP_CAT_GAMES:"Igre",LBL_APP_CAT_GRAPHICS:"Grafika",LBL_APP_CAT_NETWORK:"Omrežje",LBL_APP_CAT_MULTIMEDIA:"Multimedija",LBL_APP_CAT_OFFICE:"Pisarna",LBL_APP_CAT_SYSTEM:"Sistem",LBL_APP_CAT_UTILITIES:"Orodja",LBL_APP_CAT_OTHER:"Drugo",LBL_LAUNCH_SELECT:"Izberite aplikacijo",LBL_LAUNCH_SELECT_MESSAGE:"Izberite aplikacijo za '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Izberite ozadje",LBL_DESKTOP_SELECT_THEME:"Izberite temo",LBL_SEARCH_TOOLTOP:"Išči datotečni sistem ({0})",LBL_SEARCH_PLACEHOLDER:"Iskanje po datotečnih sistemih ...",LBL_SEARCH_WAIT:"Iskanje ...",LBL_SEARCH_RESULT:"Prikaz {0} rezultatov",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Zgoraj",LBL_LEFT:"Levo",LBL_RIGHT:"Desno",LBL_BOTTOM:"Spodaj",LBL_MENU:"Meni",LBL_ERROR:"Napaka",LBL_INFO:"Informacije",LBL_MESSAGE:"Sporočilo",LBL_WARNINIG:"Opozorilo",LBL_SUCCESS:"Uspeh",LBL_FAILURE:"Neuspeh",LBL_WINDOW:"Okno",LBL_WINDOWS:"Okna",LBL_NOTIFICATION:"Obvestilo",LBL_NOTIFICATIONS:"Obvestila",LBL_TRAY:"Element vrstice",LBL_NAME:"Ime",LBL_TYPE:"Vrsta",LBL_SIZE:"Velikost",LBL_FILE:"Datoteka",LBL_NEW:"Novo",LBL_OPEN:"Odpri",LBL_SAVE:"Shrani",LBL_SAVEAS:"Shrani kot",LBL_OK:"V redu",LBL_ABORT:"Prekini",LBL_CANCEL:"Prekliči",LBL_CLOSE:"Zapri",LBL_QUIT:"Izklopi",LBL_YES:"Da",LBL_NO:"Ne",LBL_GO:"Pojdi",LBL_MKDIR:"Ustvari novo mapo",LBL_MKFILE:"Ustvari novo datoteko",LBL_COPY:"Kopiraj",LBL_PASTE:"Prilepi",LBL_CUT:"Izreži",LBL_MOVE:"Premakni",LBL_RENAME:"Preimenuj",LBL_DELETE:"Izbriši",LBL_DOWNLOAD:"Prenesi",LBL_REFRESH:"Osveži",LBL_RELOAD:"Osveži",LBL_HOME:"Domov",LBL_VIEW:"Pogled",LBL_HELP:"Pomoč",LBL_ABOUT:"O programu",LBL_APPLICATION:"Aplikacija",LBL_APPLICATIONS:"Aplikacije",LBL_KILL:"Končaj",LBL_KILL_ALL:"Končaj vse",LBL_MINIMIZE:"Pomanjšaj",LBL_MAXIMIZE:"Povečaj",LBL_RESTORE:"Obnovi",LBL_RAISE:"Dvigni",LBL_SHADE:"Zasenči",LBL_UNSHADE:"Odsenči",LBL_ONTOP:"Na vrhu",LBL_RESIZE:"Spremeni velikost",LBL_BACK:"Nazaj",LBL_FORWARD:"Naprej",LBL_UPLOAD:"Naloži",LBL_IMAGE:"Slika"},Yn={ERR_REQUEST_STANDALONE:"Không thể gửi yêu cầu ở chế độ độc lập.",ERR_REQUEST_NOT_OK:"Đã xảy ra lỗi khi thực hiện yêu cầu: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Không tìm thấy hệ thống tập tin '{0}'",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Không tìm thấy hệ thống tập tin cho '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Hệ thống tập tin '{0}' không được gắn kết",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Hệ thống tập tin '{0}' đã được gắn kết",ERR_VFS_PATH_FORMAT_INVALID:"Định dạng đường dẫn '{0}' không khớp với 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Không tìm thấy siêu dữ liệu của gói '{0}'",ERR_PACKAGE_LOAD:"Tải gói '{0}' thất bại: {1}",ERR_PACKAGE_NO_RUNTIME:"Không tìm thấy Runtime của gói '{0}'",ERR_PACKAGE_NO_METADATA:"Không tìm thấy siêu dữ liệu cho '{0}'. Bạn có chắc nó đã được báo cáo trong manifest không?",ERR_PACKAGE_EXCEPTION:"Đã xảy ra lỗi trong '{0}'",ERR_WINDOW_ID_EXISTS:"Cửa sổ với ID '{0}' đã tồn tại",ERR_INVALID_LOCALE:"Ngôn ngữ không hợp lệ '{0}'",LBL_CONNECTION_LOST:"Mất kết nối",LBL_CONNECTION_LOST_MESSAGE:"Kết nối với OS.js đã bị mất. Đang kết nối lại....",LBL_CONNECTION_RESTORED:"Đã khôi phục kết nối",LBL_CONNECTION_RESTORED_MESSAGE:"Kết nối với máy chủ OS.js đã được khôi phục.",LBL_CONNECTION_FAILED:"Kết nối thất bại",LBL_CONNECTION_FAILED_MESSAGE:"Không thể kết nối đến máy chủ OS.js. Một số tính năng có thể không hoạt động ổn định.",LBL_APP_CAT_DEVELOPMENT:"Phát triển",LBL_APP_CAT_SCIENCE:"Khoa học",LBL_APP_CAT_GAMES:"Trò chơi",LBL_APP_CAT_GRAPHICS:"Đồ họa",LBL_APP_CAT_NETWORK:"Mạng",LBL_APP_CAT_MULTIMEDIA:"Đa phương tiện",LBL_APP_CAT_OFFICE:"Văn phòng",LBL_APP_CAT_SYSTEM:"Hệ thống",LBL_APP_CAT_UTILITIES:"Tiện ích",LBL_APP_CAT_OTHER:"Ứng dụng khác",LBL_LAUNCH_SELECT:"Chọn ứng dụng",LBL_LAUNCH_SELECT_MESSAGE:"Chọn ứng dụng để mở tập tin '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Thay đổi hình nền",LBL_DESKTOP_SELECT_THEME:"Thay đổi chủ đề",LBL_SEARCH_TOOLTOP:"Tìm kiếm dữ liệu ({0})",LBL_SEARCH_PLACEHOLDER:"Tìm kiếm...",LBL_SEARCH_WAIT:"Đang tìm kiếm...",LBL_SEARCH_RESULT:"Đang hiển thị {0} kết quả",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Phía trên",LBL_LEFT:"Trái",LBL_RIGHT:"Phải",LBL_BOTTOM:"Phía dưới",LBL_MENU:"Menu",LBL_ERROR:"Lỗi",LBL_INFO:"Thông tin",LBL_MESSAGE:"Thông báo",LBL_WARNINIG:"Cảnh báo",LBL_SUCCESS:"Thành công",LBL_FAILURE:"Thất bại",LBL_WINDOW:"Cửa sổ",LBL_WINDOWS:"Các cửa sổ",LBL_NOTIFICATION:"Thông báo",LBL_NOTIFICATIONS:"Các thông báo",LBL_TRAY:"Mục khay hệ thống",LBL_NAME:"Tên",LBL_TYPE:"Kiểu",LBL_SIZE:"Kích thước",LBL_FILE:"Tập tin",LBL_NEW:"Mới",LBL_OPEN:"Mở",LBL_SAVE:"Lưu",LBL_SAVEAS:"Lưu như",LBL_OK:"OK",LBL_ABORT:"Hủy thao tác",LBL_CANCEL:"Hủy bỏ",LBL_CLOSE:"Đóng",LBL_QUIT:"Thoát",LBL_YES:"Có",LBL_NO:"Không",LBL_GO:"Đi",LBL_MKDIR:"Tạo thư mục mới",LBL_MKFILE:"Tạo tệp mới",LBL_COPY:"Sao chép",LBL_PASTE:"Dán",LBL_CUT:"Cắt",LBL_MOVE:"Di chuyển",LBL_RENAME:"Đổi tên",LBL_DELETE:"Xóa",LBL_DOWNLOAD:"Tải về",LBL_REFRESH:"Làm mới",LBL_RELOAD:"Tải lại",LBL_HOME:"Trang chủ",LBL_VIEW:"Xem",LBL_HELP:"Hướng dẫn",LBL_ABOUT:"Thông tin",LBL_APPLICATION:"Ứng dụng",LBL_APPLICATIONS:"Các ứng dụng",LBL_KILL:"Đóng",LBL_KILL_ALL:"Đóng tất cả",LBL_MINIMIZE:"Thu nhỏ",LBL_MAXIMIZE:"Tối đa",LBL_RESTORE:"Phục hồi",LBL_RAISE:"Nâng lên",LBL_SHADE:"Làm mở",LBL_UNSHADE:"Bỏ làm mờ",LBL_ONTOP:"Ở trên cùng",LBL_RESIZE:"Thay đổi kích thước",LBL_BACK:"Lùi",LBL_FORWARD:"Tiến",LBL_UPLOAD:"Tải lên",LBL_IMAGE:"Ảnh"},qn={ERR_REQUEST_STANDALONE:"Im standalone modus können keine Anfragen gemacht werden.",ERR_REQUEST_NOT_OK:"Beim Ausführen einer Anfrage ist der folgende Fehler aufgetreten: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Filesystem '{0}' nicht gefunden",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Filesystem für '{0}' nicht gefunden",ERR_VFS_MOUNT_NOT_MOUNTED:"Filesystem '{0}' nicht gemountet",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Filesystem '{0}' schon gemountet",ERR_VFS_PATH_FORMAT_INVALID:"Der gegebene Pfad '{0}' stimmt nicht mit 'name:/path' überein",ERR_PACKAGE_NOT_FOUND:"Paket-Metadaten  '{0}' nicht gefunden",ERR_PACKAGE_LOAD:"Paket Laden '{0}' ist fehlgeschlagen: {1}",ERR_PACKAGE_NO_RUNTIME:"Paketlaufzeit '{0}' nicht gefunden",ERR_PACKAGE_NO_METADATA:"Metadaten für '{0}' nicht gefunden. Ist es in der Manifest?",ERR_PACKAGE_EXCEPTION:"Eine Ausnahme trat in '{0}' auf.",ERR_WINDOW_ID_EXISTS:"Fenster mit der ID '{0}' existiert schon",ERR_INVALID_LOCALE:"Invalide Sprache '{0}'",LBL_CONNECTION_LOST:"Verbindung unterbrochen",LBL_CONNECTION_LOST_MESSAGE:"Die Verbindung zu OS.js wurde unterbrochen. Wiederverbinden... ",LBL_CONNECTION_RESTORED:"Verbindung wiederhergestellt",LBL_CONNECTION_RESTORED_MESSAGE:"Die Verbindung zu dem OS.js wurde wieder hergestellt.",LBL_APP_CAT_DEVELOPMENT:"IT-Entwicklung",LBL_APP_CAT_SCIENCE:"Wissenschaft",LBL_APP_CAT_GAMES:"Spiele",LBL_APP_CAT_GRAPHICS:"Grafiken",LBL_APP_CAT_NETWORK:"Netzwerk",LBL_APP_CAT_MULTIMEDIA:"Multimedia",LBL_APP_CAT_OFFICE:"Office",LBL_APP_CAT_SYSTEM:"System",LBL_APP_CAT_UTILITIES:"Dienstprogramme",LBL_APP_CAT_OTHER:"Andere",LBL_LAUNCH_SELECT:"Applikation auswählen",LBL_LAUNCH_SELECT_MESSAGE:"Applikation für '{0}' auswählen",LBL_DESKTOP_SELECT_WALLPAPER:"Hintergrundbild auswählen",LBL_DESKTOP_SELECT_THEME:"Theme auswählen",LBL_SEARCH_TOOLTOP:"Dateisysteme ({0}) finden",LBL_SEARCH_PLACEHOLDER:"Dateisysteme finden...",LBL_SEARCH_WAIT:"Suche...",LBL_SEARCH_RESULT:"Anzeige von {0} Ergebnissen",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Oben",LBL_LEFT:"Links",LBL_RIGHT:"Rechts",LBL_BOTTOM:"Unten",LBL_MENU:"Menü",LBL_ERROR:"Error",LBL_INFO:"Info",LBL_MESSAGE:"Nachricht",LBL_WARNINIG:"Warnung",LBL_SUCCESS:"Success",LBL_FAILURE:"Fehler",LBL_WINDOW:"Fenster",LBL_WINDOWS:"Fenster",LBL_NOTIFICATION:"Benachrichtigung",LBL_NOTIFICATIONS:"Benachrichtigungen",LBL_TRAY:"Infobereich-Eintrag",LBL_NAME:"Name",LBL_TYPE:"Typ",LBL_SIZE:"Größe",LBL_FILE:"Datei",LBL_NEW:"Neue",LBL_OPEN:"Öffnen",LBL_SAVE:"Speichern",LBL_SAVEAS:"Speichern als",LBL_OK:"OK",LBL_ABORT:"Abbrechen",LBL_CANCEL:"Beenden",LBL_CLOSE:"Schließen",LBL_QUIT:"Verlassen",LBL_YES:"Ja",LBL_NO:"Nein",LBL_GO:"Los",LBL_MKDIR:"Neues Verzeichnis erstellen",LBL_MKFILE:"Neue Datei erstellen",LBL_COPY:"Kopieren",LBL_PASTE:"Einfügen",LBL_CUT:"Ausschneiden",LBL_MOVE:"Verschieben",LBL_RENAME:"Umbenennen",LBL_DELETE:"Löschen",LBL_DOWNLOAD:"Herunterladen",LBL_REFRESH:"Aktualisieren",LBL_RELOAD:"Neu laden",LBL_HOME:"Startseite",LBL_VIEW:"Ansicht",LBL_HELP:"Hilfe",LBL_ABOUT:"Über",LBL_APPLICATION:"Anwendungsprogramme",LBL_APPLICATIONS:"Anwendungsprogrammen",LBL_KILL:"Beenden",LBL_KILL_ALL:"Alle benden"},Zn={ERR_REQUEST_STANDALONE:"无法在独立模式下发出请求。",ERR_REQUEST_NOT_OK:"执行请求时发生错误：{0}",ERR_VFS_MOUNT_NOT_FOUND:"找不到文件系统 '{0}' ",ERR_VFS_MOUNT_NOT_FOUND_FOR:"找不到'{0}'的文件系统",ERR_VFS_MOUNT_NOT_MOUNTED:"文件系统 '{0}' 未挂载",ERR_VFS_MOUNT_ALREADY_MOUNTED:"文件系统 '{0}' 已挂载",ERR_VFS_PATH_FORMAT_INVALID:"给定路径'{0}'与'name:/path'不匹配",ERR_PACKAGE_NOT_FOUND:"未找到包的元数据'{0}'",ERR_PACKAGE_LOAD:"加载包 '{0}' 失败： {1}",ERR_PACKAGE_NO_RUNTIME:"未找到运行包 '{0}' ",ERR_PACKAGE_NO_METADATA:"找不到 '{0}' 的元数据。它在清单（manifest）中吗？",ERR_PACKAGE_EXCEPTION:"'{0}'发生异常",ERR_WINDOW_ID_EXISTS:"ID为'{0}'的窗口已存在",ERR_INVALID_LOCALE:"无效的区域设置 '{0}'",LBL_CONNECTION_LOST:"连接丢失",LBL_CONNECTION_LOST_MESSAGE:"与OS.js的连接丢失了。重新连接....",LBL_CONNECTION_RESTORED:"连接已恢复",LBL_CONNECTION_RESTORED_MESSAGE:"已恢复与OS.js服务器的连接。",LBL_CONNECTION_FAILED:"连接失败",LBL_CONNECTION_FAILED_MESSAGE:"无法建立与OS.js的连接。 某些功能可能无法正常工作。",LBL_APP_CAT_DEVELOPMENT:"开发",LBL_APP_CAT_SCIENCE:"科学",LBL_APP_CAT_GAMES:"游戏",LBL_APP_CAT_GRAPHICS:"图像",LBL_APP_CAT_NETWORK:"网络",LBL_APP_CAT_MULTIMEDIA:"媒体",LBL_APP_CAT_OFFICE:"办公",LBL_APP_CAT_SYSTEM:"系统",LBL_APP_CAT_UTILITIES:"工具",LBL_APP_CAT_OTHER:"其他",LBL_LAUNCH_SELECT:"选择应用程序",LBL_LAUNCH_SELECT_MESSAGE:"选择'{0}'的应用程序",LBL_DESKTOP_SELECT_WALLPAPER:"选择壁纸",LBL_DESKTOP_SELECT_THEME:"选择主题",LBL_SEARCH_TOOLTOP:"搜索文件系统 ({0})",LBL_SEARCH_PLACEHOLDER:"搜索文件系统...",LBL_SEARCH_WAIT:"搜索...",LBL_SEARCH_RESULT:"显示{0}个结果",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KB",LBL_FS_MIB:"MB",LBL_FS_GIB:"GB",LBL_TOP:"上",LBL_LEFT:"左",LBL_RIGHT:"右",LBL_BOTTOM:"下",LBL_MENU:"菜单",LBL_ERROR:"错误",LBL_INFO:"信息",LBL_MESSAGE:"消息",LBL_WARNINIG:"警告",LBL_SUCCESS:"成功",LBL_FAILURE:"失败",LBL_WINDOW:"窗口",LBL_WINDOWS:"窗口",LBL_NOTIFICATION:"通知",LBL_NOTIFICATIONS:"通知",LBL_TRAY:"托盘",LBL_NAME:"名称",LBL_TYPE:"类型",LBL_SIZE:"大小",LBL_FILE:"文件",LBL_NEW:"新建",LBL_OPEN:"打开",LBL_SAVE:"保存",LBL_SAVEAS:"另存为",LBL_OK:"确定",LBL_ABORT:"中止",LBL_CANCEL:"取消",LBL_CLOSE:"关闭",LBL_QUIT:"退出",LBL_YES:"是",LBL_NO:"否",LBL_GO:"进行",LBL_MKDIR:"创建新目录",LBL_MKFILE:"创建新文件",LBL_COPY:"复制",LBL_PASTE:"粘贴",LBL_CUT:"剪切",LBL_MOVE:"移动",LBL_RENAME:"重命名",LBL_DELETE:"删除",LBL_DOWNLOAD:"下载",LBL_REFRESH:"刷新",LBL_RELOAD:"刷新",LBL_HOME:"主页",LBL_VIEW:"视图",LBL_HELP:"帮助",LBL_ABOUT:"关于",LBL_APPLICATION:"应用程序",LBL_APPLICATIONS:"应用程序",LBL_KILL:"杀死",LBL_KILL_ALL:"全部杀死",LBL_MINIMIZE:"最小化",LBL_MAXIMIZE:"最大化",LBL_RESTORE:"恢复",LBL_RAISE:"上浮",LBL_SHADE:"置后",LBL_UNSHADE:"置前",LBL_ONTOP:"顶端",LBL_RESIZE:"调整",LBL_BACK:"后退",LBL_FORWARD:"前进",LBL_UPLOAD:"上传",LBL_IMAGE:"图像"},Xn={ERR_REQUEST_STANDALONE:"امکان اجرای درخواست در حالت واحد وجود ندارد.",ERR_REQUEST_NOT_OK:"خطایی در حال انجام این درخواست رخ داد: {0}",ERR_VFS_MOUNT_NOT_FOUND:"سیستم فایل '{0}' پیدا نشد",ERR_VFS_MOUNT_NOT_FOUND_FOR:"سیستم فایل برای '{0}' پیدا نشد",ERR_VFS_MOUNT_NOT_MOUNTED:"سیستم فایل '{0}' متصل نیست",ERR_VFS_MOUNT_ALREADY_MOUNTED:"سیستم فایل '{0}' از قبل متصل شده است",ERR_VFS_PATH_FORMAT_INVALID:"آدرس '{0}' با الگو مطابقت ندارد 'name:/path'",ERR_PACKAGE_NOT_FOUND:"فراداده بسته '{0}' پیدا نشد",ERR_PACKAGE_LOAD:"بارگزاری بسته '{0}' دچار خطا شد: {1}",ERR_PACKAGE_NO_RUNTIME:"فایل های اجرایی '{0}' پیدا نشد",ERR_PACKAGE_NO_METADATA:"فراداده برای '{0}' پیدا نشد. ممکن است در مانیفست باشد؟?",ERR_PACKAGE_EXCEPTION:"بروز شرایط استثنا '{0}'",ERR_WINDOW_ID_EXISTS:"پنجره با شناسه '{0}' قبلا وجود دارد",ERR_INVALID_LOCALE:"زبان نامعتبر '{0}'",LBL_CONNECTION_LOST:"از دست رفتن ارتباط",LBL_CONNECTION_LOST_MESSAGE:"ارتباط با سرور قطع شد. در حال تلاش ....",LBL_CONNECTION_RESTORED:"ارتباط بازیابی شد",LBL_CONNECTION_RESTORED_MESSAGE:"ارتباط با سرور مجدد برقرار شد.",LBL_CONNECTION_FAILED:"ارتباط با خطا مواجه شد",LBL_CONNECTION_FAILED_MESSAGE:"ارتباط نمیتواند با سرور برقرار شود.",LBL_APP_CAT_DEVELOPMENT:"توسعه",LBL_APP_CAT_SCIENCE:"علمی",LBL_APP_CAT_GAMES:"بازی",LBL_APP_CAT_GRAPHICS:"گرافیک",LBL_APP_CAT_NETWORK:"شبکه",LBL_APP_CAT_MULTIMEDIA:"چندرسانه ای",LBL_APP_CAT_OFFICE:"اداری",LBL_APP_CAT_SYSTEM:"سیستمی",LBL_APP_CAT_UTILITIES:"ابزارها",LBL_APP_CAT_OTHER:"سایر",LBL_LAUNCH_SELECT:"انتخاب برنامه کاربردی",LBL_LAUNCH_SELECT_MESSAGE:"انتخاب برنامه کاربردی برای '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"انتخاب کاغذ دیواری",LBL_DESKTOP_SELECT_THEME:"انتخاب الگو",LBL_SEARCH_TOOLTOP:"جستجوی سیستم فایل ({0})",LBL_SEARCH_PLACEHOLDER:"جستجوی سیستم فایل...",LBL_SEARCH_WAIT:"در جال جستجو...",LBL_SEARCH_RESULT:"نمایش {0} نتیجه",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"کیلوبایت",LBL_FS_MIB:"مگابایت",LBL_FS_GIB:"گیگابایت",LBL_TOP:"بالا",LBL_LEFT:"چپ",LBL_RIGHT:"راست",LBL_BOTTOM:"پایین",LBL_MENU:"منوی اصلی",LBL_ERROR:"خطا",LBL_INFO:"نکته",LBL_MESSAGE:"پیام",LBL_WARNINIG:"هشدار",LBL_SUCCESS:"موفق",LBL_FAILURE:"شکست",LBL_WINDOW:"پنجره",LBL_WINDOWS:"پنجره ها",LBL_NOTIFICATION:"اطلاعیه",LBL_NOTIFICATIONS:"اطلاعیه ها",LBL_TRAY:"سینی ابزار",LBL_NAME:"نام",LBL_TYPE:"نوع",LBL_SIZE:"اندازه",LBL_FILE:"فایل",LBL_NEW:"جدید",LBL_OPEN:"بازکردن",LBL_OPEN_WITH:"باز کردن با...",LBL_SAVE:"ذخیره",LBL_SAVEAS:"ذخیره جدید",LBL_OK:"تایید",LBL_ABORT:"بیخیال",LBL_CANCEL:"رد",LBL_CLOSE:"بستن",LBL_QUIT:"خروج",LBL_YES:"بله",LBL_NO:"خیر",LBL_GO:"برو",LBL_MKDIR:"ایجاد پوشه جدید",LBL_MKFILE:"ایجاد فایل جدید",LBL_COPY:"کپی",LBL_PASTE:"الصاق",LBL_CUT:"برداشتن",LBL_MOVE:"انتقال",LBL_RENAME:"تغییرنام",LBL_DELETE:"حذف",LBL_DOWNLOAD:"دانلود",LBL_REFRESH:"نوسازی",LBL_RELOAD:"بارگزاری مجدد",LBL_HOME:"خانه",LBL_VIEW:"نمایش",LBL_HELP:"کمک",LBL_ABOUT:"درباره",LBL_APPLICATION:"برنامه کاربردی",LBL_APPLICATIONS:"برنامه های کاربردی",LBL_KILL:"از بین بردن",LBL_KILL_ALL:"از بین بردن همه",LBL_MINIMIZE:"کمینه",LBL_MAXIMIZE:"بیشینه",LBL_RESTORE:"عادی",LBL_RAISE:"شناور",LBL_SHADE:"بالا بردن",LBL_UNSHADE:"پایین آوردن",LBL_ONTOP:"در بالا",LBL_RESIZE:"تغییراندازه",LBL_BACK:"عقب",LBL_FORWARD:"جلو",LBL_UPLOAD:"آپلود",LBL_IMAGE:"تصویر",LBL_CREATE_SHORTCUT:"ایجاد میانبر",LBL_REMOVE_SHORTCUT:"حذف میانبر",LBL_EDIT:"ویرایش"},Qn={ERR_REQUEST_STANDALONE:"Não é possível fazer solicitações autônomas.",ERR_REQUEST_NOT_OK:"Ocorreu um erro ao executar a solicitação: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Sistema de arquivo '{0}' não encontrado",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Sistema de arquivo não encontrado para '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Sistema de arquivo '{0}' não montado",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Sistema de arquivo '{0}' já montado",ERR_VFS_PATH_FORMAT_INVALID:"O caminho especificado '{0}' não corresponde 'name:/path'",ERR_PACKAGE_NOT_FOUND:"Metadados do pacote '{0}' não encontrados",ERR_PACKAGE_LOAD:"Carregamento do pacote '{0}' falhou: {1}",ERR_PACKAGE_NO_RUNTIME:"Tempo de execução do pacote '{0}' não encontrado",ERR_PACKAGE_NO_METADATA:"Metadados não encontrado para '{0}'. Está no manifesto?",ERR_PACKAGE_EXCEPTION:"Ocorreu uma exceção em '{0}'",ERR_WINDOW_ID_EXISTS:"Janela com ID '{0}' Já existe",ERR_INVALID_LOCALE:"Código de idioma inválido '{0}'",LBL_CONNECTION_LOST:"Conexão perdida",LBL_CONNECTION_LOST_MESSAGE:"A conexão com OS.js foi perdida. Reconectando....",LBL_CONNECTION_RESTORED:"Conexão restaurada",LBL_CONNECTION_RESTORED_MESSAGE:"A conexão com o servidor OS.js foi restaurada.",LBL_CONNECTION_FAILED:"Falha na conexão",LBL_CONNECTION_FAILED_MESSAGE:"A conexão com OS.js não pode ser estabelecida. Alguns recursos podem não funcionar corretamente.",LBL_APP_CAT_DEVELOPMENT:"Desenvolvimento",LBL_APP_CAT_SCIENCE:"Ciência",LBL_APP_CAT_GAMES:"Jogos",LBL_APP_CAT_GRAPHICS:"Grâfico",LBL_APP_CAT_NETWORK:"Rede",LBL_APP_CAT_MULTIMEDIA:"Multimedia",LBL_APP_CAT_OFFICE:"Escritório",LBL_APP_CAT_SYSTEM:"Sistema",LBL_APP_CAT_UTILITIES:"Utilidades",LBL_APP_CAT_OTHER:"Outros",LBL_LAUNCH_SELECT:"Selecionar aplicativo",LBL_LAUNCH_SELECT_MESSAGE:"Selecionar aplicativo para '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Selecionar papel de parede",LBL_DESKTOP_SELECT_THEME:"Selecionar tema",LBL_SEARCH_TOOLTOP:"Pesquisar no sistema de arquivos ({0})",LBL_SEARCH_PLACEHOLDER:"Pesquisar...",LBL_SEARCH_WAIT:"Buscando...",LBL_SEARCH_RESULT:"Mostrando {0} resultados",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Topo",LBL_LEFT:"Esquerda",LBL_RIGHT:"Direita",LBL_BOTTOM:"Inferior",LBL_MENU:"Menu",LBL_ERROR:"Erro",LBL_INFO:"Informação",LBL_MESSAGE:"Mensagem",LBL_WARNINIG:"Atenção",LBL_SUCCESS:"Sucesso",LBL_FAILURE:"Falha",LBL_WINDOW:"Janela",LBL_WINDOWS:"Janelas",LBL_NOTIFICATION:"Notificação",LBL_NOTIFICATIONS:"Notificações",LBL_TRAY:"Entrada",LBL_NAME:"Nome",LBL_TYPE:"Tipo",LBL_SIZE:"Tamanho",LBL_FILE:"Arquivo",LBL_NEW:"Novo",LBL_OPEN:"Abrir",LBL_OPEN_WITH:"Abrir com...",LBL_SAVE:"Salvar",LBL_SAVEAS:"Salvar como",LBL_OK:"OK",LBL_ABORT:"Abortar",LBL_CANCEL:"Cancelar",LBL_CLOSE:"Fechar",LBL_QUIT:"Sair",LBL_YES:"Sim",LBL_NO:"Não",LBL_GO:"Ir",LBL_MKDIR:"Criar novo diretório",LBL_MKFILE:"Criar novo arquivo",LBL_COPY:"Copiar",LBL_PASTE:"Colar",LBL_CUT:"Recortar",LBL_MOVE:"Mover",LBL_RENAME:"Renomear",LBL_DELETE:"Deletar",LBL_DOWNLOAD:"Download",LBL_REFRESH:"Atualizar",LBL_RELOAD:"Recarregar",LBL_HOME:"Home",LBL_VIEW:"Visualização",LBL_HELP:"Ajuda",LBL_ABOUT:"Sobre",LBL_APPLICATION:"Aplicativo",LBL_APPLICATIONS:"Aplicativos",LBL_KILL:"Finalizar",LBL_KILL_ALL:"Finalizar tudo",LBL_MINIMIZE:"Minimizar",LBL_MAXIMIZE:"Maximizar",LBL_RESTORE:"Restaurar",LBL_RAISE:"Levantar",LBL_SHADE:"Sombra",LBL_UNSHADE:"Tirar sombra",LBL_ONTOP:"No topo",LBL_RESIZE:"Redimensionar",LBL_BACK:"Voltar",LBL_FORWARD:"Avançar",LBL_UPLOAD:"Enviar",LBL_IMAGE:"Imagem",LBL_CREATE_SHORTCUT:"Criar atalho",LBL_REMOVE_SHORTCUT:"Remover atalho",LBL_EDIT:"Editar"},Jn={ERR_REQUEST_STANDALONE:"Невозможно делать запросы в автономном режиме.",ERR_REQUEST_NOT_OK:"Произошла ошибка при запросе: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Файловая система '{0}' не найдена",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Файловая система не найдена для '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Файловая система '{0}' не вмонтирована",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Файловая система '{0}' уже вмонтирована",ERR_VFS_PATH_FORMAT_INVALID:"Заданный путь '{0}' не соответсвует формату 'имя:/путь'",ERR_PACKAGE_NOT_FOUND:"Метаданные пакета '{0}' не найдены",ERR_PACKAGE_LOAD:"Ошибка загрузки пакета '{0}': {1}",ERR_PACKAGE_NO_RUNTIME:"Рантайм пакета '{0}' не найден",ERR_PACKAGE_NO_METADATA:"Метаданные не найдены для '{0}'. Is it in the manifest?",ERR_PACKAGE_EXCEPTION:"Произошло исключение в '{0}'",ERR_WINDOW_ID_EXISTS:"Окно с ID '{0}' уже существует",ERR_INVALID_LOCALE:"Неправильная локаль '{0}'",LBL_CONNECTION_LOST:"Соединение Потеряно",LBL_CONNECTION_LOST_MESSAGE:"Соединение с OS.js было потеряно. Переподключаемся....",LBL_CONNECTION_RESTORED:"Соединение Восстановлено",LBL_CONNECTION_RESTORED_MESSAGE:"Соединение с сервером OS.js было восстановлено.",LBL_CONNECTION_FAILED:"Ошибка Соединения",LBL_CONNECTION_FAILED_MESSAGE:"Соединение с OS.js не может быть установлено. Некоторые возможности могут не работать корректно.",LBL_APP_CAT_DEVELOPMENT:"Разработка",LBL_APP_CAT_SCIENCE:"Вычисления",LBL_APP_CAT_GAMES:"Игры",LBL_APP_CAT_GRAPHICS:"Графика",LBL_APP_CAT_NETWORK:"Сеть",LBL_APP_CAT_MULTIMEDIA:"Мультимедиа",LBL_APP_CAT_OFFICE:"Офис",LBL_APP_CAT_SYSTEM:"Система",LBL_APP_CAT_UTILITIES:"Утилиты",LBL_APP_CAT_OTHER:"Другие",LBL_LAUNCH_SELECT:"Выберите приложение",LBL_LAUNCH_SELECT_MESSAGE:"Выберите приложение '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Выберите обои",LBL_DESKTOP_SELECT_THEME:"Выберите тему",LBL_SEARCH_TOOLTOP:"Поиск файловой системы ({0})",LBL_SEARCH_PLACEHOLDER:"Поиск файловой системы...",LBL_SEARCH_WAIT:"Поиск...",LBL_SEARCH_RESULT:"Показано {0} результатов",LBL_FS_B:"Б",LBL_FS_M:"М",LBL_FS_G:"Г",LBL_FS_KIB:"ГиБ",LBL_FS_MIB:"МиБ",LBL_FS_GIB:"ГиБ",LBL_TOP:"Вверх",LBL_LEFT:"Лево",LBL_RIGHT:"Право",LBL_BOTTOM:"Вниз",LBL_MENU:"Меню",LBL_ERROR:"Ошибка",LBL_INFO:"Информация",LBL_MESSAGE:"Сообщение",LBL_WARNINIG:"Предупреждение",LBL_SUCCESS:"Успешно",LBL_FAILURE:"Ошибка",LBL_WINDOW:"Окно",LBL_WINDOWS:"Окна",LBL_NOTIFICATION:"Оповещение",LBL_NOTIFICATIONS:"Оповещения",LBL_TRAY:"Трэй",LBL_NAME:"Имя",LBL_TYPE:"Тип",LBL_SIZE:"Размер",LBL_FILE:"Файл",LBL_NEW:"Новый",LBL_OPEN:"Открыть",LBL_OPEN_WITH:"Открыть с...",LBL_SAVE:"Сохранить",LBL_SAVEAS:"Сохранить как",LBL_OK:"ОК",LBL_ABORT:"Прервать",LBL_CANCEL:"Отмена",LBL_CLOSE:"Закрыть",LBL_QUIT:"Выйти",LBL_YES:"Да",LBL_NO:"Нет",LBL_GO:"Вперед",LBL_MKDIR:"Новая папка",LBL_MKFILE:"Новый файл",LBL_COPY:"Скопировать",LBL_PASTE:"Вставить",LBL_CUT:"Вырезать",LBL_MOVE:"Переместить",LBL_RENAME:"Переименовать",LBL_DELETE:"Удалить",LBL_DOWNLOAD:"Скачать",LBL_REFRESH:"Обновить",LBL_RELOAD:"Перезагрузить",LBL_HOME:"Домой",LBL_VIEW:"Вид",LBL_HELP:"Помощь",LBL_ABOUT:"О программе",LBL_APPLICATION:"Приложение",LBL_APPLICATIONS:"Приложения",LBL_KILL:"Убить",LBL_KILL_ALL:"Убить все",LBL_MINIMIZE:"Свернуть",LBL_MAXIMIZE:"Развернуть",LBL_RESTORE:"Восстановить",LBL_RAISE:"Raise",LBL_SHADE:"Shade",LBL_UNSHADE:"Unshade",LBL_ONTOP:"Поверх окон",LBL_RESIZE:"Размер",LBL_BACK:"Назад",LBL_FORWARD:"Вперед",LBL_UPLOAD:"Загрузить",LBL_IMAGE:"Картинка",LBL_CREATE_SHORTCUT:"Создать ярлык",LBL_REMOVE_SHORTCUT:"Удалить ярлык"},tr={ERR_REQUEST_STANDALONE:"Bağımsız modda talepde bulunulamaz.",ERR_REQUEST_NOT_OK:"Talep gerçekleştirilirken bir hata oluştu: {0}",ERR_VFS_MOUNT_NOT_FOUND:"'{0}' isimli dosya sistemi bulunamadı",ERR_VFS_MOUNT_NOT_FOUND_FOR:"'{0}' için dosya sistemi bulunamadı",ERR_VFS_MOUNT_NOT_MOUNTED:"'{0}' isimli dosya sistemi çıkarılmadı",ERR_VFS_MOUNT_ALREADY_MOUNTED:"'{0}' isimli dosya sistemi zaten çıkarıldı",ERR_VFS_PATH_FORMAT_INVALID:"'{0}' olarak verilen yol, 'name:/path' ile eşleşmiyor",ERR_PACKAGE_PERMISSION_DENIED:"'{0}' dosyasını çalıştırmaya iznin yok",ERR_PACKAGE_NOT_FOUND:"'{0}' isimli paket meta verisi bulunamadı",ERR_PACKAGE_LOAD:"'{0}' paketinin yüklenmesi başarısız: {1}",ERR_PACKAGE_NO_RUNTIME:"'{0}' paketinin runtime verisi bulunamadı",ERR_PACKAGE_NO_METADATA:"'{0}' için meta verisi bulunamadı. Manifest'de olabilir mi?",ERR_PACKAGE_EXCEPTION:"'{0}' konumunda beklenmeyen bir durum gerçekleşti",ERR_WINDOW_ID_EXISTS:"'{0}' ID'sine sahip olan bir pencere zaten var",ERR_INVALID_LOCALE:"Geçersiz yer '{0}'",LBL_CONNECTION_LOST:"Bağlantı Koptu",LBL_CONNECTION_LOST_MESSAGE:"OS.js'ye olan bağlantı koptu. Yeniden bağlanılıyor....",LBL_CONNECTION_RESTORED:"Bağlantı Yenilendi",LBL_CONNECTION_RESTORED_MESSAGE:"OS.js'ye olan bağlantı yenilendi.",LBL_CONNECTION_FAILED:"Bağlantı Başarısız",LBL_CONNECTION_FAILED_MESSAGE:"OS.js'ye bağlanılamıyor. Çeşitli özellikler doğru çalışmayabilir.",LBL_APP_CAT_DEVELOPMENT:"Geliştirme",LBL_APP_CAT_SCIENCE:"Bilim",LBL_APP_CAT_GAMES:"Oyun",LBL_APP_CAT_GRAPHICS:"Grafik",LBL_APP_CAT_NETWORK:"Ağ",LBL_APP_CAT_MULTIMEDIA:"Multimedya",LBL_APP_CAT_OFFICE:"Ofis",LBL_APP_CAT_SYSTEM:"Sistem",LBL_APP_CAT_UTILITIES:"Araçlar",LBL_APP_CAT_OTHER:"Diğer",LBL_LAUNCH_SELECT:"Uygulama seç",LBL_LAUNCH_SELECT_MESSAGE:"'{0}' için uygulama seç",LBL_DESKTOP_SELECT_WALLPAPER:"Arkaplan seç",LBL_DESKTOP_SELECT_THEME:"Tema seç",LBL_SEARCH_TOOLTOP:"Dosya sistemi ({0}) ara",LBL_SEARCH_PLACEHOLDER:"Dosya sistemlerini ara...",LBL_SEARCH_WAIT:"Aranıyor...",LBL_SEARCH_RESULT:"{0} kadar sonuç gösteriliyor",LBL_DESKTOP_SET_AS_WALLPAPER:"Arkaplan olarak ayarla",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Üst",LBL_LEFT:"Sol",LBL_RIGHT:"Sağ",LBL_BOTTOM:"Alt",LBL_MENU:"Menü",LBL_ERROR:"Hata",LBL_INFO:"Bilgi",LBL_MESSAGE:"Mesaj",LBL_WARNINIG:"Uyarı",LBL_SUCCESS:"Başarı",LBL_FAILURE:"Kusur",LBL_WINDOW:"Pencere",LBL_WINDOWS:"Pencereler",LBL_NOTIFICATION:"Bildiri",LBL_NOTIFICATIONS:"Bildiriler",LBL_TRAY:"Tray Girişi",LBL_NAME:"İsim",LBL_TYPE:"Tür",LBL_SIZE:"Boyut",LBL_FILE:"Dosya",LBL_NEW:"Yeni",LBL_OPEN:"Aç",LBL_OPEN_WITH:"Şununla aç:",LBL_SAVE:"Kaydet",LBL_SAVEAS:"Farklı Kaydet",LBL_OK:"Tamam",LBL_ABORT:"Durdur",LBL_CANCEL:"İptal",LBL_CLOSE:"Kapat",LBL_QUIT:"Çık",LBL_YES:"Evet",LBL_NO:"Hayır",LBL_GO:"Git",LBL_MKDIR:"Yeni dizin oluştur",LBL_MKFILE:"Yeni dosya oluştur",LBL_COPY:"Kopyala",LBL_PASTE:"Yapıştır",LBL_CUT:"Kes",LBL_MOVE:"Taşı",LBL_RENAME:"Yeniden Adlandır",LBL_DELETE:"Sil",LBL_DOWNLOAD:"İndir",LBL_REFRESH:"Yenile",LBL_RELOAD:"Yeniden Yükle",LBL_HOME:"Ev",LBL_VIEW:"Göster",LBL_HELP:"Yardım",LBL_ABOUT:"Hakkında",LBL_APPLICATION:"Uygulama",LBL_APPLICATIONS:"Uygulamalar",LBL_KILL:"Öldür",LBL_KILL_ALL:"Hepsini öldür",LBL_MINIMIZE:"Küçült",LBL_MAXIMIZE:"Büyüt",LBL_RESTORE:"Onar",LBL_RAISE:"Yükselt",LBL_SHADE:"Ört",LBL_UNSHADE:"Örtme",LBL_ONTOP:"Tepe",LBL_RESIZE:"Yeniden boyutlandır",LBL_BACK:"Geri",LBL_FORWARD:"İleri",LBL_UPLOAD:"Yükle",LBL_IMAGE:"İmge",LBL_CREATE_SHORTCUT:"Kısayol oluştur",LBL_REMOVE_SHORTCUT:"Kısayolu sil",LBL_EDIT:"Düzenle"},er={ERR_REQUEST_STANDALONE:"Det går inte att göra förfrågningar i fristående läge.",ERR_REQUEST_NOT_OK:"Ett fel uppstod när en begäran utfördes: {0}",ERR_VFS_MOUNT_NOT_FOUND:"Filsystemet '{0}' hittades inte",ERR_VFS_MOUNT_NOT_FOUND_FOR:"Filsystemet hittades inte för '{0}'",ERR_VFS_MOUNT_NOT_MOUNTED:"Filsystemet '{0}' inte monterat",ERR_VFS_MOUNT_ALREADY_MOUNTED:"Filsystemet '{0}' redan monterat",ERR_VFS_PATH_FORMAT_INVALID:"Angiven väg '{0}' matchar inte 'name:/path'",ERR_PACKAGE_PERMISSION_DENIED:"Du har inte tillåtelse att starta '{0}'",ERR_PACKAGE_NOT_FOUND:"Paketmetadata '{0}' hittades inte",ERR_PACKAGE_LOAD:"Paketladdning '{0}' misslyckades: {1}",ERR_PACKAGE_NO_RUNTIME:"Paketets körtid '{0}' hittades inte",ERR_PACKAGE_NO_METADATA:"Metadata hittades inte för '{0}'. Är det i manifestet?",ERR_PACKAGE_EXCEPTION:"Ett undantag inträffade i '{0}'",ERR_WINDOW_ID_EXISTS:"Fönster med ID '{0}' existerar redan",ERR_INVALID_LOCALE:"Ogiltigt språk '{0}'",LBL_CONNECTION_LOST:"Anslutning förlorad",LBL_CONNECTION_LOST_MESSAGE:"Anslutningen till OS.js förlorades. Återansluter ....",LBL_CONNECTION_RESTORED:"Anslutning återställd",LBL_CONNECTION_RESTORED_MESSAGE:"Anslutningen till OS.js-servern återställdes.",LBL_CONNECTION_FAILED:"Anslutningen misslyckades",LBL_CONNECTION_FAILED_MESSAGE:"Anslutningen till OS.js kunde inte upprättas. Vissa funktioner kanske inte fungerar ordentligt.",LBL_APP_CAT_DEVELOPMENT:"Utveckling",LBL_APP_CAT_SCIENCE:"Vetenskap",LBL_APP_CAT_GAMES:"Spel",LBL_APP_CAT_GRAPHICS:"Grafik",LBL_APP_CAT_NETWORK:"Nätverk",LBL_APP_CAT_MULTIMEDIA:"Multimedia",LBL_APP_CAT_OFFICE:"Kontor",LBL_APP_CAT_SYSTEM:"Systemet",LBL_APP_CAT_UTILITIES:"Verktyg",LBL_APP_CAT_OTHER:"Övrigt",LBL_LAUNCH_SELECT:"Välj applikation",LBL_LAUNCH_SELECT_MESSAGE:"Välj applikation för '{0}'",LBL_DESKTOP_SELECT_WALLPAPER:"Välj bakgrund",LBL_DESKTOP_SELECT_THEME:"Välj tema",LBL_SEARCH_TOOLTOP:"Sök filsystem ({0})",LBL_SEARCH_PLACEHOLDER:"Sök filsystemen...",LBL_SEARCH_WAIT:"Söker...",LBL_SEARCH_RESULT:"Visar {0} resultat",LBL_DESKTOP_SET_AS_WALLPAPER:"Använd som bakgrund",LBL_FS_B:"B",LBL_FS_M:"M",LBL_FS_G:"G",LBL_FS_KIB:"KiB",LBL_FS_MIB:"MiB",LBL_FS_GIB:"GiB",LBL_TOP:"Topp",LBL_LEFT:"Vänster",LBL_RIGHT:"Höger",LBL_BOTTOM:"Botten",LBL_MENU:"Meny",LBL_ERROR:"Fel",LBL_INFO:"Info",LBL_MESSAGE:"Meddelande",LBL_WARNINIG:"Varning",LBL_SUCCESS:"Framgång",LBL_FAILURE:"Fel",LBL_WINDOW:"Fönster",LBL_WINDOWS:"Fönster",LBL_NOTIFICATION:"Meddelande",LBL_NOTIFICATIONS:"Meddelanden",LBL_TRAY:"Fackinmatning",LBL_NAME:"Namn",LBL_TYPE:"Typ",LBL_SIZE:"Storlek",LBL_FILE:"Fil",LBL_NEW:"Ny",LBL_OPEN:"Öppna",LBL_OPEN_WITH:"Öppna med...",LBL_SAVE:"Spara",LBL_SAVEAS:"Spara som",LBL_OK:"OK",LBL_ABORT:"Avbryta",LBL_CANCEL:"Avbryt",LBL_CLOSE:"Stäng",LBL_QUIT:"Sluta",LBL_YES:"Ja",LBL_NO:"Nej",LBL_GO:"Gå",LBL_MKDIR:"Skapa ny katalog",LBL_MKFILE:"Skapa ny fil",LBL_COPY:"Kopiera",LBL_PASTE:"Klistra in",LBL_CUT:"Klipp ut",LBL_MOVE:"Flytta",LBL_RENAME:"Döp om",LBL_DELETE:"Radera",LBL_DOWNLOAD:"Ladda ner",LBL_REFRESH:"Uppdatera",LBL_RELOAD:"Ladda om",LBL_HOME:"Hem",LBL_VIEW:"Se",LBL_HELP:"Hjälp",LBL_ABOUT:"Om",LBL_APPLICATION:"Ansökan",LBL_APPLICATIONS:"Applikationer",LBL_KILL:"Döda",LBL_KILL_ALL:"Döda alla",LBL_MINIMIZE:"Minimera",LBL_MAXIMIZE:"Maximera",LBL_RESTORE:"Återställ",LBL_RAISE:"Höj",LBL_SHADE:"Skugga",LBL_UNSHADE:"Avskugga",LBL_ONTOP:"Överst",LBL_RESIZE:"Ändra storlek",LBL_BACK:"Back",LBL_FORWARD:"Forward",LBL_UPLOAD:"Ladda upp",LBL_IMAGE:"Bild",LBL_CREATE_SHORTCUT:"Skapa genväg",LBL_REMOVE_SHORTCUT:"ta bort genväg",LBL_EDIT:"Redigera"},nr=n(25),rr=n.n(nr),or=["file"];
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */function ir(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ir(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var sr=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t,r,o){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return p()(this,n),(i=e.call(this,"BasicApplication<"+r.name+">")).core=t,i.proc=r,i.win=o,i.options=ar({mimeTypes:r.metadata.mimes||[],loadMimeTypes:[],saveMimeTypes:[],defaultFilename:"New File"},a),i}return h()(n,[{key:"destroy",value:function(){this.off(),y()(w()(n.prototype),"destroy",this).call(this)}},{key:"init",value:function(){return this.proc.args.file?this.open(this.proc.args.file):this.create(),Promise.resolve(!0)}},{key:"getDialogOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.file,r=rr()(e,or),o=this.options,i=o.defaultFilename,a=o.mimeTypes,s=o.loadMimeTypes,c=o.saveMimeTypes,u=n||this.proc.args.file,l=this.core.config("vfs.defaultPath"),f=u?u.path:null,p="open"===t?s:c;return p.length||(p=a),[ar({type:t,mime:p,filename:f?je(f):i,path:f?ke(f):l},r),{parent:this.win,attributes:{modal:!0}}]}},{key:"updateWindowTitle",value:function(){if(this.win){var t=(0,this.core.make("osjs/locale").translatableFlat)(this.proc.metadata.title),e=this._createTitle(t);this.win.setTitle(e)}}},{key:"createDialog",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getDialogOptions(t,n),o=qt()(r,2),i=o[0],a=o[1];this.core.has("osjs/dialog")&&this.core.make("osjs/dialog","file",i,a,(function(t,n){"ok"===t&&e(n)}))}},{key:"open",value:function(t){this._setFile(t,"open-file")}},{key:"save",value:function(t){this._setFile(t,"save-file")}},{key:"create",value:function(){this.proc.args.file=null,this.emit("new-file"),this.updateWindowTitle()}},{key:"createNew",value:function(){this.create()}},{key:"createSaveDialog",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createDialog("save",(function(e){return t.save(e)}),e)}},{key:"createOpenDialog",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createDialog("open",(function(e){return t.open(e)}),e)}},{key:"_setFile",value:function(t,e){this.proc.args.file=ar({},t),this.emit(e,t),this.updateWindowTitle()}},{key:"_createTitle",value:function(t){var e=this.proc.args.file?je(this.proc.args.file.path):this.options.defaultFilename;return e?"".concat(t," - ").concat(e):t}}]),n}(B.EventEmitter);function cr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var ur=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(this,n),(r=e.call(this,t,o)).session=new jn(t),r.tray=new Gn(t),r.pm=new Fn(t),r.clipboard=new Hn,r.middleware=new Kn,window.OSjs=r.createGlobalApi(),r}return h()(n,[{key:"provides",value:function(){return["osjs/application","osjs/basic-application","osjs/window","osjs/windows","osjs/event-handler","osjs/window-behaviour","osjs/dnd","osjs/dom","osjs/clipboard","osjs/middleware","osjs/tray","osjs/locale","osjs/packages","osjs/websocket","osjs/session","osjs/theme","osjs/sounds"]}},{key:"destroy",value:function(){this.tray.destroy(),this.pm.destroy(),this.clipboard.destroy(),this.middleware.destroy(),this.session.destroy(),y()(w()(n.prototype),"destroy",this).call(this)}},{key:"init",value:function(){var t=this;return this.registerContracts(),this.core.on("osjs/core:started",(function(){t.session.load()})),this.pm.init()}},{key:"start",value:function(){var t=this;this.core.config("development")&&(this.core.on("osjs/dist:changed",(function(e){t._onDistChanged(e)})),this.core.on("osjs/packages:package:changed",(function(e){t._onPackageChanged(e)}))),this.core.on("osjs/packages:metadata:changed",(function(){t.pm.init()}))}},{key:"registerContracts",value:function(){var t=this;this.core.instance("osjs/window",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _t(t.core,e)})),this.core.instance("osjs/application",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new St(t.core,e)})),this.core.instance("osjs/basic-application",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new sr(t.core,e,n,r)})),this.core.instance("osjs/websocket",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new z(t,e,n)})),this.core.instance("osjs/event-emitter",(function(t){return new B.EventEmitter(t)})),this.core.singleton("osjs/windows",(function(){return t.createWindowContract()})),this.core.singleton("osjs/locale",(function(){return t.createLocaleContract()})),this.core.singleton("osjs/dnd",(function(){return t.createDnDContract()})),this.core.singleton("osjs/dom",(function(){return t.createDOMContract()})),this.core.singleton("osjs/theme",(function(){return t.createThemeContract()})),this.core.singleton("osjs/sounds",(function(){return t.createSoundsContract()})),this.core.singleton("osjs/session",(function(){return t.createSessionContract()})),this.core.singleton("osjs/packages",(function(){return t.createPackagesContract()})),this.core.singleton("osjs/clipboard",(function(){return t.createClipboardContract()})),this.core.singleton("osjs/middleware",(function(){return t.createMiddlewareContract()})),this.core.instance("osjs/tray",(function(e,n){return void 0!==e?(C.warn("osjs/tray usage without .create() is deprecated"),t.tray.create(e,n)):t.createTrayContract()})),this.core.singleton("osjs/window-behavior",(function(){return"function"==typeof t.options.windowBehavior?t.options.windowBehavior(t.core):new hn(t.core)})),this.core.instance("osjs/event-handler",(function(){C.warn("osjs/event-handler is deprecated, use osjs/event-emitter");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Pn()(B.EventEmitter,e)}))}},{key:"createGlobalApi",value:function(){var t=this,e=this.core.config("providers.globalBlacklist",[]),n=this.core.config("providers.globalWhitelist",[]);return Object.freeze({make:function(r){var o;if(t.core.has(r)){var i=e.length>0&&-1!==e.indexOf(r),a=n.length>0&&-1===n.indexOf(r);if(i||a)throw new Error("The provider '".concat(r,"' cannot be used via global scope"))}for(var s=arguments.length,c=new Array(s>1?s-1:0),u=1;u<s;u++)c[u-1]=arguments[u];return(o=t.core).make.apply(o,[r].concat(c))},register:function(e,n){return t.pm.register(e,n)},url:function(e,n,r){return t.core.url(e,n,r)},run:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.core.run(e,n,r)},open:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.core.open(e,n)},request:function(e,n,r){return t.core.request(e,n,r)},middleware:function(e,n){return t.middleware.add(e,n)}})}},{key:"_onDistChanged",value:function(t){var e=this.core.url(t).replace(/^\//,""),n=this.core.$resourceRoot.querySelectorAll("link[rel=stylesheet]"),r=Array.from(n).reduce((function(t,e){var n=e.getAttribute("href").split("?")[0].replace(/^\//,"");return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cr(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}(l()({},n,e),t)}),{});r[e]&&(C.debug("Hot-reloading",e),setTimeout((function(){r[e].setAttribute("href",e)}),100))}},{key:"_onPackageChanged",value:function(t){St.getApplications().filter((function(e){return e.metadata.name===t})).forEach((function(t){return t.relaunch()}))}},{key:"createLocaleContract",value:function(){var t,e=this,n=S()(i,this.options.locales||{}),r=Dt(this.core)(n);return{format:(t=this.core,function(e,n){var r=Rt(t,"format."+n),o=r.defaultLocale,i=r.userLocale||o||n;return jt()(e,i)}),translate:r,translatable:Dt(this.core),translatableFlat:Mt(this.core),getLocale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"language",n=Rt(e.core,t);return n.userLocale||n.defaultLocale},setLocale:function(t){return t in n?e.core.make("osjs/settings").set("osjs/locale","language",t).save().then((function(){return e.core.emit("osjs/locale:change",t)})):Promise.reject(r("ERR_INVALID_LOCALE",t))}}}},{key:"createWindowContract",value:function(){var t=this;return{create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _t(t.core,e)},list:function(){return _t.getWindows()},last:function(){return _t.lastWindow()}}}},{key:"createDnDContract",value:function(){return r}},{key:"createDOMContract",value:function(){return{script:st,style:at}}},{key:"createThemeContract",value:function(){var t=Ue(this.core);return{resource:t.themeResource,icon:t.icon}}},{key:"createSoundsContract",value:function(){var t=Ue(this.core),e=t.soundResource,n=t.soundsEnabled;return{resource:e,play:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n()){var o=t.match(/^(\/|https?:)/)?t:e(t);if(o)return lt(o,r)}return!1}}}},{key:"createSessionContract",value:function(){var t=this;return{save:function(){return t.session.save()},load:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.session.load(e)}}}},{key:"createPackagesContract",value:function(){var t=this;return{launch:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.pm.launch(e,n,r)},register:function(e,n){return t.pm.register(e,n)},addPackages:function(e){return t.pm.addPackages(e)},getPackages:function(e){return t.pm.getPackages(e)},getCompatiblePackages:function(e){return t.pm.getCompatiblePackages(e)},running:function(){return t.pm.running()},getMetadataFromName:function(e){return t.pm.getMetadataFromName(e)}}}},{key:"createClipboardContract",value:function(){var t=this;return{clear:function(){return t.clipboard.clear()},set:function(e,n){return t.clipboard.set(e,n)},has:function(e){return t.clipboard.has(e)},get:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.clipboard.get(e)}}}},{key:"createMiddlewareContract",value:function(){var t=this;return{add:function(e,n){return t.middleware.add(e,n)},get:function(e){return t.middleware.get(e)}}}},{key:"createTrayContract",value:function(){var t=this;return{create:function(e,n){return t.tray.create(e,n)},remove:function(e){return t.tray.remove(e)},list:function(){return t.tray.list()},has:function(e){return t.tray.has(e)}}}}]),n}(Tt.ServiceProvider),lr=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(this,n),(r=e.call(this,t,o||{})).desktop=new nn(r.core,r.options),r}return h()(n,[{key:"destroy",value:function(){this.desktop=this.desktop.destroy()}},{key:"provides",value:function(){return["osjs/desktop"]}},{key:"init",value:function(){var t=this;this.desktop.init(),this.core.singleton("osjs/desktop",(function(){return t.createDesktopContract()})),this.core.on("osjs/core:started",(function(){t.desktop.applySettings()}))}},{key:"start",value:function(){this.desktop.start()}},{key:"createDesktopContract",value:function(){var t=this;return{setKeyboardContext:function(e){return t.desktop.setKeyboardContext(e)},openContextMenu:function(e){return t.desktop.onContextMenu(e)},addContextMenuEntries:function(e){return t.desktop.addContextMenu(e)},applySettings:function(e){return t.desktop.applySettings(e)},createDropContextMenu:function(e){return t.desktop.createDropContextMenu(e)},getRect:function(){return t.desktop.getRect()}}}}]),n}(Tt.ServiceProvider),fr=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r;return p()(this,n),(r=e.call(this,t)).notifications=new cn(t),r}return h()(n,[{key:"destroy",value:function(){this.notifications.destroy()}},{key:"provides",value:function(){return["osjs/notification"]}},{key:"init",value:function(){var t=this;return this.core.instance("osjs/notification",(function(e){return t.notifications.create(e)})),this.notifications.init()}}]),n}(Tt.ServiceProvider);function pr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var dr={},hr=function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({id:null},"string"==typeof t?{path:t}:t)},vr=function(t,e){return function(n){return Promise.resolve(n.map((function(t){return Pe(t)}))).then((function(n){return Se(hr(t),n,{showHiddenFiles:!1!==e.showHiddenFiles,filter:e.filter})}))}},Lr=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=dr[e.name];return o?Promise.resolve(o):t.capabilities(hr(n),r,e).then((function(t){return dr[e.name]=t,t}))}},mr=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.readdir(hr(n),r,e).then(vr(n,r))}},yr=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.readfile(hr(n),r,o,e).then((function(t){return Be(t.body,t.mime,r)}))}},_r=function(t,e){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r instanceof ArrayBuffer||r instanceof Blob?r:new Blob([r],{type:"application/octet-stream"});return t.writefile(hr(n),i,o,e)}},gr=function(t,e){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.copy(hr(n),hr(r),o,e)}},Er=function(t,e){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.rename(hr(n),hr(r),o,e)}},Or=Er,br=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.mkdir(hr(n),r,e)}},wr=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.unlink(hr(n),r,e)}},Ar=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.exists(hr(n),r,e)}},Sr=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.stat(hr(n),r,e).then((function(t){return Pe(t)}))}},Br=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.url(hr(n),r,e)}},Tr=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"function"==typeof t.download&&!0!==r.readfile?t.download(hr(n),r,e):yr(t)(n,"blob").then((function(t){var e=hr(n).path.split("/").splice(-1)[0],r=window.URL.createObjectURL(t),o=document.createElement("a");o.style.display="none",o.href=r,o.download=e,document.body.appendChild(o),o.click(),setTimeout((function(){window.URL.revokeObjectURL(r),o.remove()}),1)}))}},Pr=function(t,e){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.attributes&&!1===e.attributes.searchable?Promise.resolve([]):t.search(hr(n),r,o,e).then(vr(n,o))}},jr=function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.touch(hr(n),r,e)}},kr={capabilities:function(t,e){return Promise.resolve({})},readdir:function(t,e){return Promise.resolve([])},readfile:function(t,e,n){return Promise.resolve({body:new ArrayBuffer,mime:"application/octet-stream"})},writefile:function(t,e,n){return Promise.resolve(-1)},copy:function(t,e,n){return Promise.resolve(!1)},rename:function(t,e,n){return Promise.resolve(!1)},mkdir:function(t,e){return Promise.resolve(!1)},unlink:function(t,e){return Promise.resolve(!1)},exists:function(t,e){return Promise.resolve(!1)},stat:function(t,e){return Promise.resolve({})},url:function(t,e){return Promise.resolve(null)},mount:function(t){return Promise.resolve(!0)},unmount:function(t){return Promise.resolve(!0)},search:function(t,e,n){return Promise.resolve([])},touch:function(t,e){return Promise.resolve(!1)}};function Nr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nr(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var Rr=["capabilities","exists","stat","readdir","readfile"],Cr=function(t){var e=function(t){return function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.request("/vfs/".concat(e),xr({body:n,method:-1!==Rr.indexOf(e)?"get":"post"},o),r).then((function(t){if("json"===r)return{mime:"application/json",body:t};if("writefile"===e)return t.json();var n=t.headers.get("content-type")||"application/octet-stream";return t.arrayBuffer().then((function(t){return{mime:n,body:t}}))}))}}(t);return function(t,e){var n=function(t){return function(n,r){var o=n.path;return e(t,{path:o,options:r},"json").then((function(t){return t.body}))}};return{capabilities:n("capabilities"),readdir:function(t,n){var r=t.path;return e("readdir",{path:r,options:n},"json").then((function(t){return t.body}))},readfile:function(t,n,r){var o=t.path;return e("readfile",{path:o,options:r})},writefile:function(t,n){var r=t.path,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new FormData;return i.append("upload",n),i.append("path",r),i.append("options",o),e("writefile",i,void 0,{onProgress:o.onProgress,xhr:!!o.onProgress})},copy:function(t,n,r){return e("copy",{from:t.path,to:n.path,options:r},"json").then((function(t){return t.body}))},rename:function(t,n,r){return e("rename",{from:t.path,to:n.path,options:r},"json").then((function(t){return t.body}))},mkdir:n("mkdir"),unlink:n("unlink"),exists:n("exists"),stat:n("stat"),url:function(e,n){var r=e.path;return Promise.resolve(t.url("/vfs/readfile?path=".concat(encodeURIComponent(r))))},search:function(t,n,r){var o=t.path;return e("search",{root:o,pattern:n,options:r},"json").then((function(t){return t.body}))},touch:function(t,n){var r=t.path;return e("touch",{path:r,options:n},"json").then((function(t){return t.body}))},download:function(t){var e=t.path,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=encodeURIComponent(JSON.stringify({download:!0}));return Promise.resolve("/vfs/readfile?options=".concat(r,"&path=")+encodeURIComponent(e)).then((function(t){return(n.target||window).open(t)}))}}}(t,e)},Ir=function(t){var e=t.make("osjs/packages");return{readdir:function(n,r){var o=n.path;return Promise.resolve(e.getPackages()).then((function(e){return e.map((function(e){return{isDirectory:!1,isFile:!0,filename:e.name,mime:"osjs/application",path:"".concat(o.replace(/(\/+)?$/,"/")).concat(e.name),size:0,stat:{},icon:e.icon?t.url(e.icon,{},e):null}}))}))}}};function Mr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mr(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fr=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(this,n),o=Dr({adapters:{},mounts:[]},o),(r=e.call(this,"Filesystem")).core=t,r.adapters=Dr(Dr({system:Cr,apps:Ir},r.core.config("vfs.adapters",{})),o.adapters),r.mounts=[],r.options={},r.proxy=Object.keys(a).reduce((function(t,e){return Dr(l()({},e,(function(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=r)._request.apply(t,[e].concat(o))})),t)}),{}),r}return h()(n,[{key:"mountAll",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.mounts=this._getConfiguredMountpoints();var n=function(n){return e?t._mountpointAction(n):t._mountpointAction(n).catch((function(t){return C.warn("Error while mounting",n,t)}))};return Promise.all(this.mounts.map(n))}},{key:"addMountpoint",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.createMountpoint(t);return this.mounts.push(n),e?this.mount(n.name):Promise.resolve(!0)}},{key:"mount",value:function(t){return"string"==typeof t?this._mountAction(t,!1):this.addMountpoint(t)}},{key:"unmount",value:function(t){return this._mountAction(t,!0)}},{key:"_mountpointAction",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?"unmounted":"mounted",o=n?"unmount":"mount";return t._adapter[o]({},t).then((function(i){return i&&(t.mounted=!n,e.emit(r,t),e.core.emit("osjs/fs:"+o)),i}))}},{key:"_mountAction",value:function(t,e){var n=this;return Promise.resolve(this.mounts.find((function(e){return e.name===t}))).then((function(r){var o=n.core.make("osjs/locale").translate;if(!r)throw new Error(o("ERR_VFS_MOUNT_NOT_FOUND",t));if(e&&!r.mounted)throw new Error(o("ERR_VFS_MOUNT_NOT_MOUNTED",t));if(!e&&r.mounted)throw new Error(o("ERR_VFS_MOUNT_ALREADY_MOUNTED",t));return n._mountpointAction(r,e)}))}},{key:"request",value:function(){return this.proxy}},{key:"_request",value:function(t){for(var e,n=this,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a="osjs/vfs:".concat(t),s=function(e){var r;(r=n.core).emit.apply(r,["".concat(a,":done")].concat(o)),!e&&n.core.config("vfs.watch")&&Re(t,o).forEach((function(t){var e=qt()(t,2),r=e[0],o=e[1];return n.core.emit(r,o)}))};return(e=this.core).emit.apply(e,[a].concat(o)),this._requestAction.apply(this,[t].concat(o)).then((function(t){return s(),t})).catch((function(t){throw s(t),t}))}},{key:"_requestAction",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(-1!==["rename","move","copy"].indexOf(t)){var o=n[0],i=n[1],s=this.getMountpointFromPath(o),c=this.getMountpointFromPath(i),u=s.adapter===c.adapter;if(!u)return yr(s._adapter,s)(o).then((function(t){return _r(c._adapter,c)(i,t)})).then((function(e){return"rename"===t?wr(s._adapter,s)(o).then((function(){return e})):e}))}var l=n[0],f=this.getMountpointFromPath(l);return a[t](f._adapter,f).apply(void 0,n)}},{key:"createMountpoint",value:function(t){var e=t.adapter||this.core.config("vfs.defaultAdapter"),n=Dr(Dr({},kr),this.adapters[e](this.core)),r=S()({enabled:!0,mounted:!1,adapter:e,attributes:{visibility:"global",local:!0,searchable:!0,readOnly:!1}},t);return Dr({_adapter:n,label:e,root:"".concat(r.name||e,":/")},r)}},{key:"getMountpointFromPath",value:function(t){var e="string"==typeof t?t:t.path,n=Ne(e),r=this.core.make("osjs/locale").translate;if(!n)throw new Error(r("ERR_VFS_PATH_FORMAT_INVALID",e));var o=this.mounts.find((function(t){return t.name===n}));if(!o)throw new Error(r("ERR_VFS_MOUNT_NOT_FOUND_FOR","".concat(n,":")));return o}},{key:"getMounts",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.core.getUser(),n=this.core.make("osjs/theme"),r=function(t){return t?"string"==typeof t?t:n.icon(t.name):n.icon("drive-harddisk")};return this.mounts.filter((function(e){return t||e.mounted})).filter((function(t){return!1!==t.enabled})).filter((function(t){var n=t.attributes?t.attributes.groups:[],r=!t.attributes||!1!==t.attributes.strictGroups;return xe(e.groups)(n,r)})).map((function(t){return{attributes:Dr({},t.attributes),icon:r(t.icon),name:t.name,label:t.label,root:t.root}}))}},{key:"_getConfiguredMountpoints",value:function(){var t=this;return[].concat(c()(this.core.config("vfs.mountpoints",[])),c()(this.options.mounts||[])).map((function(e){try{return t.createMountpoint(e)}catch(t){C.warn("Error while creating mountpoint",t)}return null})).filter((function(t,e,n){return n.findIndex((function(e){return e.label===t.label||e.root===t.label}))===e||(C.warn("Removed duplicate mountpoint",t),!1)})).filter((function(t){return null!==t}))}}]),n}(B.EventEmitter),Ur=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(this,n),(r=e.call(this,t)).fs=new Fr(t,{adapters:o.adapters||{},mounts:o.mounts||[]}),r}return h()(n,[{key:"provides",value:function(){return["osjs/vfs","osjs/fs"]}},{key:"init",value:function(){var t=this;return this.core.singleton("osjs/vfs",(function(){return t.createVFSContract()})),this.core.singleton("osjs/fs",(function(){return t.createFilesystemContract()})),this.fs.mountAll(!1)}},{key:"createVFSContract",value:function(){return this.fs.request()}},{key:"createFilesystemContract",value:function(){var t=this,e=this.core.config("vfs.icons",{});return{basename:function(t){return je(t)},pathname:function(t){return ke(t)},pathJoin:function(){return me.apply(o,arguments)},icon:Te(e),mountpoints:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.fs.getMounts(e)},addMountpoint:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.fs.addMountpoint(e,n)},mount:function(e){return t.fs.mount(e)},unmount:function(e){return t.fs.unmount(e)}}}}]),n}(Tt.ServiceProvider),Gr=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(this,n),(r=e.call(this,t)).auth=new Bn(t,o),r}return h()(n,[{key:"init",value:function(){var t=this;return this.core.singleton("osjs/auth",(function(){return t.createAuthContract()})),this.auth.init()}},{key:"destroy",value:function(){return this.auth.destroy(),y()(w()(n.prototype),"destroy",this).call(this)}},{key:"provides",value:function(){return["osjs/auth"]}},{key:"createAuthContract",value:function(){var t=this;return{show:function(e){return t.auth.show(e)},login:function(e){return t.auth.login(e)},logout:function(e){return t.auth.logout(e)},user:function(){return t.core.getUser()}}}}]),n}(Tt.ServiceProvider),Hr=n(17),Kr=n.n(Hr),$r=function(t){var e=t.config("settings.prefix","");return{clear:function(t){return t?localStorage.removeItem(e+t):localStorage.clear(),Promise.resolve(!0)},save:function(t){return Object.keys(t).forEach((function(n){localStorage.setItem(e+n,JSON.stringify(t[n]))})),Promise.resolve(!0)},load:function(){var t=Object.keys(localStorage).filter((function(t){return!e||t.startsWith(e)})).map((function(t){var n=localStorage.getItem(t),r=e?t.substr(e.length):t;try{return[r,JSON.parse(n)]}catch(e){C.warn("localStorageAdapter parse failed for '".concat(t,"'"),e)}return[r,n]}));return Promise.resolve(Object.fromEntries(t))}}};function Vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */var zr={server:function(t){return{save:function(e){return t.request(t.url("/settings"),{method:"post",body:e},"json")},load:function(){return t.request(t.url("/settings"),{method:"get"},"json")}}},localStorage:$r},Yr=function(){function t(e,n){p()(this,t),this.adapter=function(t,e){return Wr({load:function(){return Promise.reject(new Error("Not implemented"))},save:function(){return Promise.reject(new Error("Not implemented"))},init:function(){return Promise.resolve(!0)},clear:function(){return Promise.resolve(!0)},destroy:function(){}},(t.config("standalone")?$r:"function"==typeof e.adapter?e.adapter:zr[e.adapter||"localStorage"])(t,e.config))}(e,n),this.debounce=null,this.settings={},this.core=e}return h()(t,[{key:"init",value:function(){return this.adapter.init()}},{key:"save",value:function(){var t=this;return new Promise((function(e,n){if(t.debounce){var r=qt()(t.debounce,2),o=r[0],i=r[1];o.resolve(!1),t.debounce=clearTimeout(i)}t.debounce=[{resolve:e,reject:n},setTimeout((function(){t.adapter.save(t.settings).then((function(){t.core.emit("osjs/settings:save"),e.apply(void 0,arguments)})).catch(n)}),100)]}))}},{key:"load",value:function(){var t=this,e=this.core.config("settings.defaults",{});return this.adapter.load().then((function(n){return t.settings=S()(e,n,{arrayMerge:function(t,e){return e}}),t.core.emit("osjs/settings:load"),!0})).catch((function(n){return C.warn("Failed to set settings",n),t.settings=e,!1}))}},{key:"get",value:function(t,e,n){if(void 0===t)return Wr({},this.settings);if(void 0===this.settings[t])return e?n:n||{};var r=Kr()(this.settings[t]);return e?r.get(e,n):r.get()||n}},{key:"set",value:function(t,e,n){if(-1!==this.core.config("settings.lock",[]).indexOf(t))return this;if(void 0===this.settings[t]&&(this.settings[t]={}),e)try{var r=Kr()(this.settings[t]);r.set(e,n),this.settings[t]=r.get()}catch(t){C.warn("Error while setting settings for",e,t)}else this.settings[t]=Wr({},n);return this}},{key:"clear",value:function(t){var e=this;return this.adapter.clear(t).then((function(n){return n&&e.settings[t]&&delete e.settings[t],n}))}}]),t}();function qr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qr(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Xr=function(t){g()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 */();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(this,n),(r=e.call(this,t)).settings=new Yr(t,Zr({config:{}},o)),r}return h()(n,[{key:"provides",value:function(){return["osjs/settings"]}},{key:"init",value:function(){var t=this;return this.core.singleton("osjs/settings",(function(){return t.createSettingsContract()})),this.settings.init()}},{key:"createSettingsContract",value:function(){var t=this;return{save:function(){return t.settings.save()},load:function(){return t.settings.load()},clear:function(e){return t.settings.clear(e)},get:function(e,n,r){return t.settings.get(e,n,r)},set:function(e,n,r){return t.settings.set(e,n,r)}}}}]),n}(Tt.ServiceProvider);
/**
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author Anders Evenrud <andersevenrud@gmail.com>
 * @license Simplified BSD License
 * @preserve Copyright (c) Anders Evenrud <andersevenrud@gmail.com>
 */}])},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(14);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(15),o=n(10);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var r=n(21);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e,n){var r=n(17),o=n(18),i=n(19),a=n(20);t.exports=function(t){return r(t)||o(t)||i(t)||a()}},function(t,e,n){t.exports=n(13)},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,c,"next",t)}function c(t){n(a,o,i,s,c,"throw",t)}s(void 0)}))}}},function(t,e,n){(function(e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return c}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";o()(this,t),this.name=e,this.events={}}return a()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},"function"!=typeof e)throw new TypeError("Invalid callback");return s(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:r})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var o=e.events[t].length;o--;){var i=e.events[t][o];(!i.options.persist||r)&&i.callback===n&&e.events[t].splice(o,1)}else e.events[t]=r?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var o=e.events[t][n],i=o.options,a=o.callback;try{a.apply(void 0,r)}catch(t){console.warn(t)}i&&i.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])}).call(this,n(16))},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){t.exports=n(22)},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new b(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=g(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function p(){}function d(){}var h={};h[o]=function(){return this};var v=Object.getPrototypeOf,L=v&&v(v(w([])));L&&L!==e&&n.call(L,o)&&(h=L);var m=d.prototype=f.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function g(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function w(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=m.constructor=d,d.constructor=p,p.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(_.prototype),_.prototype[i]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=w,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:w(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(11);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var r=n(11);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"PanelServiceProvider",(function(){return W})),n.d(e,"WindowsPanelItem",(function(){return F})),n.d(e,"TrayPanelItem",(function(){return U})),n.d(e,"ClockPanelItem",(function(){return G})),n.d(e,"MenuPanelItem",(function(){return V})),n.d(e,"PanelItem",(function(){return b})),n.d(e,"Panel",(function(){return x}));var r={};n.r(r),n.d(r,"de_DE",(function(){return w})),n.d(r,"en_EN",(function(){return A})),n.d(r,"sv_SE",(function(){return S})),n.d(r,"fr_FR",(function(){return B})),n.d(r,"nb_NO",(function(){return T})),n.d(r,"sl_SI",(function(){return P})),n.d(r,"vi_VN",(function(){return j})),n.d(r,"pt_BR",(function(){return k})),n.d(r,"tr_TR",(function(){return N}));var o=n(7),i=n.n(o),a=n(8),s=n.n(a),c=n(1),u=n.n(c),l=n(2),f=n.n(l),p=n(10),d=n.n(p),h=n(3),v=n.n(h),L=n(4),m=n.n(L),y=n(0),_=n.n(y);function g(t,e){for(var n=[],r=[],o=arguments.length;o-- >2;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}}function E(t,e,n,r){var o,i=[].map,a=r&&r.children[0]||null,s=a&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:i.call(e.childNodes,(function(e){return 3===e.nodeType?e.nodeValue:t(e)}))}}(a),c=[],u=!0,l=v(t),f=function t(e,n,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(m(e,l),r)),i&&i!==(n=m(e,l))&&!i.then&&h(l=L(e,v(n,i),l)),i}}(o,r[o]):t(e.concat(o),n[o]=v(n[o]),r[o]=v(r[o]));return r}([],l,v(e));return h(),f;function p(t){return"function"==typeof t?p(t(l,f)):null!=t?t:""}function d(){o=!o;var t=p(n);for(r&&!o&&(a=function t(e,n,r,o,i){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var a=function t(e,n){var r="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),o=e.attributes;if(o){o.oncreate&&c.push((function(){o.oncreate(r)}));for(var i=0;i<e.children.length;i++)r.appendChild(t(e.children[i]=p(e.children[i]),n));for(var a in o)g(r,a,o[a],null,n)}return r}(o,i);e.insertBefore(a,n),null!=r&&E(e,n,r),n=a}else if(null==r.nodeName)n.nodeValue=o;else{!function(t,e,n,r){for(var o in v(e,n))n[o]!==("value"===o||"checked"===o?t[o]:e[o])&&g(t,o,n[o],e[o],r);var i=u?n.oncreate:n.onupdate;i&&c.push((function(){i(t,e)}))}(n,r.attributes,o.attributes,i=i||"svg"===o.nodeName);for(var s={},l={},f=[],d=r.children,h=o.children,L=0;L<d.length;L++)f[L]=n.childNodes[L],null!=(_=y(d[L]))&&(s[_]=[f[L],d[L]]);L=0;for(var m=0;m<h.length;){var _=y(d[L]),O=y(h[m]=p(h[m]));if(l[_])L++;else if(null==O||O!==y(d[L+1]))if(null==O||u)null==_&&(t(n,f[L],d[L],h[m],i),m++),L++;else{var b=s[O]||[];_===O?(t(n,b[0],b[1],h[m],i),L++):b[0]?t(n,n.insertBefore(b[0],f[L]),b[1],h[m],i):t(n,f[L],null,h[m],i),l[O]=h[m],m++}else null==_&&E(n,f[L],d[L]),L++}for(;L<d.length;)null==y(d[L])&&E(n,f[L],d[L]),L++;for(var L in s)l[L]||E(n,s[L][0],s[L][1])}return n}(r,a,s,s=t)),u=!1;c.length;)c.pop()()}function h(){o||(o=!0,setTimeout(d))}function v(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function L(t,e,n){var r={};return t.length?(r[t[0]]=t.length>1?L(t.slice(1),e,n[t[0]]):e,v(n,r)):e}function m(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function y(t){return t?t.key:null}function _(t){return t.currentTarget.events[t.type](t)}function g(t,e,n,r,o){if("key"===e);else if("style"===e)if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),v(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}else"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?r||(r=t.events[e]):t.events={},t.events[e]=n,n?r||t.addEventListener(e,_):t.removeEventListener(e,_)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!o?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),null!=n&&!1!==n||t.removeAttribute(e)}function E(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=n.attributes&&n.attributes.onremove;o?o(e,r):r()}}var O=n(9),b=function(t){v()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_()(t);if(e){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u()(this,n),(o=e.call(this,"Panel")).core=t,o.panel=r,o.options=i,o.state={},o.actions={},o.inited=!1,o}return f()(n,[{key:"destroy",value:function(){this.emit("destroy",this)}},{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!this.inited&&(this.inited=!0,this.emit("init",this),E(e,n,(function(e,n){return t.render(e,n)}),this.panel.$element))}},{key:"render",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return g("div",{className:"osjs-panel-item","data-name":t},e)}}]),n}(O.EventEmitter),w={LBL_PANEL_ALL:"Panel hinzufügen",LBL_PANEL_REMOVE:"Panel entfernen",LBL_PANELITEM_ADD:"Panelelemente hinzufügen",LBL_PANELITEM_REMOVE:"Panelelemente entfernen",LBL_PANEL_POSITION:"Panel-Position",LBL_SAVE_AND_LOG_OUT:"Session speichern & Abmelden",LBL_LOG_OUT:"Abmelden"},A={LBL_PANEL_ALL:"Add panel",LBL_PANEL_REMOVE:"Remove panel",LBL_PANELITEM_ADD:"Add panelitem",LBL_PANELITEM_REMOVE:"Remove panelitem",LBL_PANEL_POSITION:"Panel Position",LBL_SAVE_AND_LOG_OUT:"Save Session & Log Out",LBL_LOG_OUT:"Log Out",LBL_LAUNCHING:"Launching '{0}'"},S={LBL_PANEL_ALL:"Lägg till panel",LBL_PANEL_REMOVE:"Ta bort panel",LBL_PANELITEM_ADD:"Lägg till panelobjekt",LBL_PANELITEM_REMOVE:"Ta bort panelobjekt",LBL_PANEL_POSITION:"Panelposition",LBL_SAVE_AND_LOG_OUT:"Spara session och logga ut",LBL_LOG_OUT:"logga ut",LBL_LAUNCHING:"Startar '{0}'"},B={LBL_PANEL_ALL:"Ajouter le panneau",LBL_PANEL_REMOVE:"Supprimer le panneau",LBL_PANELITEM_ADD:"Ajouter des éléments au panneau",LBL_PANELITEM_REMOVE:"Supprimer des éléments au panneau",LBL_PANEL_POSITION:"La position du panneau",LBL_SAVE_AND_LOG_OUT:"Sauvegarder la session et se déconnecter",LBL_LOG_OUT:"Se déconnecter"},T={LBL_PANEL_ALL:"Legg til panel",LBL_PANEL_REMOVE:"Fjern panel",LBL_PANELITEM_ADD:"Legg til panelobjekt",LBL_PANELITEM_REMOVE:"Fjern panelobjekt",LBL_PANEL_POSITION:"Panelposisjon",LBL_SAVE_AND_LOG_OUT:"Lagre Sessjon & Logg Ut",LBL_LOG_OUT:"Logg Ut",LBL_LAUNCHING:"Laster '{0}'"},P={LBL_PANEL_ALL:"Dodaj ploščo",LBL_PANEL_REMOVE:"Odstrani ploščo",LBL_PANELITEM_ADD:"Dodaj element plošče",LBL_PANELITEM_REMOVE:"Odstrani element plošče",LBL_PANEL_POSITION:"Položaj plošče",LBL_SAVE_AND_LOG_OUT:"Shranitev seje & Odjava",LBL_LOG_OUT:"Odjava"},j={LBL_PANEL_ALL:"Thêm panel",LBL_PANEL_REMOVE:"Xóa panel",LBL_PANELITEM_ADD:"Thêm mục panel",LBL_PANELITEM_REMOVE:"Xóa mục panel",LBL_PANEL_POSITION:"Vị trí panel",LBL_SAVE_AND_LOG_OUT:"Lưu phiên & Đăng xuất",LBL_LOG_OUT:"Đăng xuất",LBL_LAUNCHING:"Đang khởi động '{0}'"},k={LBL_PANEL_ALL:"Adicionar painel",LBL_PANEL_REMOVE:"Remover painel",LBL_PANELITEM_ADD:"Adicionar item ao painel",LBL_PANELITEM_REMOVE:"Remover item do painel",LBL_PANEL_POSITION:"Posição do painel",LBL_SAVE_AND_LOG_OUT:"Salvar sessão & Sair",LBL_LOG_OUT:"Sair",LBL_LAUNCHING:"Lançamento '{0}'"},N={LBL_PANEL_ALL:"Panel ekle",LBL_PANEL_REMOVE:"Paneli sil",LBL_PANELITEM_ADD:"Panel nesnesi ekle",LBL_PANELITEM_REMOVE:"Panel nesnesini sil",LBL_PANEL_POSITION:"Panel Konumu",LBL_SAVE_AND_LOG_OUT:"Oturumu Kaydet & Çıkış Yap",LBL_LOG_OUT:"Çıkış Yap",LBL_LAUNCHING:"Başlatılıyor '{0}'"},x=function(t){v()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_()(t);if(e){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u()(this,n),(r=e.call(this,"Panel")).core=t,r.options=Object.assign({},{ontop:!0,position:"top",contextmenu:!0,items:[]},o),r.items=[],r.inited=!1,r.destroyed=!1,r.$element=null,r.options.items.forEach((function(e){var n=e.name,o=e.options,i=t.make("osjs/panels").get(n);r.addItem(new i(r.core,d()(r),o||{}))})),r}return f()(n,[{key:"destroy",value:function(){this.destroyed||(this.items=this.items.filter((function(t){try{t.destroy()}catch(t){console.warn(t)}return!1})),this.destroyed=!0,this.inited=!1,this.emit("destroy"),this.core.emit("osjs/panel:destroy",this),this.$element.remove(),this.$element=null)}},{key:"init",value:function(){var t=this;if(!this.inited){this.destroyed=!1,this.inited=!0;var e=this.core.make("osjs/locale").translate,n=this.core.make("osjs/locale").translatable(r);this.$element=document.createElement("div"),this.$element.classList.add("osjs-panel"),this.$element.classList.add("osjs__contextmenu"),this.$element.addEventListener("contextmenu",(function(r){r.preventDefault(),t.core.config("desktop.lock")||t.core.config("desktop.disablePanelContextMenu")||t.core.make("osjs/contextmenu").show({position:r,menu:[{label:n("LBL_PANEL_POSITION"),items:[{label:e("LBL_TOP"),onclick:function(){return t.setPosition("top")}},{label:e("LBL_BOTTOM"),onclick:function(){return t.setPosition("bottom")}}]}]})})),this.$element.setAttribute("data-position",this.options.position),this.$element.setAttribute("data-ontop",String(this.options.ontop)),this.core.$root.appendChild(this.$element),this.items.forEach((function(t){return t.init()})),this.emit("create")}}},{key:"addItem",value:function(t){if(!(t instanceof b))throw new TypeError("Invalid panel item specified");this.items.push(t),this.inited&&t.init()}},{key:"setPosition",value:function(t){var e=this;return this.options.position=t,this.core.make("osjs/panels").save().then((function(){return e.core.make("osjs/desktop").applySettings()}))}}]),n}(O.EventEmitter),R=n(6),C=n.n(R),I=n(5),M=n.n(I),D=function(t){return{wid:t.wid,icon:t.state.icon,title:t.state.title,focused:t.state.focused,attributes:Object.assign({},t.attributes),state:Object.assign({},t.state),raise:function(){t.raise(),t.focus()},restore:function(){return t.restore()},maximize:function(){return t.maximize()},minimize:function(){return t.minimize()},close:function(){return t.close()}}},F=function(t){v()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_()(t);if(e){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}(n);function n(){return u()(this,n),e.apply(this,arguments)}return f()(n,[{key:"init",value:function(){var t=this;if(!this.inited){var e=function(t){return void 0===t.attributes.visibility||"global"===t.attributes.visibility},r=M()(_()(n.prototype),"init",this).call(this,{launchers:[],windows:this.core.make("osjs/windows").list().filter((function(t){return t.inited||t.rendered})).filter(e).map(D)},{add:function(t){return function(n){return n.windows.find((function(e){return e.wid===t.wid}))?n:{windows:n.windows.concat([t]).filter((function(t){return!t.inited||!t.rendered})).filter(e)}}},remove:function(t){return function(e){var n=e.windows,r=n.findIndex((function(e){return e.wid===t.wid}));return-1!==r?(n.splice(r,1),{windows:n}):{}}},change:function(t){return function(e){var n=e.windows,r=e.windows.findIndex((function(e){return e.wid===t.wid}));return-1!==r&&(n[r]=t),{windows:n}}},addLauncher:function(t){return function(e){return{launchers:[].concat(C()(e.launchers),[t])}}},removeLauncher:function(t){return function(e){var n=e.launchers.findIndex((function(e){return e===t})),r=C()(e.launchers);return-1!==n&&r.splice(n,1),{launchers:r}}}}),o=function(t){return r.addLauncher(t)},i=function(t){return r.removeLauncher(t)},a=function(t){return r.remove(D(t))},s=function(t){return r.add(D(t))},c=function(t){return r.change(D(t))};this.core.on("osjs/application:launch",o),this.core.on("osjs/application:launched",i),this.core.on("osjs/window:destroy",a),this.core.on("osjs/window:render",s),this.core.on("osjs/window:change",c),this.on("destroy",(function(){t.core.off("osjs/application:launch",o),t.core.off("osjs/application:launched",i),t.core.off("osjs/window:destroy",a),t.core.off("osjs/window:render",s),t.core.off("osjs/window:change",c)}))}}},{key:"render",value:function(t,e){var o=this,i=this.core.has("osjs/locale")?this.core.make("osjs/locale").translatable(r):function(t){return t},a=t.windows.map((function(t){return g("div",{"data-has-image":!!t.icon||void 0,"data-focused":t.focused?"true":"false","data-minimized":t.state.minimized?"true":"false",onclick:function(){return t.raise()},oncontextmenu:function(e){var n=o.core.make("osjs/locale").translate;e.stopPropagation(),e.preventDefault(),o.core.make("osjs/contextmenu").show({position:e.target,menu:[{label:t.state.maximized?n("LBL_RESTORE"):n("LBL_MAXIMIZE"),onclick:function(){return t.attributes.maximizable?t.state.maximized?t.restore():t.maximize():null},disabled:!t.attributes.maximizable},{label:t.state.minimized?n("LBL_RAISE"):n("LBL_MINIMIZE"),onclick:function(){return t.attributes.minimizable?t.state.minimized?t.raise():t.minimize():null},disabled:!t.attributes.minimizable},{type:"separator"},{label:n("LBL_CLOSE"),onclick:function(){return t.attributes.closeable?t.close():null},disabled:!t.attributes.closeable}]})},className:"osjs-panel-item--clickable osjs-panel-item--icon"},[g("img",{src:t.icon,alt:t.title||"(window)"}),g("span",{},t.title||"(window)")])})),s=t.launchers.map((function(t){return g("div",{},g("span",{},i("LBL_LAUNCHING",t)))})),c=[].concat(C()(a),C()(s));return M()(_()(n.prototype),"render",this).call(this,"windows",c)}}]),n}(b),U=function(t){v()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_()(t);if(e){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}(n);function n(){return u()(this,n),e.apply(this,arguments)}return f()(n,[{key:"init",value:function(){if(!this.inited){var t=M()(_()(n.prototype),"init",this).call(this,{tray:this.core.make("osjs/tray").list()},{setTray:function(t){return function(e){return{tray:t}}}});this.core.on("osjs/tray:update",(function(e){return t.setTray(e)}))}}},{key:"render",value:function(t,e){return M()(_()(n.prototype),"render",this).call(this,"tray",t.tray.map((function(t){return g("div",{onclick:function(e){return t.onclick(e,t)},oncontextmenu:function(e){return t.oncontextmenu(e,t)},className:"osjs-panel-item--clickable osjs-panel-item--icon"},g("img",{src:t.icon,title:t.title}))})))}}]),n}(b),G=function(t){v()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_()(t);if(e){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}(n);function n(){return u()(this,n),e.apply(this,arguments)}return f()(n,[{key:"init",value:function(){var t=this.core.make("osjs/locale").format,e=function(){return t(new Date,"longTime")};if(!this.inited){var r=M()(_()(n.prototype),"init",this).call(this,{time:e()},{increment:function(){return function(t){return{time:e()}}}});this.interval=setInterval((function(){r.increment()}),1e3)}}},{key:"destroy",value:function(){this.interval=clearInterval(this.interval),M()(_()(n.prototype),"destroy",this).call(this)}},{key:"render",value:function(t,e){return M()(_()(n.prototype),"render",this).call(this,"clock",[g("span",{},t.time)])}}]),n}(b),H=n.p+"881c86876af63b732063d7bdd51bb226.png",K=function(t){return function(e,n){return-(t(e)<t(n))||+(t(e)>t(n))}},$=function(t){return String(t.label).toLowerCase()},V=function(t){v()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_()(t);if(e){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}(n);function n(){return u()(this,n),e.apply(this,arguments)}return f()(n,[{key:"render",value:function(t,e){var o=this,a=this.core.make("osjs/locale").translate,c=this.core.make("osjs/locale").translatable(r),u=this.options.icon||H,l=function(){var t=s()(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,o.core.make("osjs/session").save();case 3:o.core.make("osjs/auth").logout();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(t,e,n){var r=t.config("application.categories"),o=t.make("osjs/locale"),i=function(e,n){return e.icon?e.icon.match(/^(https?:)\//)?e.icon:t.url(e.icon,{},e):n},a=function(t){return{icon:i(t,e),label:(n=t,o.translatableFlat(n.title,n.name)),data:{name:t.name}};var n},s=function(t){var n={};t.filter((function(t){return!0!==t.hidden})).forEach((function(t){var i=Object.keys(r).find((function(e){return e===t.category}))||"other",s=r[i];n[i]||(n[i]=function(t){return{icon:t.icon?{name:t.icon}:e,label:(n=t.label,o.translate(n)),items:[]};var n}(s)),n[i].items.push(a(t))})),Object.keys(n).forEach((function(t){n[t].items.sort(K($))}));var i=Object.values(n);return i.sort(K($)),i};return function(r){var o=s(r),i=function(e){var n=C()(t.config("application.pinned",[])),r=e.filter((function(t){return-1!==n.indexOf(t.name)})).map(a);return r.length?(r.sort(K($)),[{type:"separator"}].concat(C()(r))):[]}(r),c=[{type:"separator"},{icon:e,label:n("LBL_SAVE_AND_LOG_OUT"),data:{action:"saveAndLogOut"}},{icon:e,label:n("LBL_LOG_OUT"),data:{action:"logOut"}}];return[].concat(C()(o),C()(i),C()(c))}}(this.core,u,c),p=function(){Array.from(o.panel.$element.querySelectorAll('.osjs-panel-item[data-name="menu"]')).forEach((function(t){return t.querySelector(".osjs-panel-item--icon").click()}))};return this.core.on("osjs/desktop:keybinding:open-application-menu",p),this.on("destroy",(function(){return o.core.off("osjs/desktop:keybinding:open-application-menu",p)})),M()(_()(n.prototype),"render",this).call(this,"menu",[g("div",{onclick:function(t){var e=o.core.make("osjs/packages").getPackages((function(t){return!t.type||"application"===t.type}));o.core.make("osjs/contextmenu").show({menu:f([].concat(e)),position:t.target,callback:function(t){var e=t.data||{},n=e.name,r=e.action;n?o.core.run(n):"saveAndLogOut"===r?l(!0):"logOut"===r&&l(!1)},toggle:!0})},className:"osjs-panel-item--clickable osjs-panel-item--icon"},[g("img",{src:u,alt:a("LBL_MENU")}),g("span",{},a("LBL_MENU"))])])}}]),n}(b),W=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u()(this,t),this.core=e,this.panels=[],this.inited=!1,this.registry=Object.assign({menu:V,windows:F,tray:U,clock:G},n.registry||{})}var e;return f()(t,[{key:"destroy",value:function(){this.inited=!1,this.panels.forEach((function(t){return t.destroy()})),this.panels=[]}},{key:"init",value:(e=s()(i.a.mark((function t(){var e=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.core.singleton("osjs/panels",(function(){return{register:function(t,n){e.registry[t]&&console.warn("Overwriting previously registered panel item",t),e.registry[t]=n},removeAll:function(){e.panels.forEach((function(t){return t.destroy()})),e.panels=[]},remove:function(t){var n="number"==typeof t?t:e.panels.findIndex((function(e){return e===t}));n>=0&&(e.panels[n].destroy(),e.panels.splice(n,1))},create:function(t){var n=new x(e.core,t);e.panels.push(n),n.on("destroy",(function(){return e.core.emit("osjs/panel:destroy",n,e.panels)})),n.on("create",(function(){return setTimeout((function(){e.core.emit("osjs/panel:create",n,e.panels)}),1)})),e.inited&&n.init()},save:function(){var t=e.core.make("osjs/settings"),n=e.panels.map((function(t){return t.options}));return Promise.resolve(t.set("osjs/desktop","panels",n)).then((function(){return t.save()}))},get:function(t){return e.registry[t]}}}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"start",value:function(){this.inited=!0,this.panels.forEach((function(t){return t.init()}))}}]),t}()}])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o(t,e){return t(e={exports:{}},e.exports),e.exports}n.d(e,"a",(function(){return k}));var i=o((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0}));r(i);var a=o((function(t){t.exports=function(t){if(Array.isArray(t))return i(t)},t.exports.default=t.exports,t.exports.__esModule=!0}));r(a);var s=o((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0}));r(s);var c=o((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0}));r(c);var u=o((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0}));r(u);var l=r(o((function(t){t.exports=function(t){return a(t)||s(t)||c(t)||u()},t.exports.default=t.exports,t.exports.__esModule=!0})));function f(t,e){for(var n=[],r=[],o=arguments.length;2<o--;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}}function p(t,e,n,r){function o(t){return"function"==typeof t?o(t(O,b)):null==t?"":t}function i(){L=!L;var t=o(n);for(r&&!L&&(y=function t(e,n,r,i,a){if(i===r);else if(null==r||r.nodeName!==i.nodeName){var s=d(i,a);e.insertBefore(s,n),null!=r&&v(e,n,r),n=s}else if(null==r.nodeName)n.nodeValue=i;else{h(n,r.attributes,i.attributes,a=a||"svg"===i.nodeName);for(var c={},u={},f=[],p=r.children,L=i.children,m=0;m<p.length;m++){f[m]=n.childNodes[m],null!=(_=l(p[m]))&&(c[_]=[f[m],p[m]])}m=0;for(var y=0;y<L.length;){var _=l(p[m]),g=l(L[y]=o(L[y]));if(u[_])m++;else if(null==g||g!==l(p[m+1]))if(null==g||E)null==_&&(t(n,f[m],p[m],L[y],a),y++),m++;else{var O=c[g]||[];_===g?(t(n,O[0],O[1],L[y],a),m++):O[0]?t(n,n.insertBefore(O[0],f[m]),O[1],L[y],a):t(n,f[m],null,L[y],a),u[g]=L[y],y++}else null==_&&v(n,f[m],p[m]),m++}for(;m<p.length;)null==l(p[m])&&v(n,f[m],p[m]),m++;for(var m in c)u[m]||v(n,c[m][0],c[m][1])}return n}(r,y,_,_=t)),E=!1;g.length;)g.pop()()}function a(){L||(L=!0,setTimeout(i))}function s(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function c(t,e,n){var r={};return t.length?(r[t[0]]=1<t.length?c(t.slice(1),e,n[t[0]]):e,s(n,r)):e}function u(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function l(t){return t?t.key:null}function f(t){return t.currentTarget.events[t.type](t)}function p(t,e,n,r,o){if("key"===e);else if("style"!==e)"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?!r&&(r=t.events[e]):t.events={},t.events[e]=n,n?!r&&t.addEventListener(e,f):t.removeEventListener(e,f)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!o?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),(null==n||!1===n)&&t.removeAttribute(e);else if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),s(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}}function d(t,e){var n="string"==typeof t||"number"==typeof t?document.createTextNode(t):(e=e||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName),r=t.attributes;if(r){r.oncreate&&g.push((function(){r.oncreate(n)}));for(var i=0;i<t.children.length;i++)n.appendChild(d(t.children[i]=o(t.children[i]),e));for(var a in r)p(n,a,r[a],null,e)}return n}function h(t,e,n,r){for(var o in s(e,n))n[o]!==("value"==o||"checked"===o?t[o]:e[o])&&p(t,o,n[o],e[o],r);var i=E?n.oncreate:n.onupdate;i&&g.push((function(){i(t,e)}))}function v(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=n.attributes&&n.attributes.onremove;o?o(e,r):r()}var L,m=[].map,y=r&&r.children[0]||null,_=y&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:m.call(e.childNodes,(function(e){return 3===e.nodeType?e.nodeValue:t(e)}))}}(y),g=[],E=!0,O=s(t),b=function t(e,n,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(u(e,O),r)),i&&i!==(n=u(e,O))&&!i.then&&a(O=c(e,s(n,i),O)),i}}(o,r[o]):t(e.concat(o),n[o]=s(n[o]),r[o]=s(r[o]));return r}([],O,s(e));return a(),b}var d=function(t,e){return"number"==typeof t?"".concat(t,"px"):!1===t?e:t},h={grow:function(t){return{flexGrow:t}},shrink:function(t){return{flexShrink:t}},basis:function(t){return{flexBasis:d(t,"auto")}},align:function(t){return{alignItems:t}},justify:function(t){return{justifyContent:t}},padding:function(t){return{margin:d(t,"0")}},margin:function(t){return{margin:d(t,"0")}}},v=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=t.class instanceof Array?t.class:[t.class],r=["osjs-gui"].concat(l(n));t.orientation&&r.push("osjs-gui-"+t.orientation);var o="string"==typeof t.style?{}:Object.assign({},t.style||{}),i=Object.keys(t).reduce((function(e,n){var r=h[n]?h[n](t[n]):void 0;return Object.assign({},e,r)}),o);return f("div",{oncreate:t.oncreate,ondestroy:t.ondestroy,class:r.filter((function(t){return!!t})).join(" "),style:i},e)},L=r(o((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}))),m=function(t){var e=t&&"object"===L(t)?t.src:t;return f("i",{"data-icon":t&&"object"===L(t)?t.name:void 0,class:"osjs-icon",style:{backgroundImage:"string"==typeof t?"url(".concat(e,")"):void 0}})},y=(r(o((function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0}))),function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:250,n=!1;return function(r,o){return t=clearTimeout(t),t=setTimeout((function(){return n=!1}),e),n?(r.preventDefault(),o(r)):(n=!0,!1)}}),_=function(t){return f("div",{id:"osjs-context-menu",className:"osjs-gui osjs-gui-menu",oncreate:t.oncreate,onupdate:t.onupdate,style:{display:!1===t.visible?"none":"block",top:t.position?t.position.top+"px":0,left:t.position?t.position.left+"px":0}},function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=function(t){var e=[];return"checkbox"===t.type||"boolean"==typeof t.checked?e.push(f("span",{class:"osjs-gui-menu-checkbox "+(t.checked?"active":"")})):t.icon&&e.push(f(m,t.icon)),e.push(f("span",{},t.label)),e},i=function(e,n){if("function"==typeof n.element)return n.element();var i=[f("span",{class:"separator"===n.type?"osjs-gui-menu-separator":"osjs-gui-menu-label "+(n.disabled?"osjs__disabled":"")},o(n))];return n.items&&i.push(t(e,n.items,r+1)),i};return f("ul",{class:""},n.map((function(t){return f("li",{class:"osjs-gui-menu-entry"},[f("div",{class:"osjs-gui-menu-container","data-has-image":!!t.icon||void 0,"data-has-children":!!t.items||void 0,onmouseover:t.items?e.onshow:void 0,ontouchend:t.items?e.onshow:void 0,onclick:function(n){t.items||(t.onclick&&t.onclick(t,n),e.onclick&&e.onclick(t,n,t))}},i(e,t))])})))}(t,t.menu))};function g(t,e,n,r){return e._$r=function(){return{}},function(o,i){return f(r||"x-",{key:o.key,id:o.id,class:o.class,oncreate:function(r){var a=p(t,e,(function(t,e){var o=n(t,e);return"function"==typeof o&&(o=o(r._$p,r._$c)),o}),r);r._$p=o,r._$c=i,r._$r=a._$r,r._$u=a.uninit,a.init&&a.init(o),o.oncreate&&o.oncreate(r)},onupdate:function(t){t._$p=o,t._$c=i,t._$r(),o.onupdate&&o.onupdate(t)},ondestroy:function(t){t._$u&&t._$u()},onremove:function(t,e){return o.onremove?void o.onremove(t,e):e()}})}}var E=function(t,e,n,r){var o=Array(Math.ceil(n.length/2)).fill(null).map((function(){return f("div",{class:"osjs-gui-panes-spacer",onmousedown:function(t){return function(t,e,n){var r=Math.min,o=t.target,i=t.clientX,a=t.clientY,s=o.previousSibling,c=s.offsetWidth,u=s.offsetHeight,l=Array.from(o.parentNode.children).indexOf(s),f=.8*s.parentNode.offsetWidth,p=.8*s.parentNode.offsetHeight;if(!(0>l)){var d=function(t){t.preventDefault();var o="vertical"===n?c:u;if("vertical"===n){var s=t.clientX-i;o=r(f,o+s)}else{var d=t.clientY-a;o=r(p,o+d)}e.setSize({index:l,size:o})};t.preventDefault(),document.addEventListener("mousemove",d),document.addEventListener("mouseup",(function t(e){e.preventDefault(),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",t)}))}}(t,e,r)}})}));return n.map((function(e,n){var r=t.sizes[n]?t.sizes[n]+"px":void 0;return f("div",{class:"osjs-gui-panes-pane",style:{flex:r?"0 0 ".concat(r):r}},e)})).map((function(t,e){return[t,o[e]]})).reduce((function(t,e){return t.concat(e)})).filter((function(t){return void 0!==t}))},O=(g({sizes:[]},{init:function(t){return{sizes:t.sizes||[150]}},setSize:function(t){var e=t.index,n=t.size;return function(t){var r=[].concat(t.sizes);return r[e]=n,{sizes:r}}}},(function(t,e){return function(n,r){var o=n.orientation||"vertical";return f(v,{orientation:o,class:"osjs-gui-panes-inner"},E(t,e,r,o))}}),"div"),y(),y(),function(t,e,n){var r=t.labels,o=t.onchange,i=t.oncontextmenu;return(r||[]).map((function(t,r){return f("div",{class:e.selectedIndex===r?"osjs__active":"",oncontextmenu:function(e){(i||function(){})(e,r,t)},onclick:function(e){n.setSelectedIndex(r),(o||function(){})(e,r,t)}},f("span",{},t))}))}),b=function(t,e){return e.map((function(e,n){return f("div",{class:t.selectedIndex===n?"osjs__active":""},e)}))},w=(g({selectedIndex:0},{init:function(t){return{selectedIndex:t.selectedIndex||0}},setSelectedIndex:function(t){return function(){return{selectedIndex:t}}}},(function(t,e){return function(n,r){return f("div",{class:"osjs-gui-tabs-wrapper"},[f("div",{class:"osjs-gui-tabs-header"},O(n,t,e)),f("div",{class:"osjs-gui-tabs-panes"},b(t,r))])}}),"div"),g({active:!0},{init:function(t){return{ative:!1!==t.active}},ontoggle:function(t){var e=t.ev,n=t.active;return(t.ontoggle||function(){})(e,n),{active:n}}},(function(t,e){return function(n,r){return f(v,Object.assign({},n.box||{},{class:["osjs-gui-expander-wrapper"]}),[f("div",{class:"osjs-gui-expander-header",onclick:function(r){return e.ontoggle({ev:r,active:!t.active,ontoggle:n.ontoggle})}},[f("div",{class:"osjs-gui-expander-header-icon","data-active":t.active+""}),f("div",{class:"osjs-gui-expander-header-label"},n.label)]),f("div",{class:"osjs-gui-expander-content",style:{display:!1===t.active?"none":void 0}},r)])}}),"div"),r(o((function(t){function e(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){function a(t){e(c,o,i,a,s,"next",t)}function s(t){e(c,o,i,a,s,"throw",t)}var c=t.apply(n,r);a(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0})))),A=r(o((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0}))),S=r(o((function(t){function e(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0}))),B=o((function(t){var e=function(t){function e(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}function n(t,e,n,r){var i=e&&e.prototype instanceof o?e:o,a=Object.create(i.prototype),s=new d(r||[]);return a._invoke=u(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function o(){}function i(){}function a(){}function s(t){["next","throw","return"].forEach((function(n){e(t,n,(function(t){return this._invoke(n,t)}))}))}function c(t,e){function n(o,i,a,s){var c=r(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&y.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function u(t,e,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return v()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=l(s,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=r(t,e,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===L){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=L,l(t,e),"throw"===e.method))return b;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var o=r(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,b;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=L),e.delegate=null,b):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function h(t){if(t){var e=t[g];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=L,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:L,done:!0}}var L,m=Object.prototype,y=m.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},g=_.iterator||"@@iterator",E=_.asyncIterator||"@@asyncIterator",O=_.toStringTag||"@@toStringTag";try{e({},"")}catch(t){e=function(t,e,n){return t[e]=n}}t.wrap=n;var b={},w={};e(w,g,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(h([])));S&&S!==m&&y.call(S,g)&&(w=S);var B=a.prototype=o.prototype=Object.create(w);return i.prototype=a,e(B,"constructor",a),e(a,"constructor",i),i.displayName=e(a,O,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,e(t,O,"GeneratorFunction")),t.prototype=Object.create(B),t},t.awrap=function(t){return{__await:t}},s(c.prototype),e(c.prototype,E,(function(){return this})),t.AsyncIterator=c,t.async=function(e,r,o,i,a){void 0===a&&(a=Promise);var s=new c(n(e,r,o,i),a);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},s(B),e(B,O,"Generator"),e(B,g,(function(){return this})),e(B,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=h,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=L,this.done=!1,this.delegate=null,this.method="next",this.arg=L,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=L)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=L),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),s=y.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n,r=this.tryEntries.length-1;0<=r;--r)if((n=this.tryEntries[r]).tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).finallyLoc===t)return this.complete(e.completion,e.afterLoc),p(e),b},catch:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;p(e)}return o}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:h(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=L),b}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),T=function(t){return t(),setTimeout(t,100)},P=function(){function t(e){A(this,t),this.core=e,this.callback=function(){},this.actions=null,this.$element=document.createElement("div")}return S(t,[{key:"destroy",value:function(){this.callback=null,this.actions=null}},{key:"init",value:function(){var t,e=this;this.$element.className="osjs-system-context-menu",this.core.$root.appendChild(this.$element);var n=!1;this.actions=p({visible:!1,menu:[],position:{top:0,left:0}},{clamp:function(n){return function(r){if(n=n||document.querySelector("#osjs-context-menu"),clearTimeout(t),n){var o=function(t,e,n){var r={},o=n.top+e.offsetHeight,i=n.left+e.offsetWidth,a=t.offsetHeight-n.top,s=t.offsetWidth-n.left,c=i>t.offsetWidth,u=o>t.offsetHeight;return u&&t.offsetHeight>e.offsetHeight&&(r.top=t.offsetHeight-e.offsetHeight-a),c&&(r.left=t.offsetWidth-e.offsetWidth-s),u||c?r:null}(e.core.$root,n,r.position);if(o)return{position:o}}return{}}},onshow:function(n){return function(){t=T((function(){return function(t,e){var n=e.target.querySelector("ul");n&&(n.classList.contains("osjs-gui-menu-container")&&(n=n.parentNode.parentNode),n&&n.offsetParent)&&(n.classList.remove("clamp-right"),n.getBoundingClientRect().right>t.offsetWidth&&n.classList.add("clamp-right"))}(e.core.$root,n)}))}},show:function(t){return function(r,o){var i=t.menu,a=t.position;if(t.toggle&&n)return o.hide();if(a instanceof Event)a={left:a.clientX,top:a.clientY};else if(a instanceof Element){var s=a.getBoundingClientRect();a={left:s.left,top:s.top+s.height}}return e.callback=function(e,n,r){t.callback&&t.callback(e,n),!1!==r.closeable&&o.hide()},n=!0,e.onclose=t.onclose,T((function(){return o.clamp()})),{visible:!0,menu:i||[],position:a||{top:0,left:0}}}},hide:function(){return function(){return n&&setTimeout((function(){return n=!1}),0),e.onclose&&e.onclose(),e.onclose=null,e.callback=null,{visible:!1}}}},function(t){return function(e,n){return f(_,{position:e.position,visible:e.visible,menu:e.menu,onclick:t,onshow:n.onshow})}}((function(){!e.core.destroyed&&e.callback&&e.callback.apply(e,arguments)})),this.$element)}},{key:"show",value:function(){var t;return this.actions?(t=this.actions).show.apply(t,arguments):null}},{key:"hide",value:function(){var t;return this.actions?(t=this.actions).hide.apply(t,arguments):null}}]),t}(),j=function(t){var e=t.target,n="TEXTAREA"===e.tagName;return n||"INPUT"!==e.tagName||(n=-1!==["text","password","number","email"].indexOf(e.type)),n},k=function(){function t(e){A(this,t),this.core=e,this.contextmenu=new P(e)}return S(t,[{key:"destroy",value:function(){var t=document.getElementById("osjs-context-menu");t&&t.remove(),this.contextmenu.destroy()}},{key:"init",value:function(){var t=w(B.mark((function t(){var e,n=this;return B.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={show:function(){var t;return(t=n.contextmenu).show.apply(t,arguments)},hide:function(){var t;return(t=n.contextmenu).hide.apply(t,arguments)}},this.core.instance("osjs/contextmenu",(function(){return arguments.length?e.show.apply(e,arguments):e})),this.core.$root.addEventListener("contextmenu",(function(t){j(t)||(t.stopPropagation(),t.preventDefault())}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=this,e=function(e){var n=document.getElementById("osjs-context-menu");!(n&&n.contains(e.target))&&t.contextmenu&&t.contextmenu.hide()};this.core.$root.addEventListener("click",e,!0),this.core.once("destroy",(function(){t.core.$root.removeEventListener("click",e,!0)})),this.contextmenu.init()}}]),t}()},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=16)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(14);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(23);function o(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=o=Reflect.get.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(this,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(24);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(7).default,o=n(25);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(14);t.exports=function(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(22)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,c,"next",t)}function c(t){n(a,o,i,s,c,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(17),o=n(18),i=n(13),a=n(19);t.exports=function(t){return r(t)||o(t)||i(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(21);function o(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==o(t)&&"function"==typeof(e=t.constructor)&&!1!==o(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(12);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(7).default,o=n(20);t.exports=function(t){var e=o(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(26),o=n(27),i=n(13),a=n(28);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(29)},function(t,e,n){var r=n(12);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(7).default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){var r=n(7).default;function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),s=new T(r||[]);return a(i,"_invoke",{value:w(t,n,s)}),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var h={};function v(){}function L(){}function m(){}var y={};f(y,c,(function(){return this}));var _=Object.getPrototypeOf,g=_&&_(_(P([])));g&&g!==n&&i.call(g,c)&&(y=g);var E=m.prototype=v.prototype=Object.create(y);function O(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;a(this,"_invoke",{value:function(o,a){function s(){return new e((function(n,s){!function n(o,a,s,c){var u=d(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}(o,a,n,s)}))}return n=n?n.then(s,s):s()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function A(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:j}}function j(){return{value:void 0,done:!0}}return L.prototype=m,a(E,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:L,configurable:!0}),L.displayName=f(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===L||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,f(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},O(b.prototype),f(b.prototype,u,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(p(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(E),f(E,l,"Generator"),f(E,c,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(B),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;B(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.r(e),n.d(e,"Dialog",(function(){return ht})),n.d(e,"AlertDialog",(function(){return Bt})),n.d(e,"ConfirmDialog",(function(){return Tt})),n.d(e,"PromptDialog",(function(){return Pt})),n.d(e,"ProgressDialog",(function(){return jt})),n.d(e,"ColorDialog",(function(){return It})),n.d(e,"FileDialog",(function(){return Dt})),n.d(e,"ChoiceDialog",(function(){return Ft})),n.d(e,"DialogServiceProvider",(function(){return $t}));var r=n(10),o=n.n(r),i=n(1),a=n.n(i),s=n(2),c=n.n(s);function u(t,e){for(var n=[],r=[],o=arguments.length;o-- >2;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}}function l(t,e,n,r){var o,i=[].map,a=r&&r.children[0]||null,s=a&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:i.call(e.childNodes,(function(e){return 3===e.nodeType?e.nodeValue:t(e)}))}}(a),c=[],u=!0,l=v(t),f=function t(e,n,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(m(e,l),r)),i&&i!==(n=m(e,l))&&!i.then&&h(l=L(e,v(n,i),l)),i}}(o,r[o]):t(e.concat(o),n[o]=v(n[o]),r[o]=v(r[o]));return r}([],l,v(e));return h(),f;function p(t){return"function"==typeof t?p(t(l,f)):null!=t?t:""}function d(){o=!o;var t=p(n);for(r&&!o&&(a=function t(e,n,r,o,i){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var a=function t(e,n){var r="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),o=e.attributes;if(o){o.oncreate&&c.push((function(){o.oncreate(r)}));for(var i=0;i<e.children.length;i++)r.appendChild(t(e.children[i]=p(e.children[i]),n));for(var a in o)g(r,a,o[a],null,n)}return r}(o,i);e.insertBefore(a,n),null!=r&&E(e,n,r),n=a}else if(null==r.nodeName)n.nodeValue=o;else{!function(t,e,n,r){for(var o in v(e,n))n[o]!==("value"===o||"checked"===o?t[o]:e[o])&&g(t,o,n[o],e[o],r);var i=u?n.oncreate:n.onupdate;i&&c.push((function(){i(t,e)}))}(n,r.attributes,o.attributes,i=i||"svg"===o.nodeName);for(var s={},l={},f=[],d=r.children,h=o.children,L=0;L<d.length;L++)f[L]=n.childNodes[L],null!=(_=y(d[L]))&&(s[_]=[f[L],d[L]]);L=0;for(var m=0;m<h.length;){var _=y(d[L]),O=y(h[m]=p(h[m]));if(l[_])L++;else if(null==O||O!==y(d[L+1]))if(null==O||u)null==_&&(t(n,f[L],d[L],h[m],i),m++),L++;else{var b=s[O]||[];_===O?(t(n,b[0],b[1],h[m],i),L++):b[0]?t(n,n.insertBefore(b[0],f[L]),b[1],h[m],i):t(n,f[L],null,h[m],i),l[O]=h[m],m++}else null==_&&E(n,f[L],d[L]),L++}for(;L<d.length;)null==y(d[L])&&E(n,f[L],d[L]),L++;for(var L in s)l[L]||E(n,s[L][0],s[L][1])}return n}(r,a,s,s=t)),u=!1;c.length;)c.pop()()}function h(){o||(o=!0,setTimeout(d))}function v(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function L(t,e,n){var r={};return t.length?(r[t[0]]=t.length>1?L(t.slice(1),e,n[t[0]]):e,v(n,r)):e}function m(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function y(t){return t?t.key:null}function _(t){return t.currentTarget.events[t.type](t)}function g(t,e,n,r,o){if("key"===e);else if("style"===e)if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),v(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}else"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?r||(r=t.events[e]):t.events={},t.events[e]=n,n?r||t.addEventListener(e,_):t.removeEventListener(e,_)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!o?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),null!=n&&!1!==n||t.removeAttribute(e)}function E(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=n.attributes&&n.attributes.onremove;o?o(e,r):r()}}var f=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===p}(t)}(t)},p="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function d(t,e){return!1!==e.clone&&e.isMergeableObject(t)?v((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function h(t,e,n){return t.concat(e).map((function(t){return d(t,n)}))}function v(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||h,n.isMergeableObject=n.isMergeableObject||f;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach((function(e){r[e]=d(t[e],n)})),Object.keys(e).forEach((function(o){n.isMergeableObject(e[o])&&t[o]?r[o]=v(t[o],e[o],n):r[o]=d(e[o],n)})),r}(t,e,n):d(e,n)}v.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return v(t,n,e)}),{})};var L=v,m=n(11),y=n.n(m),_=n(7),g=n.n(_);function E(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function O(t,e){return t(e={exports:{}},e.exports),e.exports}var b=O((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0}));E(b);var w=O((function(t){t.exports=function(t){if(Array.isArray(t))return b(t)},t.exports.default=t.exports,t.exports.__esModule=!0}));E(w);var A=O((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0}));E(A);var S=O((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0}));E(S);var B=O((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0}));E(B);var T=E(O((function(t){t.exports=function(t){return w(t)||A(t)||S(t)||B()},t.exports.default=t.exports,t.exports.__esModule=!0})));function P(t,e){for(var n=[],r=[],o=arguments.length;2<o--;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}}function j(t,e,n,r){function o(t){return"function"==typeof t?o(t(O,b)):null==t?"":t}function i(){L=!L;var t=o(n);for(r&&!L&&(y=function t(e,n,r,i,a){if(i===r);else if(null==r||r.nodeName!==i.nodeName){var s=d(i,a);e.insertBefore(s,n),null!=r&&v(e,n,r),n=s}else if(null==r.nodeName)n.nodeValue=i;else{h(n,r.attributes,i.attributes,a=a||"svg"===i.nodeName);for(var c={},u={},f=[],p=r.children,L=i.children,m=0;m<p.length;m++)f[m]=n.childNodes[m],null!=(_=l(p[m]))&&(c[_]=[f[m],p[m]]);m=0;for(var y=0;y<L.length;){var _=l(p[m]),g=l(L[y]=o(L[y]));if(u[_])m++;else if(null==g||g!==l(p[m+1]))if(null==g||E)null==_&&(t(n,f[m],p[m],L[y],a),y++),m++;else{var O=c[g]||[];_===g?(t(n,O[0],O[1],L[y],a),m++):O[0]?t(n,n.insertBefore(O[0],f[m]),O[1],L[y],a):t(n,f[m],null,L[y],a),u[g]=L[y],y++}else null==_&&v(n,f[m],p[m]),m++}for(;m<p.length;)null==l(p[m])&&v(n,f[m],p[m]),m++;for(var m in c)u[m]||v(n,c[m][0],c[m][1])}return n}(r,y,_,_=t)),E=!1;g.length;)g.pop()()}function a(){L||(L=!0,setTimeout(i))}function s(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function c(t,e,n){var r={};return t.length?(r[t[0]]=1<t.length?c(t.slice(1),e,n[t[0]]):e,s(n,r)):e}function u(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function l(t){return t?t.key:null}function f(t){return t.currentTarget.events[t.type](t)}function p(t,e,n,r,o){if("key"===e);else if("style"!==e)"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?!r&&(r=t.events[e]):t.events={},t.events[e]=n,n?!r&&t.addEventListener(e,f):t.removeEventListener(e,f)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!o?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),(null==n||!1===n)&&t.removeAttribute(e);else if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),s(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}}function d(t,e){var n="string"==typeof t||"number"==typeof t?document.createTextNode(t):(e=e||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName),r=t.attributes;if(r){r.oncreate&&g.push((function(){r.oncreate(n)}));for(var i=0;i<t.children.length;i++)n.appendChild(d(t.children[i]=o(t.children[i]),e));for(var a in r)p(n,a,r[a],null,e)}return n}function h(t,e,n,r){for(var o in s(e,n))n[o]!==("value"==o||"checked"===o?t[o]:e[o])&&p(t,o,n[o],e[o],r);var i=E?n.oncreate:n.onupdate;i&&g.push((function(){i(t,e)}))}function v(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=n.attributes&&n.attributes.onremove;o?o(e,r):r()}var L,m=[].map,y=r&&r.children[0]||null,_=y&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:m.call(e.childNodes,(function(e){return 3===e.nodeType?e.nodeValue:t(e)}))}}(y),g=[],E=!0,O=s(t),b=function t(e,n,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(u(e,O),r)),i&&i!==(n=u(e,O))&&!i.then&&a(O=c(e,s(n,i),O)),i}}(o,r[o]):t(e.concat(o),n[o]=s(n[o]),r[o]=s(r[o]));return r}([],O,s(e));return a(),b}var k=function(t,e){return"number"==typeof t?"".concat(t,"px"):!1===t?e:t},N={grow:function(t){return{flexGrow:t}},shrink:function(t){return{flexShrink:t}},basis:function(t){return{flexBasis:k(t,"auto")}},align:function(t){return{alignItems:t}},justify:function(t){return{justifyContent:t}},padding:function(t){return{margin:k(t,"0")}},margin:function(t){return{margin:k(t,"0")}}},x=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=t.class instanceof Array?t.class:[t.class],r=["osjs-gui"].concat(T(n));t.orientation&&r.push("osjs-gui-"+t.orientation);var o="string"==typeof t.style?{}:Object.assign({},t.style||{}),i=Object.keys(t).reduce((function(e,n){var r=N[n]?N[n](t[n]):void 0;return Object.assign({},e,r)}),o);return P("div",{oncreate:t.oncreate,ondestroy:t.ondestroy,class:r.filter((function(t){return!!t})).join(" "),style:i},e)},R=function(t,e){return P(x,Object.assign({orientation:"horizontal"},t,{class:["osjs-gui-box",t.class]}),e)},C=function(t,e){return P(x,Object.assign({},t,{class:["osjs-gui-box-container",t.class]}),e)},I=E(O((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}))),M=function(t){var e=t&&"object"===I(t)?t.src:t;return P("i",{"data-icon":t&&"object"===I(t)?t.name:void 0,class:"osjs-icon",style:{backgroundImage:"string"==typeof t?"url(".concat(e,")"):void 0}})},D=E(O((function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0}))),F=function(t,e){return Object.keys(t).filter((function(t){return-1===e.indexOf(t)})).reduce((function(e,n){return Object.assign(D({},n,t[n]),e)}),{})},U=function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:250,n=!1;return function(r,o){return t=clearTimeout(t),t=setTimeout((function(){return n=!1}),e),n?(r.preventDefault(),o(r)):(n=!0,!1)}},G=function(t,e,n,r,o){var i=e.oninput||function(){},a=e.onchange||function(){},s=e.onkeydown||function(){},c=o||function(t){return[t.target.value]},u=Object.assign({oninput:function(t){return i.apply(void 0,[t].concat(T(c(t))))},onchange:function(t){return a.apply(void 0,[t].concat(T(c(t))))},onkeydown:function(t){13===t.keyCode&&e.onenter&&e.onenter.apply(e,[t].concat(T(c(t)))),s(t)}},n,F(e,["choices","label","box","oninput","onchange"]));return P(x,Object.assign({},e.box||{},{class:"osjs-gui-field osjs-gui-"+t}),r(u))},H=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return G("button",t,{},(function(n){var r=[];return t.icon&&r.push(P(M,t.icon)),"string"==typeof t.label&&r.push(P("span",{class:"osjs-label"},t.label)),P("button",n,[].concat(r,T(e)))}))},K=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n="number"==typeof t.value?Math.min(100,Math.max(0,Math.abs(t.value))):0,r=P("div",{class:"osjs-gui-progressbar-wrapper"},[P("div",{className:"osjs-gui-progressbar-value",style:{width:n+"%"}}),P("div",{className:"osjs-gui-progressbar-label"},[P("span",{},[n+"%"])])]);return P(x,Object.assign({},t.box||{},{class:["osjs-gui-progressbar",t.class]}),[r].concat(T(e)))},$=function(t){return P("div",{id:"osjs-context-menu",className:"osjs-gui osjs-gui-menu",oncreate:t.oncreate,onupdate:t.onupdate,style:{display:!1===t.visible?"none":"block",top:t.position?t.position.top+"px":0,left:t.position?t.position.left+"px":0}},function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=function(t){var e=[];return"checkbox"===t.type||"boolean"==typeof t.checked?e.push(P("span",{class:"osjs-gui-menu-checkbox "+(t.checked?"active":"")})):t.icon&&e.push(P(M,t.icon)),e.push(P("span",{},t.label)),e},i=function(e,n){if("function"==typeof n.element)return n.element();var i=[P("span",{class:"separator"===n.type?"osjs-gui-menu-separator":"osjs-gui-menu-label "+(n.disabled?"osjs__disabled":"")},o(n))];return n.items&&i.push(t(e,n.items,r+1)),i};return P("ul",{class:""},n.map((function(t){return P("li",{class:"osjs-gui-menu-entry"},[P("div",{class:"osjs-gui-menu-container","data-has-image":!!t.icon||void 0,"data-has-children":!!t.items||void 0,onmouseover:t.items?e.onshow:void 0,ontouchend:t.items?e.onshow:void 0,onclick:function(n){t.items||(t.onclick&&t.onclick(t,n),e.onclick&&e.onclick(t,n,t))}},i(e,t))])})))}(t,t.menu))},V=function(t,e){return P(x,Object.assign({orientation:"vertical"},t,{class:["osjs-gui-toolbar",t.class]}),e)};function W(t,e,n,r){return e._$r=function(){return{}},function(o,i){return P(r||"x-",{key:o.key,id:o.id,class:o.class,oncreate:function(r){var a=j(t,e,(function(t,e){var o=n(t,e);return"function"==typeof o&&(o=o(r._$p,r._$c)),o}),r);r._$p=o,r._$c=i,r._$r=a._$r,r._$u=a.uninit,a.init&&a.init(o),o.oncreate&&o.oncreate(r)},onupdate:function(t){t._$p=o,t._$c=i,t._$r(),o.onupdate&&o.onupdate(t)},ondestroy:function(t){t._$u&&t._$u()},onremove:function(t,e){return o.onremove?void o.onremove(t,e):e()}})}}var z=(W({sizes:[]},{init:function(t){return{sizes:t.sizes||[150]}},setSize:function(t){var e=t.index,n=t.size;return function(t){var r=[].concat(t.sizes);return r[e]=n,{sizes:r}}}},(function(t,e){return function(n,r){var o=n.orientation||"vertical";return P(x,{orientation:o,class:"osjs-gui-panes-inner"},function(t,e,n,r){var o=Array(Math.ceil(n.length/2)).fill(null).map((function(){return P("div",{class:"osjs-gui-panes-spacer",onmousedown:function(t){return function(t,e,n){var r=Math.min,o=t.target,i=t.clientX,a=t.clientY,s=o.previousSibling,c=s.offsetWidth,u=s.offsetHeight,l=Array.from(o.parentNode.children).indexOf(s),f=.8*s.parentNode.offsetWidth,p=.8*s.parentNode.offsetHeight;if(!(0>l)){var d=function(t){t.preventDefault();var o="vertical"===n?c:u;if("vertical"===n){var s=t.clientX-i;o=r(f,o+s)}else{var d=t.clientY-a;o=r(p,o+d)}e.setSize({index:l,size:o})};t.preventDefault(),document.addEventListener("mousemove",d),document.addEventListener("mouseup",(function t(e){e.preventDefault(),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",t)}))}}(t,e,r)}})}));return n.map((function(e,n){var r=t.sizes[n]?t.sizes[n]+"px":void 0;return P("div",{class:"osjs-gui-panes-pane",style:{flex:r?"0 0 ".concat(r):r}},e)})).map((function(t,e){return[t,o[e]]})).reduce((function(t,e){return t.concat(e)})).filter((function(t){return void 0!==t}))}(t,e,r,o))}}),"div"),U()),Y=function(t){return P(x,Object.assign({class:"osjs-gui-list-view"},t.box||{}),function(t){var e,n=function(e){return function(n,r){var o=n.columns[e]||{},i=t.selectedIndex===r,a=o.icon?P(M,o.icon):null,s=[P("span",{},["object"===I(o)?o.label:o])];return a&&s.unshift(a),P("div",{key:n.key,"data-has-icon":!!o.icon||void 0,class:"osjs-gui-list-view-cell"+(i?" osjs__active":""),ontouchstart:function(e){return z(e,(function(){return t.onactivate({data:n.data,index:r,ev:e})}))},ondblclick:function(e){return t.onactivate({data:n.data,index:r,ev:e})},onclick:function(e){return t.onselect({data:n.data,index:r,ev:e})},oncontextmenu:function(e){return t.oncontextmenu({data:n.data,index:r,ev:e})},oncreate:function(e){return t.oncreate({data:n.data,index:r,el:e})}},s)}},r=function(e,r){return P("div",{class:"osjs-gui-list-view-pane",style:r.style||{}},[P("div",{class:"osjs-gui-list-view-header",style:{display:t.hideColumns?"none":void 0}},P("span",{},"object"===I(r)?r.label:r)),P("div",{class:"rows","data-zebra":t.zebra+""},t.rows.map(n(e)))])};return P("div",{class:"osjs-gui-list-view-wrapper",onscroll:function(n){e=clearTimeout(e),e=setTimeout((function(){t.onscroll(n)}),100)},oncreate:function(e){return e.scrollTop=t.scrollTop},onupdate:function(e){0>t.selectedIndex&&(e.scrollTop=t.scrollTop)}},t.columns.map((function(t,e){return r(e,t)})))}(F(t,["box"])))},q=function(t,e){var n=Object.assign({zebra:!0,columns:[],rows:[],onselect:function(t){var n=t.data,r=t.index,o=t.ev;e.select({data:n,index:r,ev:o}),e.setSelectedIndex(r)},onactivate:function(t){var n=t.data,r=t.index,o=t.ev;e.activate({data:n,index:r,ev:o}),e.setSelectedIndex(-1)},oncontextmenu:function(t){var n=t.data,r=t.index,o=t.ev;e.select({data:n,index:r,ev:o}),e.contextmenu({data:n,index:r,ev:o}),e.setSelectedIndex(r)},oncreate:function(t){e.created(t)},onscroll:function(t){e.scroll(t)}},t);return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Y(Object.assign(n,t))}},Z=function(t){return Object.assign({selectedIndex:-1,scrollTop:0},t)},X=function(t){return Object.assign({select:function(){return function(){return{}}},activate:function(){return function(){return{}}},contextmenu:function(){return function(){return{}}},created:function(){return function(){return{}}},scroll:function(){return function(t){return t}},setRows:function(t){return{rows:t}},setColumns:function(t){return{columns:t}},setScrollTop:function(t){return function(){return{scrollTop:t}}},setSelectedIndex:function(t){return function(){return{selectedIndex:t}}}},t||{})},Q=(U(),function(t,e,n){var r=t.labels,o=t.onchange,i=t.oncontextmenu;return(r||[]).map((function(t,r){return P("div",{class:e.selectedIndex===r?"osjs__active":"",oncontextmenu:function(e){(i||function(){})(e,r,t)},onclick:function(e){n.setSelectedIndex(r),(o||function(){})(e,r,t)}},P("span",{},t))}))}),J=function(t,e){return e.map((function(e,n){return P("div",{class:t.selectedIndex===n?"osjs__active":""},e)}))},tt=(W({selectedIndex:0},{init:function(t){return{selectedIndex:t.selectedIndex||0}},setSelectedIndex:function(t){return function(){return{selectedIndex:t}}}},(function(t,e){return function(n,r){return P("div",{class:"osjs-gui-tabs-wrapper"},[P("div",{class:"osjs-gui-tabs-header"},Q(n,t,e)),P("div",{class:"osjs-gui-tabs-panes"},J(t,r))])}}),"div"),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return G("text-field",t,{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"text"},(function(t){return P("input",t)}))}),et=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return G("textarea-field",t,{rows:4},(function(t){return P("textarea",t,e)}))},nt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=function(e){return e instanceof Array?e.map((function(t){return"object"===I(t)?t:{value:t,label:t}})):Object.keys(t.choices||{}).map((function(e){return{value:e,label:t.choices[e]}}))}(t.choices).map((function(e){var n=e.value,r=e.label;return P("option",{value:n,selected:t.value===n},r)}));return G("select-field",t,{selectedIndex:void 0},(function(t){return P("div",{},P("select",t,[].concat(T(n),T(e))))}),(function(t){return[t.target.value,t.target.textContent]}))},rt=function(t){try{return JSON.parse(t)}catch(e){return t}},ot=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return G("toggle-field",t,{type:"checkbox",checked:!1},(function(n){return P("label",{},[P("input",n),P("span",{class:"osjs-toggle-input"}),P("span",{class:"osjs-toggle-label"},[t.label||""].concat(T(e)))])}),(function(e){return["radio"===t.type?rt(e.target.value):!!e.target.checked]}))},it=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return G("range-field",t,{type:"range"},(function(t){return P("input",t)}))},at=(W({active:!0},{init:function(t){return{ative:!1!==t.active}},ontoggle:function(t){var e=t.ev,n=t.active;return(t.ontoggle||function(){})(e,n),{active:n}}},(function(t,e){return function(n,r){return P(x,Object.assign({},n.box||{},{class:["osjs-gui-expander-wrapper"]}),[P("div",{class:"osjs-gui-expander-header",onclick:function(r){return e.ontoggle({ev:r,active:!t.active,ontoggle:n.ontoggle})}},[P("div",{class:"osjs-gui-expander-header-icon","data-active":t.active+""}),P("div",{class:"osjs-gui-expander-header-label"},n.label)]),P("div",{class:"osjs-gui-expander-content",style:{display:!1===t.active?"none":void 0}},r)])}}),"div"),E(O((function(t){function e(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){function a(t){e(c,o,i,a,s,"next",t)}function s(t){e(c,o,i,a,s,"throw",t)}var c=t.apply(n,r);a(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0})))),st=E(O((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0}))),ct=E(O((function(t){function e(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0}))),ut=O((function(t){var e=function(t){function e(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}function n(t,e,n,r){var i=e&&e.prototype instanceof o?e:o,a=Object.create(i.prototype),s=new d(r||[]);return a._invoke=u(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function o(){}function i(){}function a(){}function s(t){["next","throw","return"].forEach((function(n){e(t,n,(function(t){return this._invoke(n,t)}))}))}function c(t,e){function n(o,i,a,s){var c=r(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==g()(l)&&y.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function u(t,e,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return v()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=l(s,n);if(c){if(c===w)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=r(t,e,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===w)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===L){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=L,l(t,e),"throw"===e.method))return w;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var o=r(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,w;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=L),e.delegate=null,w):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function h(t){if(t){var e=t[E];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=L,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:L,done:!0}}var L,m=Object.prototype,y=m.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},E=_.iterator||"@@iterator",O=_.asyncIterator||"@@asyncIterator",b=_.toStringTag||"@@toStringTag";try{e({},"")}catch(t){e=function(t,e,n){return t[e]=n}}t.wrap=n;var w={},A={};e(A,E,(function(){return this}));var S=Object.getPrototypeOf,B=S&&S(S(h([])));B&&B!==m&&y.call(B,E)&&(A=B);var T=a.prototype=o.prototype=Object.create(A);return i.prototype=a,e(T,"constructor",a),e(a,"constructor",i),i.displayName=e(a,b,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,e(t,b,"GeneratorFunction")),t.prototype=Object.create(T),t},t.awrap=function(t){return{__await:t}},s(c.prototype),e(c.prototype,O,(function(){return this})),t.AsyncIterator=c,t.async=function(e,r,o,i,a){void 0===a&&(a=Promise);var s=new c(n(e,r,o,i),a);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},s(T),e(T,b,"Generator"),e(T,E,(function(){return this})),e(T,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=h,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=L,this.done=!1,this.delegate=null,this.method="next",this.arg=L,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=L)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=L),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),s=y.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n,r=this.tryEntries.length-1;0<=r;--r)if((n=this.tryEntries[r]).tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,w):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).finallyLoc===t)return this.complete(e.completion,e.afterLoc),p(e),w},catch:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;p(e)}return o}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:h(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=L),w}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==("undefined"==typeof globalThis?"undefined":g()(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),lt=function(t){return t(),setTimeout(t,100)},ft=function(){function t(e){st(this,t),this.core=e,this.callback=function(){},this.actions=null,this.$element=document.createElement("div")}return ct(t,[{key:"destroy",value:function(){this.callback=null,this.actions=null}},{key:"init",value:function(){var t,e=this;this.$element.className="osjs-system-context-menu",this.core.$root.appendChild(this.$element);var n=!1;this.actions=j({visible:!1,menu:[],position:{top:0,left:0}},{clamp:function(n){return function(r){if(n=n||document.querySelector("#osjs-context-menu"),clearTimeout(t),n){var o=function(t,e,n){var r={},o=n.top+e.offsetHeight,i=n.left+e.offsetWidth,a=t.offsetHeight-n.top,s=t.offsetWidth-n.left,c=i>t.offsetWidth,u=o>t.offsetHeight;return u&&t.offsetHeight>e.offsetHeight&&(r.top=t.offsetHeight-e.offsetHeight-a),c&&(r.left=t.offsetWidth-e.offsetWidth-s),u||c?r:null}(e.core.$root,n,r.position);if(o)return{position:o}}return{}}},onshow:function(n){return function(){t=lt((function(){return function(t,e){var n=e.target.querySelector("ul");n&&(n.classList.contains("osjs-gui-menu-container")&&(n=n.parentNode.parentNode),n&&n.offsetParent)&&(n.classList.remove("clamp-right"),n.getBoundingClientRect().right>t.offsetWidth&&n.classList.add("clamp-right"))}(e.core.$root,n)}))}},show:function(t){return function(r,o){var i=t.menu,a=t.position;if(t.toggle&&n)return o.hide();if(a instanceof Event)a={left:a.clientX,top:a.clientY};else if(a instanceof Element){var s=a.getBoundingClientRect();a={left:s.left,top:s.top+s.height}}return e.callback=function(e,n,r){t.callback&&t.callback(e,n),!1!==r.closeable&&o.hide()},n=!0,e.onclose=t.onclose,lt((function(){return o.clamp()})),{visible:!0,menu:i||[],position:a||{top:0,left:0}}}},hide:function(){return function(){return n&&setTimeout((function(){return n=!1}),0),e.onclose&&e.onclose(),e.onclose=null,e.callback=null,{visible:!1}}}},function(t){return function(e,n){return P($,{position:e.position,visible:e.visible,menu:e.menu,onclick:t,onshow:n.onshow})}}((function(){!e.core.destroyed&&e.callback&&e.callback.apply(e,arguments)})),this.$element)}},{key:"show",value:function(){var t;return this.actions?(t=this.actions).show.apply(t,arguments):null}},{key:"hide",value:function(){var t;return this.actions?(t=this.actions).hide.apply(t,arguments):null}}]),t}(),pt=function(t){var e=t.target,n="TEXTAREA"===e.tagName;return n||"INPUT"!==e.tagName||(n=-1!==["text","password","number","email"].indexOf(e.type)),n},dt=(ct((function t(e){st(this,t),this.core=e,this.contextmenu=new ft(e)}),[{key:"destroy",value:function(){var t=document.getElementById("osjs-context-menu");t&&t.remove(),this.contextmenu.destroy()}},{key:"init",value:function(){var t=at(ut.mark((function t(){var e,n=this;return ut.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={show:function(){var t;return(t=n.contextmenu).show.apply(t,arguments)},hide:function(){var t;return(t=n.contextmenu).hide.apply(t,arguments)}},this.core.instance("osjs/contextmenu",(function(){return arguments.length?e.show.apply(e,arguments):e})),this.core.$root.addEventListener("contextmenu",(function(t){pt(t)||(t.stopPropagation(),t.preventDefault())}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=this,e=function(e){var n=document.getElementById("osjs-context-menu");(!n||!n.contains(e.target))&&t.contextmenu&&t.contextmenu.hide()};this.core.$root.addEventListener("click",e,!0),this.core.once("destroy",(function(){t.core.$root.removeEventListener("click",e,!0)})),this.contextmenu.init()}}]),0),ht=function(){function t(e,n,r,o){a()(this,t),this.core=e,this.args=n,this.callback=o||function(){},this.options=function(t,e){return L({id:null,className:"unknown",defaultValue:null,buttons:[],sound:null,window:{id:t.id||"Dialog_"+String(dt),title:"Dialog",attributes:{gravity:"center",resizable:!1,maximizable:!1,minimizable:!1,sessionable:!1,classNames:["osjs-dialog","osjs-".concat(t.className||"unknown","-dialog")],minDimension:{width:300,height:100}}}},t,{isMergeableObject:y.a})}(r),this.win=null,this.value=void 0,this.calledBack=!1;var i=e.make("osjs/locale").translate;this.buttons=this.options.buttons.map((function(t){return"string"==typeof t?function(t,e){var n=function(t){return{ok:{label:t("LBL_OK"),positive:!0},close:{label:t("LBL_CLOSE")},cancel:{label:t("LBL_CANCEL")},yes:{label:t("LBL_YES"),positive:!0},no:{label:t("LBL_NO")}}}(e);return n[t]?Object.assign({},{name:t},n[t]):{label:t,name:t}}(t,i):{label:t.label||"button",name:t.name||"unknown"}})),dt++}return c()(t,[{key:"destroy",value:function(){this.win&&this.win.destroy(),this.win=null,this.callback=null}},{key:"render",value:function(t,e){var n=this,r=L(this.options.window||{},t,{isMergeableObject:y.a});return this.win=this.core.make("osjs/window",r),this.win.on("keydown",(function(t,e){27===t.keyCode&&n.emitCallback(n.getNegativeButton(),null,!0)})),this.win.on("dialog:button",(function(t,e){n.emitCallback(t,e,!0)})),this.win.on("destroy",(function(){n.emitCallback("destroy")})),this.win.on("close",(function(){n.emitCallback("cancel",void 0,!0)})),this.win.on("render",(function(){n.win.focus();var t=n.getNegativeButton(),e=t?n.win.$content.querySelector("button[name=".concat(t,"]")):null;e&&e.focus(),n.playSound()})),this.win.init(),this.win.render(e),this.win.focus(),this}},{key:"createView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(R,{grow:1,shrink:1},[].concat(o()(t),[u(V,{class:"osjs-dialog-buttons"},o()(this.createButtons(e.buttons||{})))]))}},{key:"createButtons",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(e,n){t.win.emit("dialog:button",e,n)};return this.buttons.map((function(t){return u(H,Object.assign({},{disabled:!1===e[t.name],onclick:function(e){return n(t.name,e)}},t))}))}},{key:"emitCallback",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.calledBack||(this.calledBack=!0,console.debug("Callback in dialog",t,e,n),this.callback(t,this.getValue(),e),n&&this.destroy())}},{key:"playSound",value:function(){if(this.core.has("osjs/sounds")){var t=this.options.sound;if(t)return this.core.make("osjs/sounds").play(t),!0}return!1}},{key:"getPositiveButton",value:function(){var t=this.buttons.find((function(t){return!0===t.positive}));return t?t.name:null}},{key:"getNegativeButton",value:function(){var t=this.buttons.find((function(t){return!t.positive}));return t?t.name:null}},{key:"getValue",value:function(){return void 0===this.value?this.options.defaultValue:this.value}}]),t}(),vt=n(9),Lt=n.n(vt),mt=n(8),yt=n.n(mt),_t=n(3),gt=n.n(_t),Et=n(4),Ot=n.n(Et),bt=n(5),wt=n.n(bt),At=n(0),St=n.n(At),Bt=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o){return a()(this,n),void 0===(r=Object.assign({},{title:"Alert",type:"info",message:""},r)).sound&&(r.sound="error"===r.type?"bell":"message"),e.call(this,t,r,{className:"alert",sound:r.sound,window:{title:r.title,attributes:{ontop:"error"===r.type,minDimension:{width:400,height:220}}},buttons:["close"]},o)}return c()(n,[{key:"render",value:function(t){var e=this;gt()(St()(n.prototype),"render",this).call(this,t,(function(t){var n=[u("div",{class:"osjs-dialog-message"},String(e.args.message))];if("error"===e.args.type){var r=e.args.error,o=r instanceof Error?"".concat(r.message,"\n\n").concat(r.stack||"No stack"):r;n.push(u(et,{value:o,readonly:!0,placeholder:e.args.message}))}l({},{},(function(t,r){return e.createView([u(R,{grow:1},n)])}),t)}))}}]),n}(ht),Tt=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o){a()(this,n);var i=void 0===r.yesno||!0===r.yesno,s=r.buttons instanceof Array?r.buttons:i?["yes","no"]:["ok","cancel"];return e.call(this,t,r,{className:"confirm",window:{title:r.title||"Confirm",attributes:{minDimension:{height:140}}},buttons:s},o)}return c()(n,[{key:"render",value:function(t){var e=this;gt()(St()(n.prototype),"render",this).call(this,t,(function(t){l({},{},(function(t,n){return e.createView([u(R,{grow:1},[u("div",{class:"osjs-dialog-message"},String(e.args.message))])])}),t)}))}}]),n}(ht),Pt=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o){var i;return a()(this,n),(i=e.call(this,t,Object.assign({},{value:"",placeholder:""},r),{className:"prompt",buttons:["ok","cancel"],window:{title:r.title||"Prompt",attributes:{minDimension:{width:500,height:200}}}},o)).value=i.args.value,i}return c()(n,[{key:"render",value:function(t){var e=this;gt()(St()(n.prototype),"render",this).call(this,t,(function(t){l({value:e.args.value},{setValue:function(t){return function(n){return e.value=t,{value:t}}}},(function(t,n){return e.createView([u(R,{grow:1,padding:!1},[u(R,{class:"osjs-dialog-message"},String(e.args.message)),u(tt,{value:t.value,placeholder:e.args.placeholder,onenter:function(t,r){n.setValue(r),e.emitCallback(e.getPositiveButton(),t,!0)},oninput:function(t,e){return n.setValue(e)}})])])}),t)}))}}]),n}(ht),jt=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o){var i;return a()(this,n),(i=e.call(this,t,r,{className:"progress",buttons:r.buttons||["cancel"],window:{title:r.title||"Progress",attributes:{minDimension:{width:500,height:200}}}},o)).value=i.args.progress||0,i.status=i.args.status||"",i.app=null,i}return c()(n,[{key:"render",value:function(t){var e=this;gt()(St()(n.prototype),"render",this).call(this,t,(function(t){e.app=l({progress:e.value,status:e.status},{setProgress:function(t){return function(e){return{progress:t}}},setStatus:function(t){return function(e){return{status:t}}}},(function(t,n){return e.createView([u(R,{grow:1,shrink:1},[u("div",{class:"osjs-dialog-message"},String(e.args.message)),u("div",{class:"osjs-dialog-status"},String(t.status)),u(K,{value:t.progress})])])}),t)}))}},{key:"setProgress",value:function(t){this.app.setProgress(t)}},{key:"setStatus",value:function(t){this.app.setStatus(t)}}]),n}(ht),kt=n(6),Nt=n.n(kt),xt=n(15),Rt=n.n(xt),Ct=function(t){var e=t.r,n=t.g,r=t.b;return"#"+[parseInt(e,10).toString(16),parseInt(n,10).toString(16),parseInt(r,10).toString(16)].map((function(t){return 1===String(t).length?"0"+String(t):t})).join("").toUpperCase()},It=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o){var i;a()(this,n),(i=e.call(this,t,r,{className:"color",buttons:["ok","cancel"],window:{title:r.title||"Select Color",attributes:{minDimension:{width:500,height:260}}}},o)).value={r:0,g:0,b:0,hex:"#000000"};var s,c,u,l=r.color;return l&&("string"==typeof l?("#"!==l.charAt(0)&&(l="#"+l),i.value=Object.assign({},i.value,(s=r.color,c=parseInt(s.replace("#",""),16),(u={}).r=(c&255<<16)>>16,u.g=(65280&c)>>8,u.b=255&c,u)),i.value.hex=r.color):(i.value=Object.assign({},i.value,r.color),i.value.hex=Ct(i.value))),i}return c()(n,[{key:"render",value:function(t){var e=this;gt()(St()(n.prototype),"render",this).call(this,t,(function(t){var n=function(t,e){var n,r=document.createElement("canvas");r.width=98,r.height=98;var o=r.getContext("2d");return(n=o.createLinearGradient(0,0,o.canvas.width,0)).addColorStop(0,"rgb(255,   0,   0)"),n.addColorStop(.15,"rgb(255,   0, 255)"),n.addColorStop(.33,"rgb(0,     0, 255)"),n.addColorStop(.49,"rgb(0,   255, 255)"),n.addColorStop(.67,"rgb(0,   255,   0)"),n.addColorStop(.84,"rgb(255, 255,   0)"),n.addColorStop(1,"rgb(255,   0,   0)"),o.fillStyle=n,o.fillRect(0,0,o.canvas.width,o.canvas.height),(n=o.createLinearGradient(0,0,0,o.canvas.height)).addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0)"),n.addColorStop(.5,"rgba(0,     0,   0, 0)"),n.addColorStop(1,"rgba(0,     0,   0, 1)"),o.fillStyle=n,o.fillRect(0,0,o.canvas.width,o.canvas.height),r}(),r=Object.assign({},e.value),o=function(t,e,n){return u(R,{orientation:"vertical",align:"center",padding:!1},[u(R,{shrink:1},u("div",{},t.toUpperCase())),u(it,{box:{grow:1},min:0,max:255,value:e,oncreate:function(t){return t.value=e},oninput:function(e,r){n.setComponent({color:t,value:r}),n.updateHex()}}),u(tt,{box:{shrink:1,basis:"5em"},value:String(e),oninput:function(e,r){n.setComponent({color:t,value:r}),n.updateHex()}})])},i=l(r,{setColor:function(t){return function(e){return t}},setComponent:function(t){var n=t.color,r=t.value;return function(t){return e.value[n]=r,Nt()({},n,r)}},updateHex:function(){return function(t){var n=Ct(t);return e.value.hex=n,{hex:n}}}},(function(t,r){return e.createView([u(R,{orientation:"vertical",grow:1,shrink:1},[u(C,{orientation:"horizontal"},[u("div",{class:"osjs-gui-border",style:{display:"inline-block"},oncreate:function(t){return t.appendChild(n)}}),u(tt,{value:t.hex,style:{width:"100px",color:t.hex}})]),u(R,{padding:!1,grow:1,shrink:1},[o("r",t.r,r),o("g",t.g,r),o("b",t.b,r)])])])}),t);n.addEventListener("click",(function(t){var e=function(t,e){var n=t.clientX,r=t.clientY,o=e.getBoundingClientRect(),i=n-o.x,a=r-o.y,s=e.getContext("2d").getImageData(i,a,1,1).data,c=Rt()(s,3),u=c[0],l=c[1],f=c[2];return{r:u,g:l,b:f,hex:Ct({r:u,g:l,b:f})}}(t,n);e&&(i.setColor(e),i.updateHex())}))}))}}]),n}(ht),Mt=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o){var i;return a()(this,n),r=Object.assign({},{title:"Choose Font",minSize:6,maxSize:48,unit:"px",name:"Roboto",size:10,style:"regular",text:"The quick brown fox jumps over the lazy dog",controls:["size","name","style"],fonts:["Roboto","arial","sans-serif","monospace"]},r),(i=e.call(this,t,r,{className:"info",window:{title:r.title,attributes:{minDimension:{width:400,height:200}}},buttons:["ok","cancel"]},o)).value={name:i.args.name,size:i.args.size,style:i.args.style},i}return c()(n,[{key:"render",value:function(t){var e=this,r=Array(this.args.maxSize-this.args.minSize).fill(0).map((function(t,n){return e.args.minSize+n})).reduce((function(t,e){return Object.assign(t,Nt()({},e,e))}),{}),o=this.args.fonts.reduce((function(t,e){var n=e.toLowerCase();return Object.assign(t,Nt()({},n,e))}),{}),i={regular:"Regular",bold:"Bold",italic:"Italic"},a=Object.assign({},this.value),s={setSize:function(t){return function(n){return e.value.size=t,{size:t}}},setFont:function(t){return function(n){return e.value.name=t,{name:t}}},setStyle:function(t){return function(n){return e.value.style=t,{style:t}}}};gt()(St()(n.prototype),"render",this).call(this,t,(function(t){l(a,s,(function(t,n){return e.createView([u(V,{},[u(nt,{box:{grow:1,style:{display:-1!==e.args.controls.indexOf("size")?"flex":"none"}},value:t.size,choices:r,onchange:function(t,e){return n.setSize(e)}}),u(nt,{box:{grow:1,style:{display:-1!==e.args.controls.indexOf("name")?"flex":"none"}},value:t.name.toLowerCase(),choices:o,onchange:function(t,e){return n.setFont(e)}}),u(nt,{box:{grow:1,style:{display:-1!==e.args.controls.indexOf("style")?"flex":"none"}},value:t.size,choices:i,onchange:function(t,e){return n.setStyle(e)}})]),u(et,{box:{grow:1},value:e.args.text,style:{fontFamily:t.name,fontSize:"".concat(t.size).concat(e.args.unit),fontWeight:"bold"===t.style?"bold":"normal",fontStyle:"bold"!==t.style?t.style:"normal",height:"4rem",overflow:"hidden",whiteSpace:"nowrap"}})])}),t)}))}}]),n}(ht),Dt=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o){a()(this,n),"string"==typeof(r=Object.assign({},{title:null,type:"open",filetype:"file",path:t.config("vfs.defaultPath"),filename:null,mime:[]},r)).path&&(r.path={path:r.path});try{r.path=Object.assign({isDirectory:!0,filename:r.path.path.split(":/")[1].split("/").pop()||""},r.path)}catch(t){console.warn(t)}var i=t.make("osjs/locale").translate,s=r.title?r.title:"open"===r.type?i("LBL_OPEN"):i("LBL_SAVE");return e.call(this,t,r,{className:"file",window:{title:s,attributes:{resizable:!0},dimension:{width:400,height:400}},buttons:["ok","cancel"]},o)}return c()(n,[{key:"render",value:function(t){var e=this,r=function(t){return e.core.make("osjs/fs").icon(t)},o=this.args.path;gt()(St()(n.prototype),"render",this).call(this,t,(function(t){var n,i=l({mount:o?(n=o.path,n.split(":")[0]+":/"):null,filename:e.args.filename,listview:Z({columns:[{label:"Name"},{label:"Type"},{label:"Size"}]}),buttons:{ok:"open"===e.args.type&&"directory"===e.args.filetype||!!e.args.filename}},{_readdir:function(t){var e=t.path,n=t.files;return function(t,o){var i=t.listview;return i.selectedIndex=-1,i.rows=n.map((function(t){return{columns:[{label:t.filename,icon:r(t)},t.mime,t.humanSize],data:t}})),{path:e,listview:i}}},setButtonState:function(t){return function(e){return{buttons:Object.assign({},e.buttons,t)}}},setMountpoint:function(t){return function(e,n){return n.setPath({path:t}),{mount:t}}},setPath:function(t){return function(){var n=Lt()(yt.a.mark((function n(r,o){var i;return yt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.core.make("osjs/vfs").readdir(t,{filter:function(t){return"directory"===e.args.filetype?!0===t.isDirectory:!e.args.mime.length||!t.mime||e.args.mime.some((function(e){return new RegExp(e).test(t.mime)}))}});case 2:i=n.sent,e.args.path=t,o._readdir({path:t.path,files:i}),"file"===e.args.filetype&&o.setButtonState({ok:"save"===e.args.type&&!!e.args.filename});case 6:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},setFilename:function(t){return function(e){return{filename:t}}},listview:X({select:function(t){var n=t.data;n.isFile&&i.setFilename(n.filename),e.value=n.isFile?n:null,"file"===e.args.filetype&&n.isFile&&i.setButtonState({ok:!0})},activate:function(t){var n=t.data,r=t.ev;n.isDirectory?i.setPath(n):(e.value=n.isFile?n:null,e.emitCallback(e.getPositiveButton(),r,!0))}})},(function(t,n){return e.createView([u(nt,{choices:(r=e.core,r.make("osjs/fs").mountpoints(!0).filter((function(t){return!(t.attributes.readOnly&&"restricted"===t.attributes.visibility)})).reduce((function(t,e){return Object.assign(t,Nt()({},e.root,e.label))}),{})),onchange:function(t,e){return i.setMountpoint(e)},value:t.mount}),u(q(Object.assign({box:{grow:1,shrink:1}},t.listview),n.listview)),u(tt,{placeholder:"directory"===e.args.filetype?"Directory Name":"File Name",value:t.filename,onenter:function(t,n){return e.emitCallback(e.getPositiveButton(),t,!0)},oninput:function(t){var e=t.target.value;n.setButtonState({ok:!!e}),n.setFilename(e)},box:{style:{display:"save"===e.args.type?null:"none"}}})],t);var r}),t);i.setPath(o)}))}},{key:"emitCallback",value:function(t,e){var r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.calledBack){var i=this.getValue(),a=function(){return gt()(St()(n.prototype),"emitCallback",r).call(r,t,e,o)},s="save"===this.args.type,c="cancel"===t,u=this.core.has("osjs/vfs"),l=function(t){return r.core.make("osjs/dialog","confirm",{message:"Do you want to overwrite ".concat(i.path,"?")},{parent:r.win,attributes:{modal:!0}},(function(e){"yes"===e&&t()}))};i&&s&&u&&!c?this.core.make("osjs/vfs").exists(i).then((function(t){t?l((function(){return a()})):a()})).catch((function(t){console.error(t),a()})):a()}}},{key:"getValue",value:function(){if("save"===this.args.type){var t=this.args.path.path,e=this.win.$content.querySelector("input[type=text]").value;return e?Object.assign({},this.args.path,{filename:e,path:t.replace(/\/?$/,"/")+e}):void 0}return"directory"===this.args.filetype?this.args.path:gt()(St()(n.prototype),"getValue",this).call(this)}}]),n}(ht),Ft=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o){var i;return a()(this,n),r=Object.assign({},{title:"Choice",message:"",value:void 0,choices:{}},r),(i=e.call(this,t,r,{className:"alert",window:{title:r.title,attributes:{ontop:"error"===r.type},dimension:{width:400,height:200}},buttons:["ok","close"]},o)).value=void 0!==r.value?i.args.value:Object.keys(i.args.choices)[0],i}return c()(n,[{key:"render",value:function(t){var e=this;gt()(St()(n.prototype),"render",this).call(this,t,(function(t){l({current:e.value},{setCurrent:function(t){return function(n){return e.value=t,{current:t}}}},(function(t,n){return e.createView([u(R,{grow:1},[u("div",{class:"osjs-dialog-message"},String(e.args.message)),u(nt,{choices:e.args.choices,value:t.current,onchange:function(t,e){return n.setCurrent(e)}})])])}),t)}))}}]),n}(ht),Ut=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o){var i;return a()(this,n),r=Object.assign({},{title:"DefaultApplication",message:"",choices:{}},r),(i=e.call(this,t,r,{className:"alert",window:{title:r.title,dimension:{width:400,height:200}},buttons:["ok","close"]},o)).value={value:r.value||Object.keys(i.args.choices)[0],checked:!0===r.checked},i}return c()(n,[{key:"render",value:function(t){var e=this,r=function(t,n){var r=Object.assign({},t,n);return e.value=r,r};gt()(St()(n.prototype),"render",this).call(this,t,(function(t){l(e.value,{setValue:function(t){return function(e){return r(e,{value:t})}},setChecked:function(t){return function(e){return r(e,{checked:t})}}},(function(t,n){return e.createView([u(R,{grow:1},[u("div",{class:"osjs-dialog-message"},String(e.args.message)),u(nt,{choices:e.args.choices,value:t.value,onchange:function(t,e){return n.setValue(e)}}),u(ot,{label:e.args.label||"Use as default",checked:t.checked,onchange:function(t,e){return n.setChecked(e)}})])])}),t)}))}}]),n}(ht);function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){Nt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kt=function(t){Ot()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St()(t);if(e){var o=St()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt()(this,n)}}(n);function n(t,r,o,i){var s;return a()(this,n),(s=e.call(this,t,{},r,i)).valueCallback=o,s}return c()(n,[{key:"render",value:function(t){var e=this;return gt()(St()(n.prototype),"render",this).call(this,{},(function(n,r){return t(n,r,e)}))}},{key:"renderCustom",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.render((function(r,o,i){l({},{},(function(){return e.createView([u("div",{style:Ht({"flex-grow":1,"flex-shrink":1,position:"relative"},n),oncreate:function(e){return t(e,o,i)}})])}),r)}))}},{key:"getValue",value:function(){return this.valueCallback(this)}}]),n}(ht),$t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a()(this,t),this.core=e,this.registry=Object.assign({alert:Bt,confirm:Tt,prompt:Pt,progress:jt,color:It,font:Mt,file:Dt,choice:Ft,defaultApplication:Ut},n.registry||{})}var e;return c()(t,[{key:"destroy",value:function(){}},{key:"init",value:(e=Lt()(yt.a.mark((function t(){var e=this;return yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.core.instance("osjs/dialog",(function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(arguments.length<=2?0:arguments.length-2)>1?arguments.length<=2?void 0:arguments[2]:{},i=(n=2+((arguments.length<=2?0:arguments.length-2)>1?1:0))<2||arguments.length<=n?void 0:arguments[n];if(!e.registry[t])throw new Error("Dialog '".concat(t,"' does not exist"));if("function"!=typeof i)throw new Error("Dialog requires a callback");var a=new e.registry[t](e.core,r,i);return a.render(o),a})),this.core.singleton("osjs/dialogs",(function(){return{create:function(t,n,r){return new Kt(e.core,t,n,r)},register:function(t,n){e.registry[t]&&console.warn("Overwriting previously registered dialog",t),e.registry[t]=n}}}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"start",value:function(){}}]),t}()}])}]]);
//# sourceMappingURL=vendors~osjs.js.map